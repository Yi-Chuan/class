<!doctype html>
<html>
<head>
	<meta charset=UTF-8"utf-8">
	<title>Laravel 5.1 ä¸­æ–‡æ–‡æ¡£ï¼šç”¨æˆ·è®¤è¯
</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="author" content="@summerblue">
	<meta name="description" content="ç”¨æˆ·è®¤è¯,ä»‹ç»,æ•°æ®åº“æ³¨æ„äº‹é¡¹,è®¤è¯å¿«é€Ÿå…¥é—¨,è·¯ç”±,è§†å›¾,è®¤è¯,è·å–å·²è®¤è¯ä¹‹ç”¨æˆ·,é™åˆ¶è·¯ç”±è®¿é—®,é”™è¯¯å°è¯•é™åˆ¶,æ‰‹åŠ¨è®¤è¯ç”¨æˆ·,è®°ä½ç”¨æˆ·,å…¶å®ƒè®¤è¯æ–¹æ³•,HTTP åŸºç¡€è®¤è¯,æ— çŠ¶æ€ HTTP åŸºç¡€è®¤è¯,é‡è®¾å¯†ç ,é‡è®¾æ•°æ®åº“,è·¯ç”±,è§†å›¾,é‡è®¾å¯†ç å,ç¤¾ä¼šåŒ–è®¤è¯,æ·»åŠ è‡ªå®šä¹‰è®¤è¯é©±åŠ¨,äº‹ä»¶,ä»‹ç»,Laravel è®©ç”¨æˆ·è®¤è¯å˜å¾—éå¸¸ç®€å•ã€‚å‡ ä¹æ‰€æœ‰çš„è®¤è¯è¡Œä¸ºéƒ½å¯ä»¥é€šè¿‡é…ç½®ä¿¡æ¯ config/auth.php æ¥æ§...
">
	<meta name="keywords" content="ç”¨æˆ·è®¤è¯,laravel5.1æ–‡æ¡£,laravel5.1ä¸­æ–‡æ–‡æ¡£,laravelä¸­å›½,laravelä¸­æ–‡,laravelæ¡†æ¶ä¸­æ–‡,laravelæ–‡æ¡£,laravelæ¡†æ¶ä¸­å›½,laravelä¸­æ–‡æ–‡æ¡£
">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--[if lte IE 9]>
		<script src="html5shiv.min.js" tppabs="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
	<![endif]-->
	<link rel="stylesheet" href="laravel.css" tppabs="http://laravel-china.org/assets/css/laravel.css">
	<style media="screen">
		div.main-content {
		  display: none;
		}
		.loading-effect {
			position: fixed;
			left: 50%;
			top:300px;
		    z-index: -1;
		}
	</style>
</head>
<body class="docs language-php ">

	<span class="overlay"></span>

	<div class="loading-effect">
		<div class="loader-inner line-scale">
		      <div></div>
		      <div></div>
		      <div></div>
		      <div></div>
		      <div></div>
		  </div>
	</div>


	<div class="main-content">

		<nav class="main">
			<div class="container">
				<a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/" class="brand">
					<img src="laravel-logo.png" tppabs="http://laravel-china.org/assets/img/laravel-logo.png" height="30">
					Laravel
				</a>

				<div class="responsive-sidebar-nav">
					<a href="#" class="toggle-slide menu-link btn">&#9776;</a>
				</div>

									<div class="switcher">
	<div class="dropdown">
		<button class="btn dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
			<!--<span class="faint">v</span> -->
			5.1
			<span class="caret"></span>
		</button>
		<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
							<li role="presentation">
					<a role="menuitem" tabindex="-1" href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">5.1</a>
				</li>
							<li role="presentation">
					<a role="menuitem" tabindex="-1" href="4.2.htm" tppabs="http://laravel-china.org/docs/4.2/authentication">4.2</a>
				</li>
					</ul>
	</div>
</div>
				
				<ul class="main-nav">
					<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
				</ul>
			</div>
		</nav>

		<nav id="slide-menu" class="slide-menu" role="navigation">

	<div class="brand">
		<a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/">
			<img src="laravel-logo-white.png" tppabs="http://laravel-china.org/assets/img/laravel-logo-white.png" height="50">
		</a>
	</div>

	<ul class="slide-main-nav">
		<li><a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/">Home</a></li>
		<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
	</ul>

	<div class="slide-docs-nav">
		<h2>æ–‡æ¡£</h2>

		<a type="button" class="turnofflight"><i class="fa fa-lightbulb-o"></i> <i class="fa fa-star-o"></i> å¤œé—´æ¨¡å¼ </a>
		<ul>
<li>å‰è¨€
<ul>
<li><a href="about.htm" tppabs="http://laravel-china.org/docs/5.1/about">ç¿»è¯‘è¯´æ˜</a></li>
<li><a href="releases.htm" tppabs="http://laravel-china.org/docs/5.1/releases">å‘è¡Œè¯´æ˜</a></li>
<li><a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a></li>
<li><a href="contributions.htm" tppabs="http://laravel-china.org/docs/5.1/contributions">è´¡çŒ®å¯¼å¼•</a></li>
<li><a href="javascript:if(confirm('http://laravel-china.org/api/5.1  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/api/5.1'" tppabs="http://laravel-china.org/api/5.1">API æ–‡æ¡£</a></li>
</ul></li>
<li>ç¯å¢ƒé…ç½®
<ul>
<li><a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a></li>
<li><a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a></li>
</ul></li>
<li>åŸºæœ¬åŠŸèƒ½
<ul>
<li><a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a></li>
<li><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a></li>
<li><a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a></li>
<li><a href="requests.htm" tppabs="http://laravel-china.org/docs/5.1/requests">è¯·æ±‚</a></li>
<li><a href="responses.htm" tppabs="http://laravel-china.org/docs/5.1/responses">å“åº”</a></li>
<li><a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a></li>
<li><a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿</a></li>
</ul></li>
<li>æ•™ç¨‹
<ul>
<li><a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åˆçº§ä»»åŠ¡æ¸…å•</a></li>
<li><a href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">ä¸­çº§ä»»åŠ¡æ¸…å•</a></li>
</ul></li>
<li>ç³»ç»Ÿæ¶æ„
<ul>
<li><a href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="structure.htm" tppabs="http://laravel-china.org/docs/5.1/structure">åº”ç”¨ç¨‹åºç»“æ„</a></li>
<li><a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a></li>
<li><a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a></li>
<li><a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">Contracts</a></li>
<li><a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">Facades</a></li>
</ul></li>
<li>ç³»ç»ŸæœåŠ¡
<ul>
<li><a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a></li>
<li><a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ</a></li>
<li><a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ</a></li>
<li><a href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing">äº¤æ˜“</a></li>
<li><a href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">ç¼“å­˜</a></li>
<li><a href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ</a></li>
<li><a href="elixir.htm" tppabs="http://laravel-china.org/docs/5.1/elixir">Elixir</a></li>
<li><a href="encryption.htm" tppabs="http://laravel-china.org/docs/5.1/encryption">åŠ å¯†ä¸è§£å¯†</a></li>
<li><a href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors">é”™è¯¯ä¸æ—¥å¿—</a></li>
<li><a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a></li>
<li><a href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨</a></li>
<li><a href="hashing.htm" tppabs="http://laravel-china.org/docs/5.1/hashing">å“ˆå¸Œ</a></li>
<li><a href="helpers.htm" tppabs="http://laravel-china.org/docs/5.1/helpers">è¾…åŠ©å‡½æ•°</a></li>
<li><a href="localization.htm" tppabs="http://laravel-china.org/docs/5.1/localization">æœ¬åœ°åŒ–</a></li>
<li><a href="mail.htm" tppabs="http://laravel-china.org/docs/5.1/mail">é‚®ä»¶</a></li>
<li><a href="packages.htm" tppabs="http://laravel-china.org/docs/5.1/packages">æ‰©å±•åŒ…å¼€å‘</a></li>
<li><a href="pagination.htm" tppabs="http://laravel-china.org/docs/5.1/pagination">åˆ†é¡µ</a></li>
<li><a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a></li>
<li><a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a></li>
<li><a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">Session</a></li>
<li><a href="envoy.htm" tppabs="http://laravel-china.org/docs/5.1/envoy">Envoy</a></li>
<li><a href="scheduling.htm" tppabs="http://laravel-china.org/docs/5.1/scheduling">ä»»åŠ¡è°ƒåº¦</a></li>
<li><a href="testing.htm" tppabs="http://laravel-china.org/docs/5.1/testing">æµ‹è¯•</a></li>
<li><a href="validation.htm" tppabs="http://laravel-china.org/docs/5.1/validation">è¡¨å•éªŒè¯</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database.htm" tppabs="http://laravel-china.org/docs/5.1/database">å…¥é—¨</a></li>
<li><a href="queries.htm" tppabs="http://laravel-china.org/docs/5.1/queries">æŸ¥è¯¢æ„é€ å™¨</a></li>
<li><a href="migrations.htm" tppabs="http://laravel-china.org/docs/5.1/migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="seeding.htm" tppabs="http://laravel-china.org/docs/5.1/seeding">æ•°æ®å¡«å……</a></li>
</ul></li>
<li>Eloquent ORM
<ul>
<li><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å…¥é—¨</a></li>
<li><a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">æ¨¡å‹å…³è”</a></li>
<li><a href="eloquent-collections.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-collections">Eloquent é›†åˆ</a></li>
<li><a href="eloquent-mutators.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-mutators">Getter/Setter</a></li>
<li><a href="eloquent-serialization.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-serialization">åºåˆ—åŒ–</a></li>
</ul></li>
</ul>
	</div>

</nav>

<div class="docs-wrapper container">

	<section class="sidebar">

		<div class="header">
			<a type="button" class="btn btn-primary btn-lg btn-block turnofflight"><i class="fa fa-lightbulb-o"></i> <i class="fa fa-star-o"></i> å¤œé—´æ¨¡å¼ </a>
		</div>

		<ul>
<li>å‰è¨€
<ul>
<li><a href="about.htm" tppabs="http://laravel-china.org/docs/5.1/about">ç¿»è¯‘è¯´æ˜</a></li>
<li><a href="releases.htm" tppabs="http://laravel-china.org/docs/5.1/releases">å‘è¡Œè¯´æ˜</a></li>
<li><a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a></li>
<li><a href="contributions.htm" tppabs="http://laravel-china.org/docs/5.1/contributions">è´¡çŒ®å¯¼å¼•</a></li>
<li><a href="javascript:if(confirm('http://laravel-china.org/api/5.1  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/api/5.1'" tppabs="http://laravel-china.org/api/5.1">API æ–‡æ¡£</a></li>
</ul></li>
<li>ç¯å¢ƒé…ç½®
<ul>
<li><a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a></li>
<li><a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a></li>
</ul></li>
<li>åŸºæœ¬åŠŸèƒ½
<ul>
<li><a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a></li>
<li><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a></li>
<li><a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a></li>
<li><a href="requests.htm" tppabs="http://laravel-china.org/docs/5.1/requests">è¯·æ±‚</a></li>
<li><a href="responses.htm" tppabs="http://laravel-china.org/docs/5.1/responses">å“åº”</a></li>
<li><a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a></li>
<li><a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿</a></li>
</ul></li>
<li>æ•™ç¨‹
<ul>
<li><a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åˆçº§ä»»åŠ¡æ¸…å•</a></li>
<li><a href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">ä¸­çº§ä»»åŠ¡æ¸…å•</a></li>
</ul></li>
<li>ç³»ç»Ÿæ¶æ„
<ul>
<li><a href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="structure.htm" tppabs="http://laravel-china.org/docs/5.1/structure">åº”ç”¨ç¨‹åºç»“æ„</a></li>
<li><a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a></li>
<li><a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a></li>
<li><a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">Contracts</a></li>
<li><a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">Facades</a></li>
</ul></li>
<li>ç³»ç»ŸæœåŠ¡
<ul>
<li><a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a></li>
<li><a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ</a></li>
<li><a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ</a></li>
<li><a href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing">äº¤æ˜“</a></li>
<li><a href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">ç¼“å­˜</a></li>
<li><a href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ</a></li>
<li><a href="elixir.htm" tppabs="http://laravel-china.org/docs/5.1/elixir">Elixir</a></li>
<li><a href="encryption.htm" tppabs="http://laravel-china.org/docs/5.1/encryption">åŠ å¯†ä¸è§£å¯†</a></li>
<li><a href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors">é”™è¯¯ä¸æ—¥å¿—</a></li>
<li><a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a></li>
<li><a href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨</a></li>
<li><a href="hashing.htm" tppabs="http://laravel-china.org/docs/5.1/hashing">å“ˆå¸Œ</a></li>
<li><a href="helpers.htm" tppabs="http://laravel-china.org/docs/5.1/helpers">è¾…åŠ©å‡½æ•°</a></li>
<li><a href="localization.htm" tppabs="http://laravel-china.org/docs/5.1/localization">æœ¬åœ°åŒ–</a></li>
<li><a href="mail.htm" tppabs="http://laravel-china.org/docs/5.1/mail">é‚®ä»¶</a></li>
<li><a href="packages.htm" tppabs="http://laravel-china.org/docs/5.1/packages">æ‰©å±•åŒ…å¼€å‘</a></li>
<li><a href="pagination.htm" tppabs="http://laravel-china.org/docs/5.1/pagination">åˆ†é¡µ</a></li>
<li><a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a></li>
<li><a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a></li>
<li><a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">Session</a></li>
<li><a href="envoy.htm" tppabs="http://laravel-china.org/docs/5.1/envoy">Envoy</a></li>
<li><a href="scheduling.htm" tppabs="http://laravel-china.org/docs/5.1/scheduling">ä»»åŠ¡è°ƒåº¦</a></li>
<li><a href="testing.htm" tppabs="http://laravel-china.org/docs/5.1/testing">æµ‹è¯•</a></li>
<li><a href="validation.htm" tppabs="http://laravel-china.org/docs/5.1/validation">è¡¨å•éªŒè¯</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database.htm" tppabs="http://laravel-china.org/docs/5.1/database">å…¥é—¨</a></li>
<li><a href="queries.htm" tppabs="http://laravel-china.org/docs/5.1/queries">æŸ¥è¯¢æ„é€ å™¨</a></li>
<li><a href="migrations.htm" tppabs="http://laravel-china.org/docs/5.1/migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="seeding.htm" tppabs="http://laravel-china.org/docs/5.1/seeding">æ•°æ®å¡«å……</a></li>
</ul></li>
<li>Eloquent ORM
<ul>
<li><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å…¥é—¨</a></li>
<li><a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">æ¨¡å‹å…³è”</a></li>
<li><a href="eloquent-collections.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-collections">Eloquent é›†åˆ</a></li>
<li><a href="eloquent-mutators.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-mutators">Getter/Setter</a></li>
<li><a href="eloquent-serialization.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-serialization">åºåˆ—åŒ–</a></li>
</ul></li>
</ul>
	</section>

	<article>

		<div class="alert alert-warning" role="alert">

			<h4>æ‹¥æŠ± Laravel 5.1 LTS</h4>
			<p>
				å¼ºçƒˆå»ºè®®åœ¨ 2018 å¹´ä¹‹å‰ä½¿ç”¨ Laravel 5.1 æ¥æ„å»ºé¡¹ç›®ï¼ŒLaravel 5.1 æ˜¯ LTS çš„å‘è¡Œç‰ˆæœ¬, å‘è¡Œäº 2015 å¹´ 6 æœˆä»½ï¼Œè‡ªå‘å¸ƒèµ·æä¾›ä¸¤å¹´æ—¶é—´çš„ Bug ä¿®å¤ï¼ˆ2017 å¹´ 6 æœˆï¼‰, 3 å¹´æ—¶é—´çš„å®‰å…¨ä¿®å¤ï¼ˆ2018 å¹´ 6 æœˆï¼‰ã€‚
			</p>
			 <p>
			 	LTS ç‰ˆæœ¬æ˜¯æ­¤é¡¹ç›®èƒ½æä¾›çš„æœ€é•¿æ—¶é—´ç»´æŠ¤ç‰ˆæœ¬ã€‚ä¸€èˆ¬çš„å‘è¡Œç‰ˆæœ¬, åªæä¾› 6 ä¸ªæœˆçš„ Bug ä¿®å¤æ”¯æŒ, ä¸€å¹´çš„å®‰å…¨ä¿®å¤æ”¯æŒ.
			 </p>
		</div>

		<div class="main-content">
			<h1>ç”¨æˆ·è®¤è¯</h1>
<ul>
<li><a href="#introduction">ä»‹ç»</a>
<ul>
<li><a href="#introduction-database-considerations">æ•°æ®åº“æ³¨æ„äº‹é¡¹</a></li>
</ul></li>
<li><a href="#authentication-quickstart">è®¤è¯å¿«é€Ÿå…¥é—¨</a>
<ul>
<li><a href="#included-routing">è·¯ç”±</a></li>
<li><a href="#included-views">è§†å›¾</a></li>
<li><a href="#included-authenticating">è®¤è¯</a></li>
<li><a href="#retrieving-the-authenticated-user">è·å–å·²è®¤è¯ä¹‹ç”¨æˆ·</a></li>
<li><a href="#protecting-routes">é™åˆ¶è·¯ç”±è®¿é—®</a></li>
<li><a href="#authentication-throttling">é”™è¯¯å°è¯•é™åˆ¶</a></li>
</ul></li>
<li><a href="#authenticating-users">æ‰‹åŠ¨è®¤è¯ç”¨æˆ·</a>
<ul>
<li><a href="#remembering-users">è®°ä½ç”¨æˆ·</a></li>
<li><a href="#other-authentication-methods">å…¶å®ƒè®¤è¯æ–¹æ³•</a></li>
</ul></li>
<li><a href="#http-basic-authentication">HTTP åŸºç¡€è®¤è¯</a>
<ul>
<li><a href="#stateless-http-basic-authentication">æ— çŠ¶æ€ HTTP åŸºç¡€è®¤è¯</a></li>
</ul></li>
<li><a href="#resetting-passwords">é‡è®¾å¯†ç </a>
<ul>
<li><a href="#resetting-database">é‡è®¾æ•°æ®åº“</a></li>
<li><a href="#resetting-routing">è·¯ç”±</a></li>
<li><a href="#resetting-views">è§†å›¾</a></li>
<li><a href="#after-resetting-passwords">é‡è®¾å¯†ç å</a></li>
</ul></li>
<li><a href="#social-authentication">ç¤¾ä¼šåŒ–è®¤è¯</a></li>
<li><a href="#adding-custom-authentication-drivers">æ·»åŠ è‡ªå®šä¹‰è®¤è¯é©±åŠ¨</a></li>
<li><a href="#events">äº‹ä»¶</a></li>
</ul>
<p><a name="introduction"></a></p>
<h2>ä»‹ç»</h2>
<p>Laravel è®©ç”¨æˆ·è®¤è¯å˜å¾—éå¸¸ç®€å•ã€‚å‡ ä¹æ‰€æœ‰çš„è®¤è¯è¡Œä¸ºéƒ½å¯ä»¥é€šè¿‡é…ç½®ä¿¡æ¯ <code>config/auth.php</code> æ¥æ§åˆ¶ã€‚</p>
<p><a name="introduction-database-considerations"></a></p>
<h3>æ•°æ®åº“æ³¨æ„äº‹é¡¹</h3>
<p>é»˜è®¤çš„ Laravel åœ¨ä½ çš„ <code>app</code> æ–‡ä»¶å¤¹ä¸­ä¼šå«æœ‰ <code>App\User</code> <a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">Eloquent æ¨¡å‹</a>ã€‚è¿™ä¸ªæ¨¡å‹å°†ä½¿ç”¨é»˜è®¤çš„ Eloquent è®¤è¯æ¥é©±åŠ¨ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºæ²¡æœ‰ä½¿ç”¨ Eloquentï¼Œä½ å¯ä»¥ä½¿ç”¨ Laravel æŸ¥è¯¢æ„é€ å™¨çš„ <code>database</code> è®¤è¯é©±åŠ¨ã€‚</p>
<p>ä¸º <code>App\User</code> æ¨¡å‹åˆ›å»ºæ•°æ®åº“ç»“æ„æ—¶ï¼Œç¡®è®¤å¯†ç å­—æ®µæœ€å°‘æœ‰ 60 å­—ç¬¦é•¿ã€‚</p>
<p>åŒæ—¶ï¼Œä½ éœ€è¦ç¡®è®¤ä½ çš„ <code>users</code> (æˆ–æ˜¯ç›¸åŒæ„ä¹‰çš„) æ•°æ®è¡¨å«æœ‰ nullable ã€100 å­—ç¬¦é•¿çš„ <code>remember_token</code> å­—æ®µï¼Œè¿™ä¸ªå­—æ®µå°†ä¼šè¢«ç”¨æ¥ä¿å­˜ã€Œè®°ä½æˆ‘ã€ session çš„ä»¤ç‰Œã€‚åªè¦åœ¨åˆ›å»ºè¿ç§»æ—¶ï¼Œä½¿ç”¨ <code>$table-&gt;rememberToken()</code>ï¼Œå³å¯è½»æ¾åŠ å…¥è¿™ä¸ªå­—æ®µã€‚</p>
<p><a name="authentication-quickstart"></a></p>
<h2>è®¤è¯å¿«é€Ÿå…¥é—¨</h2>
<p>Laravel å¸¦æœ‰ä¸¤ä¸ªè®¤è¯æ§åˆ¶å™¨ï¼Œå®ƒä»¬è¢«æ”¾ç½®åœ¨ <code>App\Http\Controllers\Auth</code> å‘½åç©ºé—´å†…ï¼Œ<code>AuthController</code> å¤„ç†ç”¨æˆ·æ³¨å†ŒåŠè®¤è¯ï¼Œè€Œ <code>PasswordController</code> è´Ÿè´£å¤„ç†é‡ç½®ç”¨æˆ·çš„å¯†ç ã€‚è¿™äº›æ§åˆ¶å™¨ä½¿ç”¨äº† trait æ¥åŒ…å«æ‰€éœ€è¦çš„æ–¹æ³•ï¼Œå¯¹äºå¤§å¤šæ•°çš„åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œä½ å¹¶ä¸éœ€è¦ä¿®æ”¹è¿™äº›æ§åˆ¶å™¨ã€‚</p>
<p><a name="included-routing"></a></p>
<h3>è·¯ç”±</h3>
<p>é»˜è®¤çš„ï¼Œæ²¡æœ‰<a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a>æŒ‡å‘è¿™äº›è®¤è¯æ§åˆ¶å™¨ï¼Œä½ éœ€è¦è‡ªå·±æ·»åŠ åˆ° <code>app/Http/routes.php</code> ä¸­ã€‚</p>
<pre><code>// è®¤è¯è·¯ç”±...
Route::get('auth/login', 'Auth\AuthController@getLogin');
Route::post('auth/login', 'Auth\AuthController@postLogin');
Route::get('auth/logout', 'Auth\AuthController@getLogout');

// æ³¨å†Œè·¯ç”±...
Route::get('auth/register', 'Auth\AuthController@getRegister');
Route::post('auth/register', 'Auth\AuthController@postRegister');</code></pre>
<p><a name="included-views"></a></p>
<h3>è§†å›¾</h3>
<p>è™½ç„¶è¿™äº›è®¤è¯æ§åˆ¶å™¨è¢«åŒ…å«åœ¨æ¡†æ¶ä¸­ï¼Œä½ ä»éœ€æä¾›<a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a>ç»™æ§åˆ¶å™¨æ¸²æŸ“ï¼Œè€Œè§†å›¾éœ€è¦è¢«æ”¾ç½®åœ¨ <code>resources/views/auth</code> æ–‡ä»¶å¤¹ä¸­ï¼Œä½ å¯ä»¥ä»»æ„çš„è‡ªå®šä¹‰è¿™äº›è§†å›¾ã€‚ç™»å½•è§†å›¾åº”è¯¥è¢«æ”¾åœ¨ <code>resources/views/auth/login.blade.php</code> è€Œæ³¨å†Œè§†å›¾åˆ™æ”¾åœ¨ <code>resources/views/auth/register.blade.php</code>ã€‚</p>
<h4>è®¤è¯è¡¨å•ä¾‹å­</h4>
<pre><code>&lt;!-- resources/views/auth/login.blade.php --&gt;

&lt;form method="POST" action="/auth/login"&gt;
    {!! csrf_field() !!}

    &lt;div&gt;
        Email
        &lt;input type="email" name="email" value="{{ old('email') }}"&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Password
        &lt;input type="password" name="password" id="password"&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;input type="checkbox" name="remember"&gt; Remember Me
    &lt;/div&gt;

    &lt;div&gt;
        &lt;button type="submit"&gt;Login&lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;</code></pre>
<h4>æ³¨å†Œè¡¨å•ä¾‹å­</h4>
<pre><code>&lt;!-- resources/views/auth/register.blade.php --&gt;

&lt;form method="POST" action="/auth/register"&gt;
    {!! csrf_field() !!}

    &lt;div&gt;
        Name
        &lt;input type="text" name="name" value="{{ old('name') }}"&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Email
        &lt;input type="email" name="email" value="{{ old('email') }}"&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Password
        &lt;input type="password" name="password"&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Confirm Password
        &lt;input type="password" name="password_confirmation"&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;button type="submit"&gt;Register&lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;</code></pre>
<p><a name="included-authenticating"></a></p>
<h3>è®¤è¯</h3>
<p>ç°åœ¨ä½ å·²ç»ä¸ºè®¤è¯æ§åˆ¶å™¨è®¾ç½®å¥½äº†è·¯ç”±åŠè§†å›¾ï¼Œä½ å¯ä»¥åœ¨åº”ç”¨ç¨‹åºæ³¨å†Œå¹¶è®¤è¯æ–°ç”¨æˆ·äº†ã€‚åªéœ€è¦åœ¨æµè§ˆå™¨ç®€å•åœ°è®¿é—®å®šä¹‰çš„è·¯ç”±å°±è¡Œäº†ï¼Œè®¤è¯æ§åˆ¶å™¨æ—©å·²åŒ…å«äº†å¤„ç†è®¤è¯ç°æœ‰ç”¨æˆ·ï¼ŒåŠä¿å­˜æ–°ç”¨æˆ·åœ¨æ•°æ®åº“çš„é€»è¾‘äº†ï¼ˆé€šè¿‡ä»–ä»¬å„è‡ªçš„ traitsï¼‰ã€‚</p>
<p>å½“ç”¨æˆ·æˆåŠŸè®¤è¯åï¼Œä»–ä»¬å°†è¢«å¯¼å‘ <code>/home</code> URIï¼Œè€Œä½ éœ€è¦å‘è·¯ç”±æ³¨å†Œæ­¤ URI æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è®¤è¯åè½¬å‘çš„ URIï¼Œåªéœ€ä¿®æ”¹ <code>AuthController</code> çš„ <code>redirectPath</code> å±æ€§å³å¯ï¼š</p>
<pre><code>protected $redirectPath = '/dashboard';</code></pre>
<p>å½“ç”¨æˆ·è®¤è¯å¤±è´¥åï¼Œå°†ä¼šè¢«é‡å®šå‘åˆ° <code>/auth/login</code> URIã€‚ä½ å¯ä»¥è®¾ç½® <code>AuthController</code> çš„ <code>loginPath</code> å±æ€§æ¥è‡ªå®šä¹‰è®¤è¯å¤±è´¥åçš„é‡å®šå‘ä½ç½®ï¼š</p>
<pre><code>protected $loginPath = '/login';</code></pre>
<p><code>loginPath</code> å¹¶ä¸ä¼šæ”¹å˜å½“ç”¨æˆ·è®¿é—®å—ä¿æŠ¤çš„è·¯ç”±æ—¶æ‰€é‡å®šå‘çš„è·¯å¾„ã€‚è¯¥è·¯å¾„æ˜¯ç”± <code>App\Http\Middleware\Authenticate</code> ä¸­é—´ä»¶çš„ <code>handle</code> æ–¹æ³•æ‰€æ§åˆ¶çš„ã€‚</p>
<h4>è‡ªå®šä¹‰è¡¨å•å­—æ®µ</h4>
<p>å¦‚æœæƒ³è¦ä¿®æ”¹æ³¨å†Œæ—¶çš„è¡¨å•å­—æ®µï¼Œæˆ–æ˜¯è‡ªå®šä¹‰å¦‚ä½•å°†æ–°ç”¨æˆ·çš„è®°å½•å†™å…¥æ•°æ®åº“ï¼Œä½ å¯ä»¥ä¿®æ”¹ <code>AuthController</code> ç±»ï¼Œè¿™ä¸ªç±»è´Ÿè´£éªŒè¯å’Œåˆ›å»ºæ–°çš„ç”¨æˆ·ã€‚</p>
<p><code>AuthController</code> çš„ <code>validator</code> æ–¹æ³•åŒ…å«äº†å¯¹æ–°ç”¨æˆ·çš„éªŒè¯è§„åˆ™ã€‚ä½ å¯ä»¥éšæ„çš„ä¿®æ”¹è¿™ä¸ªæ–¹æ³•ã€‚</p>
<p><code>AuthController</code> çš„ <code>create</code> æ–¹æ³•è´Ÿè´£ä½¿ç”¨ <a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">Eloquent ORM</a> æ¥åˆ›å»ºæ–°çš„ <code>App\User</code> çºªå½•åˆ°ä½ çš„æ•°æ®åº“ã€‚ä½ å¯ä»¥æ ¹æ®éœ€æ±‚ä»»æ„ä¿®æ”¹è¿™ä¸ªæ–¹æ³•ã€‚</p>
<p><a name="retrieving-the-authenticated-user"></a></p>
<h3>è·å–å·²è®¤è¯çš„ç”¨æˆ·ä¿¡æ¯</h3>
<p>ä½ å¯ä»¥é€šè¿‡ <code>Auth</code> facade æ¥è®¿é—®è®¤è¯çš„ç”¨æˆ·ã€‚</p>
<pre><code>$user = Auth::user();</code></pre>
<p>ä¹Ÿæœ‰å¦å¤–ä¸€ç§æ–¹æ³•å¯ä»¥è®¿é—®è®¤è¯è¿‡çš„ç”¨æˆ·ï¼Œå°±æ˜¯é€šè¿‡ <code>Illuminate\Http\Request</code> å®ä¾‹ï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Routing\Controller;

class ProfileController extends Controller
{
    /**
     * æ›´æ–°ç”¨æˆ·çš„æ•°æ®
     *
     * @param  Request  $request
     * @return Response
     */
    public function updateProfile(Request $request)
    {
        if ($request-&gt;user()) {
            // $request-&gt;user() è¿”å›è®¤è¯è¿‡çš„ç”¨æˆ·çš„å®ä¾‹...
        }
    }
}</code></pre>
<h4>æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç™»å½•</h4>
<p>ä¸ºäº†æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç»ç™»å½•ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>Auth</code> facade çš„ <code>check</code> æ–¹æ³•ï¼Œå¦‚æœè®¤è¯è¿‡ï¼Œå°†ä¼šè¿”å› <code>true</code>ï¼š</p>
<pre><code>if (Auth::check()) {
    // è¿™ä¸ªç”¨æˆ·å·²ç»ç™»å½•...
}</code></pre>
<p>ä¸è¿‡ï¼Œåœ¨å…è®¸è¯¥ç”¨æˆ·è®¿é—®ç‰¹å®šçš„è·¯ç”±æˆ–æ§åˆ¶å™¨ä¹‹å‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶æ¥ç¡®è®¤è¿™ä¸ªç”¨æˆ·æ˜¯å¦è®¤è¯è¿‡ã€‚è¦æƒ³å¾—åˆ°æ›´å¤šä¿¡æ¯ï¼Œè¯·é˜…è¯»<a href="authentication.htm#protecting-routes" tppabs="http://laravel-china.org/docs/5.1/authentication#protecting-routes">é™åˆ¶è·¯ç”±è®¿é—®</a>çš„æ–‡æ¡£ã€‚</p>
<p><a name="protecting-routes"></a></p>
<h3>é™åˆ¶è·¯ç”±è®¿é—®</h3>
<p><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">è·¯ç”±ä¸­é—´ä»¶</a>ç”¨äºé™å®šè®¤è¯è¿‡çš„ç”¨æˆ·è®¿é—®æŒ‡å®šçš„è·¯ç”±ï¼ŒLaravel æä¾›äº† <code>auth</code> ä¸­é—´ä»¶æ¥è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œè€Œè¿™ä¸ªä¸­é—´ä»¶è¢«å®šä¹‰åœ¨ <code>app\Http\Middleware\Authenticate.php</code> ä¸­ï¼Œä½ åªéœ€è¦å°†å®ƒåº”ç”¨åˆ°è·¯ç”±å®šä¹‰ä¸­ï¼š</p>
<pre><code>// ä½¿ç”¨è·¯ç”±é—­åŒ…...
Route::get('profile', ['middleware' =&gt; 'auth', function() {
    // åªæœ‰è®¤è¯è¿‡çš„ç”¨æˆ·èƒ½è¿›æ¥è¿™é‡Œ...
}]);

// ä½¿ç”¨æ§åˆ¶å™¨...
Route::get('profile', [
    'middleware' =&gt; 'auth',
    'uses' =&gt; 'ProfileController@show'
]);</code></pre>
<p>å½“ç„¶ï¼Œå¦‚æœä½ æ­£åœ¨ä½¿ç”¨<a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨ç±»</a>ï¼Œä½ å¯ä»¥åœ¨æ„é€ å™¨ä¸­è°ƒç”¨ <code>middleware</code> æ–¹æ³•ï¼Œè€Œä¸æ˜¯åœ¨è·¯ç”±ä¸­ç›´æ¥å®šä¹‰å®ƒï¼š</p>
<pre><code>public function __construct()
{
    // æ‰§è¡Œ auth è®¤è¯
    $this-&gt;middleware('auth');
}</code></pre>
<p><a name="authentication-throttling"></a></p>
<h3>é”™è¯¯å°è¯•é™åˆ¶</h3>
<p>å¦‚æœä½ ä½¿ç”¨äº† Laravel å†…ç½®çš„ <code>AuthController</code> ç±»ï¼Œåˆ™å¯ä»¥é€šè¿‡ <code>Illuminate\Foundation\Auth\ThrottlesLogins</code> trait åœ¨ä½ çš„åº”ç”¨ç¨‹åºé™åˆ¶ç™»å½•æ¬¡æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœç”¨æˆ·åœ¨è¿›è¡Œå‡ æ¬¡å°è¯•åä»ä¸èƒ½æä¾›æ­£ç¡®çš„å‡­è¯ï¼Œå°†åœ¨ä¸€åˆ†é’Ÿå†…æ— æ³•è¿›è¡Œç™»å½•ã€‚è¿™ä¸ªé™åˆ¶ä¼šç‰¹åˆ«é’ˆå¯¹ç”¨æˆ·çš„ç”¨æˆ·åç§° / é‚®ä»¶åœ°å€å’Œä»–ä»¬çš„ IP åœ°å€ï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers\Auth;

use App\User;
use Validator;
use App\Http\Controllers\Controller;
use Illuminate\Foundation\Auth\ThrottlesLogins;
use Illuminate\Foundation\Auth\AuthenticatesAndRegistersUsers;

class AuthController extends Controller
{
    use AuthenticatesAndRegistersUsers, ThrottlesLogins;

    // é‡ç½® AuthController ç±»...
}</code></pre>
<p><a name="authenticating-users"></a></p>
<h2>æ‰‹åŠ¨è®¤è¯ç”¨æˆ·</h2>
<p>å½“ç„¶ï¼Œä½ ä¸ä¸€å®šè¦ä½¿ç”¨ Laravel å†…ç½®çš„è®¤è¯æ§åˆ¶å™¨ï¼Œä½ å¯ä»¥é€‰æ‹©åˆ é™¤è¿™äº›æ§åˆ¶å™¨ï¼Œç„¶ååˆ›å»ºè‡ªå®šä¹‰çš„æ§åˆ¶å™¨ã€‚</p>
<p>æˆ‘ä»¬å°†é€šè¿‡ <code>Auth</code> <a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">facade</a> è®¿é—® Laravel çš„è®¤è¯æœåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç¡®è®¤æ˜¯å¦è¦åœ¨ç±»çš„æœ€ä¸Šé¢å¼•å…¥ <code>Auth</code> facadeï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ <code>attempt</code> æ–¹æ³•ï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use Auth;
use Illuminate\Routing\Controller;

class AuthController extends Controller
{
    /**
     * å¤„ç†è®¤è¯
     *
     * @return Response
     */
    public function authenticate()
    {
        // å°è¯•ç™»å½•
        if (Auth::attempt(['email' =&gt; $email, 'password' =&gt; $password])) {
            // è®¤è¯é€šè¿‡...
            return redirect()-&gt;intended('dashboard');
        }
    }
}</code></pre>
<p><code>attempt</code> æ–¹æ³•ä¼šæ¥å—ä¸€ä¸ªæ•°ç»„æ¥ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªæ•°ç»„çš„å€¼å¯ç”¨æ¥å¯»æ‰¾æ•°æ®åº“é‡Œçš„ç”¨æˆ·æ•°æ®ï¼Œæ‰€ä»¥åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç”¨æˆ·é€šè¿‡ <code>email</code> å­—æ®µè¢«å–å›ï¼Œå¦‚æœç”¨æˆ·è¢«æ‰¾åˆ°äº†ï¼Œæ•°æ®åº“é‡Œç»è¿‡å“ˆå¸Œçš„å¯†ç å°†ä¼šä¸æ•°ç»„ä¸­å“ˆå¸Œçš„ <code>password</code> å€¼æ¯”å¯¹ï¼Œå¦‚æœä¸¤ä¸ªå€¼ä¸€æ ·çš„è¯å°±ä¼šå¼€å¯ä¸€ä¸ªé€šè¿‡è®¤è¯çš„ session ç»™ç”¨æˆ·ã€‚</p>
<p>å¦‚æœè®¤è¯æˆåŠŸï¼Œ<code>attempt</code> æ–¹æ³•å°†ä¼šè¿”å› <code>true</code>ï¼Œåä¹‹åˆ™ä¸º <code>false</code>ã€‚</p>
<p>é‡å®šå‘å™¨ä¸Šçš„ <code>intended</code> æ–¹æ³•å°†ä¼šé‡å®šå‘ç”¨æˆ·å›åŸæœ¬æƒ³è¦è¿›å…¥çš„é¡µé¢ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªå›é€€ URI è‡³è¿™ä¸ªæ–¹æ³•ï¼Œä»¥é¿å…è¦è½¬å›çš„é¡µé¢ä¸å¯ä½¿ç”¨ã€‚</p>
<p>å¦‚æœä½ å¸Œæœ›ï¼Œä½ ä¹Ÿå¯ä»¥åŠ å…¥é™¤ç”¨æˆ·çš„é‚®ç®±åŠå¯†ç å¤–çš„é¢å¤–æ¡ä»¶è¿›è¡Œè®¤è¯æŸ¥æ‰¾ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦ç¡®è®¤ç”¨æˆ·æ˜¯å¦è¢«æ ‡ç¤ºä¸º <code>active</code>ï¼š</p>
<pre><code>if (Auth::attempt(['email' =&gt; $email, 'password' =&gt; $password, 'active' =&gt; 1])) {
    // æ­¤ç”¨æˆ·æ˜¯å·²æ¿€æ´»çš„ã€æ²¡è¢«åœæƒçš„ã€ä¸”å­˜åœ¨çš„ç”¨æˆ·
}</code></pre>
<p>è¦æƒ³è®©ç”¨æˆ·æ³¨é”€ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>Auth</code> facade çš„ <code>logout</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šæ¸…é™¤æ‰€æœ‰è®¤è¯ååŠ å…¥åˆ°ç”¨æˆ· session çš„æ•°æ®ï¼š</p>
<pre><code>Auth::logout();</code></pre>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>åœ¨è¿™äº›ä¾‹å­ä¸­ï¼Œ<code>email</code> ä¸æ˜¯ä¸€ä¸ªä¸€å®šè¦æœ‰çš„é€‰é¡¹ï¼Œå®ƒä»…ä»…æ˜¯è¢«ç”¨æ¥å½“ä½œä¾‹å­ï¼Œä½ å¯ä»¥ç”¨ä»»ä½•å­—æ®µï¼Œå¦‚ã€æ‰‹æœºå·ç ã€‘ï¼Œåªè¦å®ƒåœ¨æ•°æ®åº“çš„æ„æ€ç­‰åŒäºã€Œç”¨æˆ·åã€ã€‚</p>
</blockquote>
<p><a name="remembering-users"></a></p>
<h2>è®°ä½ç”¨æˆ·</h2>
<p>å¦‚æœä½ æƒ³è¦æä¾›ã€Œè®°ä½æˆ‘ã€çš„åŠŸèƒ½ï¼Œä½ éœ€è¦ä¼ å…¥ä¸€ä¸ªå¸ƒå°”å€¼åˆ° <code>attempt</code> æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œåœ¨ç”¨æˆ·æ³¨é”€å‰ session å€¼éƒ½ä¼šè¢«ä¸€ç›´ä¿å­˜ã€‚ä½ çš„ <code>users</code> æ•°æ®è¡¨ä¸€å®šè¦åŒ…å«ä¸€ä¸ª <code>remember_token</code> å­—æ®µï¼Œè¿™æ˜¯ç”¨æ¥ä¿å­˜ã€Œè®°ä½æˆ‘ã€ä»¤ç‰Œçš„ã€‚</p>
<pre><code>if (Auth::attempt(['email' =&gt; $email, 'password' =&gt; $password], $remember)) {
    // è¿™ä¸ªç”¨æˆ·è¢«è®°ä½äº†...
}</code></pre>
<p>å¦‚æœä½ æ˜¯è¢«è®°ä½çš„ç”¨æˆ·ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>viaRemember</code> æ–¹æ³•æ¥æ£€æŸ¥è¿™ä¸ªç”¨æˆ·æ˜¯å¦ä½¿ç”¨ã€Œè®°ä½æˆ‘ã€ cookie æ¥åšè®¤è¯ï¼š</p>
<pre><code>if (Auth::viaRemember()) {
    //
}</code></pre>
<p><a name="other-authentication-methods"></a></p>
<h3>å…¶å®ƒè®¤è¯æ–¹æ³•</h3>
<h4>ç”¨ç”¨æˆ·å®ä¾‹åšè®¤è¯</h4>
<p>å¦‚æœä½ éœ€è¦ä½¿ç”¨å­˜åœ¨çš„ç”¨æˆ·å®ä¾‹æ¥ç™»å½•ï¼Œä½ éœ€è¦è°ƒç”¨ <code>login</code> æ–¹æ³•ï¼Œå¹¶ä¼ å…¥ä½¿ç”¨å®ä¾‹ï¼Œè¿™ä¸ªå¯¹è±¡å¿…é¡»æ˜¯ç”± <code>Illuminate\Contracts\Auth\Authenticatable</code> <a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">contract</a> æ‰€å®ç°ã€‚å½“ç„¶ï¼Œ<code>App/User</code> æ¨¡å‹å·²ç»å®ç°äº†è¿™ä¸ªæ¥å£ï¼š</p>
<pre><code>Auth::login($user);</code></pre>
<h4>ç”¨ç”¨æˆ· ID åšè®¤è¯</h4>
<p>å¦‚æœä½ éœ€è¦ä½¿ç”¨ç”¨æˆ·çš„ ID æ¥ç™»å½•ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>loginUsingId</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ¥å—è¦ç™»å½•ç”¨æˆ·çš„ä¸»é”®ï¼š</p>
<pre><code>Auth::loginUsingId(1);</code></pre>
<h4>ä»…åœ¨æœ¬æ¬¡è®¤è¯ç”¨æˆ·</h4>
<p>ä½ å¯ä»¥ä½¿ç”¨ <code>once</code> æ–¹æ³•æ¥é’ˆå¯¹ä¸€æ¬¡æ€§è¯·æ±‚æ¥è®¤è¯ç”¨æˆ·ï¼Œæ²¡æœ‰ä»»ä½•çš„ session æˆ– cookie ä¼šè¢«ä½¿ç”¨ï¼Œè¿™ä¸ªå¯¹äºæ„å»ºæ— çŠ¶æ€çš„ API éå¸¸çš„æœ‰ç”¨ï¼Œ<code>once</code> æ–¹æ³•è·Ÿ <code>attempt</code> æ–¹æ³•æ‹¥æœ‰åŒæ ·çš„ä¼ å…¥å‚æ•°ï¼š</p>
<pre><code>if (Auth::once($credentials)) {
    //
}</code></pre>
<p><a name="http-basic-authentication"></a></p>
<h2>HTTP åŸºç¡€è®¤è¯</h2>
<p><a href="javascript:if(confirm('http://en.wikipedia.org/wiki/Basic_access_authentication  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://en.wikipedia.org/wiki/Basic_access_authentication'" tppabs="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP åŸºç¡€è®¤è¯</a>æä¾›ä¸€ä¸ªå¿«é€Ÿçš„æ–¹æ³•æ¥è®¤è¯ç”¨æˆ·ï¼Œä¸éœ€è¦ä»»ä½•ã€Œç™»å½•ã€é¡µé¢ã€‚å¼€å§‹ä¹‹å‰ï¼Œå…ˆå¢åŠ  <code>auth.basic</code> <a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a>åˆ°ä½ çš„è·¯ç”±ï¼Œ<code>auth.basic</code> ä¸­é—´ä»¶å·²ç»è¢«åŒ…å«åœ¨ Laravel æ¡†æ¶ä¸­ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦å®šä¹‰å®ƒï¼š</p>
<pre><code>Route::get('profile', ['middleware' =&gt; 'auth.basic', function() {
    // åªæœ‰è®¤è¯è¿‡çš„ç”¨æˆ·å¯è¿›å…¥...
}]);</code></pre>
<p>ä¸€æ—¦ä¸­é—´ä»¶è¢«å¢åŠ åˆ°è·¯ç”±ä¸Šï¼Œå½“ä½¿ç”¨æµè§ˆå™¨è¿›å…¥è¿™ä¸ªè·¯ç”±æ—¶ï¼Œä½ å°†è‡ªåŠ¨çš„è¢«æç¤ºéœ€è¦æä¾›å‡­è¯ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>auth.basic</code> ä¸­é—´ä»¶å°†ä¼šä½¿ç”¨ç”¨æˆ·çš„ <code>email</code> å­—æ®µå½“ä½œã€Œç”¨æˆ·åã€ã€‚</p>
<h4>FastCGI çš„æ³¨æ„äº‹é¡¹</h4>
<p>å¦‚æœæ˜¯æ­£åœ¨ä½¿ç”¨ FastCGIï¼Œåˆ™ HTTP çš„åŸºç¡€è®¤è¯å¯èƒ½æ— æ³•æ­£å¸¸è¿ä½œï¼Œä½ éœ€è¦å°†ä¸‹é¢è¿™å‡ è¡ŒåŠ å…¥ä½  <code>.htaccess</code> æ–‡ä»¶ä¸­ï¼š</p>
<pre><code>RewriteCond %{HTTP:Authorization} ^(.+)$
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]</code></pre>
<p><a name="stateless-http-basic-authentication"></a></p>
<h3>æ— çŠ¶æ€ HTTP åŸºç¡€è®¤è¯</h3>
<p>ä½ å¯ä»¥ä½¿ç”¨ HTTP åŸºç¡€è®¤è¯è€Œä¸ç”¨åœ¨ session ä¸­è®¾ç½®ç”¨æˆ·è®¤è¯ç”¨çš„ cookieï¼Œè¿™ä¸ªåŠŸèƒ½å¯¹ API è®¤è¯æ¥è¯´éå¸¸æœ‰ç”¨ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œ<a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">å®šä¹‰ä¸€ä¸ªä¸­é—´ä»¶</a>å¹¶è°ƒç”¨ <code>onceBasic</code> æ–¹æ³•ã€‚å¦‚æœä» <code>onceBasic</code> æ–¹æ³•æ²¡æœ‰è¿”å›ä»»ä½•å“åº”çš„è¯ï¼Œè¿™ä¸ªè¯·æ±‚ä¼šç›´æ¥ä¼ è¿›åº”ç”¨ç¨‹åºä¸­ï¼š</p>
<pre><code>&lt;?php

namespace Illuminate\Auth\Middleware;

use Auth;
use Closure;

class AuthenticateOnceWithBasicAuth
{
    /**
     * å¤„ç†è¯·æ±‚
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Closure  $next
     * @return mixed
     */
    public function handle($request, Closure $next)
    {
        return Auth::onceBasic() ?: $next($request);
    }

}</code></pre>
<p>æ¥ç€ï¼Œ<a href="middleware.htm#registering-middleware" tppabs="http://laravel-china.org/docs/5.1/middleware#registering-middleware">æ³¨å†Œè¿™ä¸ªè·¯ç”±ä¸­é—´ä»¶</a>ï¼Œç„¶åå°†å®ƒå¢åŠ åœ¨ä¸€ä¸ªè·¯ç”±ä¸Šï¼š</p>
<pre><code>Route::get('api/user', ['middleware' =&gt; 'auth.basic.once', function() {
    // åªæœ‰è®¤è¯è¿‡çš„ç”¨æˆ·å¯ä»¥è¿›å…¥...
}]);</code></pre>
<p><a name="resetting-passwords"></a></p>
<h2>é‡è®¾å¯†ç </h2>
<p><a name="resetting-database"></a></p>
<h3>é‡è®¾æ•°æ®åº“</h3>
<p>å¾ˆå¤š Web åº”ç”¨ç¨‹åºéƒ½ä¼šæä¾›ç”¨æˆ·é‡è®¾å¯†ç åŠŸèƒ½ï¼ŒLaravel æä¾›ä¾¿åˆ©çš„æ–¹æ³•æ¥å‘é€å¯†ç æç¤ºå’Œå®ç°å¯†ç é‡è®¾ï¼Œè€Œé¿å…è®©ä½ é‡é€ è½¦è½®ã€‚</p>
<p>å¼€å§‹ä¹‹å‰ï¼Œè¯·å…ˆç¡®è®¤ä½ çš„ <code>App\User</code> æ¨¡å‹å®ç°äº† <code>Illuminate\Contracts\Auth\CanResetPassword</code> contractã€‚å½“ç„¶ï¼ŒåŸæœ‰çš„ <code>App\User</code> æ—©å·²å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œå¹¶ä¸”ä½¿ç”¨ <code>Illuminate\Auth\Passwords\CanResetPassword</code> trait å¼•å…¥å®ç°è¿™ä¸ªæ¥å£æ‰€éœ€è¦çš„æ–¹æ³•ã€‚</p>
<h4>ç”Ÿæˆé‡ç½®ä»¤ç‰Œçš„æ•°æ®è¡¨è¿ç§»æ–‡ä»¶</h4>
<p>æ¥ä¸‹æ¥ï¼Œå¿…é¡»è¦åˆ›å»ºä¸€ä¸ªç”¨æ¥ä¿å­˜å¯†ç é‡ç½®ä»¤ç‰Œçš„æ•°æ®è¡¨ï¼Œè€Œè¿™ä¸ªæ•°æ®è¡¨çš„è¿ç§»å·²ç»åŒ…å«åœ¨ Laravel ä¸­äº†ï¼Œå°±åœ¨ <code>database/migrations</code> æ–‡ä»¶å¤¹é‡Œã€‚æ‰€ä»¥ï¼Œä½ è¦åšçš„å°±æ˜¯åšä¸€æ¬¡è¿ç§»ï¼š</p>
<pre><code>php artisan migrate</code></pre>
<p><a name="resetting-routing"></a></p>
<h3>è·¯ç”±</h3>
<p>Laravel åŒ…å«äº† <code>Auth\PasswordController</code>ï¼Œè™½ç„¶å®ƒå«æœ‰æ‰€æœ‰é‡ç½®ç”¨æˆ·å¯†ç çš„é€»è¾‘ï¼Œä½†æ˜¯ä½ ä»éœ€è¦æŒ‡å®šè·¯ç”±åˆ°è¿™ä¸ªæ§åˆ¶å™¨ä¸Šï¼š</p>
<pre><code>// å¯†ç é‡ç½®é“¾æ¥çš„è·¯ç”±...
Route::get('password/email', 'Auth\PasswordController@getEmail');
Route::post('password/email', 'Auth\PasswordController@postEmail');

// å¯†ç é‡ç½®çš„è·¯ç”±...
Route::get('password/reset/{token}', 'Auth\PasswordController@getReset');
Route::post('password/reset', 'Auth\PasswordController@postReset');</code></pre>
<p><a name="resetting-views"></a></p>
<h3>è§†å›¾</h3>
<p>é™¤äº†å®šä¹‰ <code>PasswordController</code> è·¯ç”±ï¼Œä½ è¿˜éœ€è¦æä¾›è§†å›¾ç»™è¿™ä¸ªæ§åˆ¶å™¨ã€‚ä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬å·²ç»æä¾›äº†ä¾‹å­è§†å›¾æ¥å¸®åŠ©ä½ å¼€å§‹ï¼Œä½ ä¹Ÿå¯ä»¥éšæ„çš„å®šä¹‰ä½ è‡ªå·±çš„è¡¨å•é£æ ¼ã€‚</p>
<h4>é‡ç½®å¯†ç é“¾æ¥çš„è¯·æ±‚è¡¨å•ä¾‹å­</h4>
<p>ä½ éœ€è¦æä¾› HTML è§†å›¾ç»™å¯†ç é‡ç½®çš„è¯·æ±‚è¡¨å•ã€‚è¿™äº›è§†å›¾è¢«æ”¾åœ¨ <code>resources/views/auth/password.blade.php</code>ã€‚è¿™ä¸ªè¡¨å•æä¾›äº†å•ä¸ªçš„å­—æ®µæ¥ç»™ç”¨æˆ·è¾“å…¥é‚®ç®±ï¼Œè®©ä»–ä»¬å¯ä»¥æ”¶åˆ°å¯†ç é‡ç½®é“¾æ¥ï¼š</p>
<pre><code>&lt;!-- resources/views/auth/password.blade.php --&gt;

&lt;form method="POST" action="/password/email"&gt;
    {!! csrf_field() !!}

    @if (count($errors) &gt; 0)
        &lt;ul&gt;
            @foreach ($errors-&gt;all() as $error)
                &lt;li&gt;{{ $error }}&lt;/li&gt;
            @endforeach
        &lt;/ul&gt;
    @endif

    &lt;div&gt;
        Email
        &lt;input type="email" name="email" value="{{ old('email') }}"&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;button type="submit"&gt;
            å‘é€é‡ç½®å¯†ç é‚®ä»¶
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;</code></pre>
<p>å½“ç”¨æˆ·é€å‡ºé‡ç½®å¯†ç çš„è¯·æ±‚ï¼Œä»–ä»¬ä¼šæ”¶åˆ°ä¸€å°æœ‰é“¾æ¥åˆ° <code>PasswordController</code> çš„ <code>getReset</code> æ–¹æ³•ï¼ˆé€šå¸¸æ˜¯è·¯ç”±åˆ° <code>/password/reset</code>ï¼‰çš„é‚®ç®±ã€‚ä½ å°†éœ€è¦ä¸ºé‚®ç®±åˆ›é€ ä¸€ä¸ª <code>resources/views/emails/password.blade.php</code> è§†å›¾ã€‚è¿™ä¸ªè§†å›¾ä¼šæ¥æ”¶ä¸€ä¸ªå¸¦æœ‰å¯†ç é‡ç½®ä»¤ç‰Œçš„ <code>$token</code> å˜é‡ï¼Œè¿™ä¸ªå˜é‡å«æœ‰å¯†ç é‡ç½®ä»¤ç‰Œæ¥åŒ¹é…ç”¨æˆ·çš„å¯†ç é‡ç½®è¯·æ±‚ï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code>&lt;!-- æ–‡ä»¶ resources/views/emails/password.blade.php --&gt;

ç‚¹å‡»æ­¤å¤„é‡ç½®ä½ çš„å¯†ç ï¼š{{ url('password/reset/'.$token) }}</code></pre>
<h4>å¯†ç é‡ç½®è¡¨å•çš„ä¾‹å­</h4>
<p>å½“ç”¨æˆ·ç‚¹å‡»äº†é‚®ç®±çš„é“¾æ¥æ¥é‡ç½®å¯†ç ï¼Œå°†ä¼šæ˜¾ç¤ºä¸€ä¸ªå¯†ç é‡ç½®è¡¨å•ï¼Œè¿™ä¸ªè§†å›¾è¢«æ”¾åœ¨ <code>resources/views/auth/reset.blade.php</code>ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸ªå¯†ç é‡ç½®è¡¨å•çš„ä¾‹å­ï¼š</p>
<pre><code>&lt;!-- resources/views/auth/reset.blade.php --&gt;

&lt;form method="POST" action="/password/reset"&gt;
    {!! csrf_field() !!}
    &lt;input type="hidden" name="token" value="{{ $token }}"&gt;

    @if (count($errors) &gt; 0)
        &lt;ul&gt;
            @foreach ($errors-&gt;all() as $error)
                &lt;li&gt;{{ $error }}&lt;/li&gt;
            @endforeach
        &lt;/ul&gt;
    @endif

    &lt;div&gt;
        ç”µå­é‚®ç®±
        &lt;input type="email" name="email" value="{{ old('email') }}"&gt;
    &lt;/div&gt;

    &lt;div&gt;
        å¯†ç 
        &lt;input type="password" name="password"&gt;
    &lt;/div&gt;

    &lt;div&gt;
        é‡æ–°è¾“å…¥å¯†ç 
        &lt;input type="password" name="password_confirmation"&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;button type="submit"&gt;
            é‡ç½®å¯†ç 
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;</code></pre>
<p><a name="after-resetting-passwords"></a></p>
<h3>é‡è®¾å¯†ç å</h3>
<p>åœ¨ä½ å®šä¹‰å¥½è·¯ç”±è·Ÿè§†å›¾ä¹‹åï¼Œä½ å°±å¯ä»¥ä½¿ç”¨æµè§ˆå™¨è®¿é—®è¿™ä¸ªè·¯ç”±äº†ã€‚Laravel ä¸­çš„ <code>PasswordController</code> å·²ç»åŒ…å«äº†å‘é€å¯†ç é‡ç½®é“¾æ¥çš„é‚®ç®±ï¼ŒåŠæ›´æ–°å¯†ç åˆ°æ•°æ®åº“çš„é€»è¾‘ã€‚</p>
<p>å¯†ç é‡ç½®ä»¥åï¼Œè¿™ä¸ªç”¨æˆ·ä¼šè‡ªåŠ¨ç™»å½•å¹¶é‡å®šå‘åˆ° <code>/home</code>ã€‚è¦è‡ªå®šä¹‰é‡å®šå‘åœ°å€ï¼Œåªéœ€å®šä¹‰ <code>PasswordController</code> çš„ <code>redirectTo</code> å±æ€§å³å¯ï¼š</p>
<pre><code>protected $redirectTo = '/dashboard';</code></pre>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯†ç é‡ç½®ä»¤ç‰Œä¼šåœ¨ä¸€ä¸ªå°æ—¶åè¿‡æœŸï¼Œä½ å¯ä»¥æ›´æ”¹ <code>config/auth.php</code> çš„ <code>reminder.expire</code> é€‰é¡¹ï¼Œæ¥ä¿®æ”¹è¿™ä¸ªè®¾ç½®ã€‚</p>
</blockquote>
<p><a name="social-authentication"></a></p>
<h2>ç¤¾ä¼šåŒ–è®¤è¯</h2>
<p>é™¤äº†ä¼ ç»Ÿçš„è¡¨å•è®¤è¯ä¹‹å¤–ï¼ŒLaravel åŒæ ·æä¾›äº†ç®€å•æ–¹ä¾¿çš„æ–¹æ³•æ¥è®¤è¯ OAuth æä¾›è€…ï¼Œè¿™ä¸ªæ–¹æ³•ä½¿ç”¨äº† <a href="javascript:if(confirm('https://github.com/laravel/socialite  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://github.com/laravel/socialite'" tppabs="https://github.com/laravel/socialite">Laravel Socialite</a>ã€‚Socialite ç›®å‰æ”¯æŒ Facebookã€Twitterã€LinkedInã€Googleã€GitHub è·Ÿ Bitbucket çš„è®¤è¯ã€‚</p>
<p>å¼€å§‹ä½¿ç”¨ Socialite å‰ï¼Œè¯·å…ˆæ·»åŠ ä¾èµ–åŒ…è‡³ä½ çš„ <code>composer.json</code>ï¼š</p>
<pre><code>composer require laravel/socialite</code></pre>
<h3>é…ç½®ä¿¡æ¯</h3>
<p>å®‰è£… Socialite ä¹‹åï¼Œåˆ° <code>config/app.php</code> é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œ <code>Laravel\Socialite\SocialiteServiceProvider</code>ï¼š</p>
<pre><code>'providers' =&gt; [
    // å…¶å®ƒæœåŠ¡æä¾›è€…...

    Laravel\Socialite\SocialiteServiceProvider::class,
],</code></pre>
<p>æ­¤å¤–å†æ·»åŠ  <code>Socialite</code> facade åˆ° <code>app</code> é…ç½®æ–‡ä»¶çš„ <code>aliases</code> æ•°ç»„ä¸­ï¼š</p>
<pre><code>'Socialite' =&gt; Laravel\Socialite\Facades\Socialite::class,</code></pre>
<p>ä½ å°†éœ€è¦æ·»åŠ å‡­è¯æ¥ä½¿ç”¨ OAuth æœåŠ¡ï¼Œè¿™äº›å‡­è¯éœ€è¦è¢«æ”¾åœ¨ <code>config/services.php</code> é…ç½®æ–‡ä»¶ä¸­ï¼Œå¹¶æ ¹æ®ä½ åº”ç”¨ç¨‹åºçš„éœ€æ±‚ï¼Œå¢åŠ  <code>facebook</code>ã€<code>twitter</code>ã€<code>linkedin</code>ã€<code>google</code>ã€<code>github</code> æˆ– <code>bitbucket</code> çš„é”®ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code>'github' =&gt; [
    'client_id' =&gt; 'your-github-app-id',
    'client_secret' =&gt; 'your-github-app-secret',
    'redirect' =&gt; 'http://your-callback-url',
],</code></pre>
<h3>åŸºç¡€åº”ç”¨</h3>
<p>æ¥ä¸‹æ¥ï¼Œä½ å·²ç»å‡†å¤‡å¥½å¼€å§‹è®¤è¯ç”¨æˆ·äº†ï¼ä½ å°†éœ€è¦ä¸¤ä¸ªè·¯ç”±: ä¸€ä¸ªç”¨æ¥é‡å®šå‘ç”¨æˆ·åˆ° OAuth æä¾›è€…ï¼Œå¦ä¸€ä¸ªåœ¨è®¤è¯åæ¥æ”¶æä¾›è€…çš„å›è°ƒã€‚æˆ‘ä»¬å°†ä¼šå€Ÿç”± <code>Socialite</code> <a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">facade</a> è®¿é—® Socialiteï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use Socialite;
use Illuminate\Routing\Controller;

class AuthController extends Controller
{
    /**
     * é‡å®šå‘ç”¨æˆ·åˆ° GitHub è®¤è¯é¡µã€‚
     *
     * @return Response
     */
    public function redirectToProvider()
    {
        return Socialite::driver('github')-&gt;redirect();
    }

    /**
     * ä» GitHub å¾—åˆ°ç”¨æˆ·ä¿¡æ¯
     *
     * @return Response
     */
    public function handleProviderCallback()
    {
        $user = Socialite::driver('github')-&gt;user();

        // $user-&gt;token;
    }
}</code></pre>
<p><code>redirect</code> æ–¹æ³•ä¼šè´Ÿè´£å¤„ç†å¹¶å‘é€ç”¨æˆ·åˆ° OAuth æä¾›è€…ï¼Œè€Œ <code>user</code> æ–¹æ³•ä¼šä»æä¾›è€…è¿”å›çš„è¯·æ±‚æ¥è·å–ç”¨æˆ·ä¿¡æ¯ã€‚åœ¨é‡å®šå‘ç”¨æˆ·ä¹‹å‰ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>scopes</code> æ–¹æ³•æ¥è®¾ç½®è¯·æ±‚çš„ ã€Œä½œç”¨åŸŸã€ã€‚è¿™ä¸ªæ–¹æ³•å°†é‡å†™æ‰€æœ‰å·²ç»å­˜åœ¨çš„ä½œç”¨åŸŸï¼š</p>
<pre><code>return Socialite::driver('github')
            -&gt;scopes(['scope1', 'scope2'])-&gt;redirect();</code></pre>
<p>å½“ç„¶ï¼Œä½ éœ€è¦å®šä¹‰è·¯ç”±åˆ°ä½ çš„æ§åˆ¶å™¨æ–¹æ³•ï¼š</p>
<pre><code>Route::get('auth/github', 'Auth\AuthController@redirectToProvider');
Route::get('auth/github/callback', 'Auth\AuthController@handleProviderCallback');</code></pre>
<p>ä¸€äº› OAuth æä¾›è€…æ”¯æŒåœ¨é‡å®šå‘çš„è¯·æ±‚ä¸­è‡ªå®šä¹‰å‚æ•°ã€‚è‹¥è¦åœ¨è¯·æ±‚ä¸­åŠ å…¥ä»»ä½•è‡ªå®šä¹‰å‚æ•°ï¼Œåªè¦è°ƒç”¨ <code>with</code> æ–¹æ³•å¹¶å¸¦ä¸Šä¸€ä¸ªå…³è”æ•°ç»„ï¼š</p>
<pre><code>return Socialite::driver('google')
            -&gt;with(['hd' =&gt; 'example.com'])-&gt;redirect();</code></pre>
<h4>è·å–ç”¨æˆ·è¯¦æƒ…ä¿¡æ¯</h4>
<p>ä¸€æ—¦ä½ æœ‰äº†ç”¨æˆ·çš„å®ä¾‹ï¼Œä½ å°±å¯ä»¥è·å–ç”¨æˆ·æ›´è¯¦ç»†çš„ä¿¡æ¯:</p>
<pre><code>$user = Socialite::driver('github')-&gt;user();

// OAuth Two æä¾›è€…
$token = $user-&gt;token;

// OAuth One æä¾›è€…
$token = $user-&gt;token;
$tokenSecret = $user-&gt;tokenSecret;

// æ‰€æœ‰æä¾›è€…
$user-&gt;getId();
$user-&gt;getNickname();
$user-&gt;getName();
$user-&gt;getEmail();
$user-&gt;getAvatar();</code></pre>
<p><a name="adding-custom-authentication-drivers"></a></p>
<h2>æ·»åŠ è‡ªå®šä¹‰çš„è®¤è¯é©±åŠ¨</h2>
<p>å¦‚æœä½ ä¸æ˜¯ä½¿ç”¨ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“æ¥ä¿å­˜ç”¨æˆ·ï¼Œä½ å°†éœ€è¦æ‰©å…… Laravel æ¥æ·»åŠ ä½ è‡ªå·±çš„è®¤è¯é©±åŠ¨ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ <code>Auth</code> facade çš„ <code>extend</code> æ–¹æ³•æ¥å®šä¹‰è‡ªå®šä¹‰é©±åŠ¨ã€‚ä½ åº”è¯¥å°† <code>extend</code> æ”¾ç½®åœ¨<a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a>ä¸­ï¼š</p>
<pre><code>&lt;?php

namespace App\Providers;

use Auth;
use App\Extensions\RiakUserProvider;
use Illuminate\Support\ServiceProvider;

class AuthServiceProvider extends ServiceProvider
{
    /**
     * è¿è¡ŒæœåŠ¡æ³¨å†Œåçš„å¯åŠ¨è¿›ç¨‹ã€‚
     *
     * @return void
     */
    public function boot()
    {
        Auth::extend('riak', function($app) {
            // è¿”å› Illuminate\Contracts\Auth\UserProvider çš„å®ä¾‹...
            return new RiakUserProvider($app['riak.connection']);
        });
    }

    /**
     * åœ¨å®¹å™¨æ³¨å†Œç»‘å®šã€‚
     *
     * @return void
     */
    public function register()
    {
        //
    }
}</code></pre>
<p>åœ¨ä½ ç”¨ <code>extend</code> æ–¹æ³•æ³¨å†Œè¿™ä¸ªé©±åŠ¨åï¼Œä½ å¯ä»¥åœ¨ <code>config/auth.php</code> è½¬æ¢åˆ°æ–°çš„é©±åŠ¨ã€‚</p>
<h3>ç”¨æˆ·æä¾›è€… Contract</h3>
<p><code>Illuminate\Contracts\Auth\UserProvider</code> çš„å®ç°åªè´Ÿè´£è·å– <code>Illuminate\Contracts\Auth\Authenticatable</code> çš„å®ç°ï¼Œ ä¸”ä¸å—é™äºæ°¸ä¹…ä¿å­˜ç³»ç»Ÿï¼Œä¾‹å¦‚ MySQL, Riak ç­‰ç­‰ã€‚è¿™ä¸¤ä¸ªæ¥å£å…è®¸ Laravel è®¤è¯æœºåˆ¶ç»§ç»­ä½œç”¨ï¼Œè€Œä¸ç”¨ç®¡ç”¨æˆ·å¦‚ä½•ä¿å­˜æˆ–æ˜¯ä½¿ç”¨ä»€ä¹ˆæ ·ç±»å‹çš„ç±»è¡¨è¾¾å®ƒã€‚</p>
<p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹ <code>Illuminate\Contracts\Auth\UserProvider</code> contractï¼š</p>
<pre><code>&lt;?php

namespace Illuminate\Contracts\Auth;

interface UserProvider {

    public function retrieveById($identifier);
    public function retrieveByToken($identifier, $token);
    public function updateRememberToken(Authenticatable $user, $token);
    public function retrieveByCredentials(array $credentials);
    public function validateCredentials(Authenticatable $user, array $credentials);

}</code></pre>
<p><code>retrieveById</code> å‡½æ•°é€šå¸¸è·å–ä¸€ä¸ªä»£è¡¨ç”¨æˆ·çš„å€¼ï¼Œä¾‹å¦‚ MySQL ä¸­è‡ªå¢çš„ IDã€‚<code>Authenticatable</code> çš„å®ç°é€šè¿‡ ID åŒ¹é…çš„æ–¹æ³•æ¥å–å›å’Œè¿”å›ã€‚</p>
<p><code>retrieveByToken</code> å‡½æ•°å€ŸåŠ©ç”¨æˆ·å”¯ä¸€çš„ <code>$identifier</code> å’Œã€Œè®°ä½æˆ‘ã€<code>$token</code> æ¥è·å–ç”¨æˆ·ã€‚å¦‚åŒä¹‹å‰çš„æ–¹æ³•ï¼Œ<code>Authenticatable</code> çš„å®ç°åº”è¯¥è¢«è¿”å›ã€‚</p>
<p><code>updateRememberToken</code> æ–¹æ³•ä½¿ç”¨æ–°çš„ <code>$token</code> æ›´æ–°äº† <code>$user</code> çš„ <code>remember_token</code> å­—æ®µã€‚è¿™ä¸ªæ–°çš„ä»¤ç‰Œå¯ä»¥æ˜¯å…¨æ–°çš„ä»¤ç‰Œï¼ˆå½“ä½¿ç”¨ã€Œè®°ä½æˆ‘ã€å°è¯•ç™»å½•æˆåŠŸæ—¶ï¼‰ï¼Œæˆ–æ˜¯ nullï¼ˆå½“ç”¨æˆ·æ³¨é”€æ—¶ï¼‰ã€‚</p>
<p><code>retrieveByCredentials</code> æ–¹æ³•è·å–äº†ä» <code>Auth::attempt</code> æ–¹æ³•å‘é€è¿‡æ¥çš„å‡­è¯æ•°ç»„ï¼ˆå½“æƒ³è¦ç™»å½•æ—¶ï¼‰ã€‚è¿™ä¸ªæ–¹æ³•åº”è¯¥è¦ ã€ŒæŸ¥æ‰¾ã€æ‰€ä½¿ç”¨çš„æŒä¹…åŒ–å­˜å‚¨ç³»ç»Ÿæ¥åŒ¹é…è¿™äº›å‡­è¯ã€‚é€šå¸¸ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¿è¡Œä¸€ä¸ªå¸¦ç€ã€Œwhereã€<code>$credentials['username']</code> æ¡ä»¶çš„æŸ¥æ‰¾ã€‚è¿™ä¸ªæ–¹æ³•æ¥ç€éœ€è¦è¿”å›ä¸€ä¸ª <code>UserInterface</code> çš„å®ç°ã€‚<strong>æ­¤æ–¹æ³•ä¸åº”è¯¥ä¼å›¾åšä»»ä½•å¯†ç éªŒè¯æˆ–è®¤è¯æ“ä½œã€‚</strong></p>
<p><code>validateCredentials</code> æ–¹æ³•éœ€è¦æ¯”è¾ƒ <code>$user</code> å’Œ <code>$credentials</code> æ¥è®¤è¯è¿™ä¸ªç”¨æˆ·ã€‚ä¾‹å¦‚ï¼Œè¿™ä¸ªæ–¹æ³•å¯èƒ½ä¼šæ¯”è¾ƒ <code>$user-&gt;getAuthPassword()</code> å­—ç¬¦ä¸²åŠ <code>Hash::make</code> åçš„ <code>$credentials['password']</code>ã€‚è¿™ä¸ªæ–¹æ³•åº”è¯¥åªéªŒè¯ç”¨æˆ·çš„å‡­è¯å¹¶è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</p>
<h3>å¯éªŒè¯ä¹‹ Contract</h3>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»ä»‹ç»äº† <code>UserProvider</code> çš„æ¯ä¸ªæ–¹æ³•ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ <code>Authenticate</code> contractã€‚è¿™ä¸ªæä¾›è€…éœ€è¦ <code>retrieveById</code> å’Œ <code>retrieveByCredentials</code> æ–¹æ³•æ¥è¿”å›è¿™ä¸ªæ¥å£çš„å®ç°ï¼š</p>
<pre><code>&lt;?php

namespace Illuminate\Contracts\Auth;

interface Authenticatable {

    public function getAuthIdentifier();
    public function getAuthPassword();
    public function getRememberToken();
    public function setRememberToken($value);
    public function getRememberTokenName();

}</code></pre>
<p>è¿™ä¸ªæ¥å£å¾ˆç®€å•ã€‚<code>getAuthIdentifier</code> æ–¹æ³•éœ€è¦è¿”å›ç”¨æˆ·çš„ã€Œä¸»é”®ã€ã€‚åœ¨ MySQL ä¸­ï¼Œè¿™ä¸ªä¸»é”®æ˜¯æŒ‡è‡ªåŠ¨å¢åŠ çš„ä¸»é”®ã€‚è€Œ <code>getAuthPassword</code> åº”è¯¥è¦è¿”å›ç”¨æˆ·å“ˆå¸Œåçš„å¯†ç ã€‚è¿™ä¸ªæ¥å£å…è®¸è®¤è¯ç³»ç»Ÿå’Œä»»ä½•ç”¨æˆ·ç±»è¿ä½œï¼Œä¸ç”¨ç®¡ä½ åœ¨ä½¿ç”¨ä½•ç§ ORM æˆ–å­˜å‚¨æŠ½è±¡å±‚ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒLaravel çš„ <code>app</code> æ–‡ä»¶å¤¹ä¸­ä¼šåŒ…å« <code>User</code> ç±»æ¥å®ç°æ­¤æ¥å£ï¼Œæ‰€ä»¥ä½ å¯ä»¥è§‚å¯Ÿè¿™ä¸ªç±»ä»¥ä½œä¸ºå®ç°çš„ä¾‹å­ã€‚</p>
<p><a name="events"></a></p>
<h2>äº‹ä»¶</h2>
<p>Laravel æä¾›äº†åœ¨è®¤è¯è¿‡ç¨‹ä¸­çš„å„ç§<a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a>ã€‚ä½ å¯ä»¥åœ¨ <code>EventServiceProvider</code> ä¸ºè¿™äº›äº‹ä»¶è¿æ¥ä¾¦å¬å™¨ï¼š</p>
<pre><code>/**
 * ä¸ºä½ çš„åº”ç”¨ç¨‹åºæ³¨å†Œä»»ä½•äº‹ä»¶ã€‚
 *
 * @param  \Illuminate\Contracts\Events\Dispatcher  $events
 * @return void
 */
public function boot(DispatcherContract $events)
{
    parent::boot($events);

    // åœ¨æ¯æ¬¡å°è¯•è®¤è¯æ—¶è§¦å‘...
    $events-&gt;listen('auth.attempt', function ($credentials, $remember, $login) {
        //
    });

    // ç™»å½•æˆåŠŸæ—¶è§¦å‘...
    $events-&gt;listen('auth.login', function ($user, $remember) {
        //
    });

    // æ³¨é”€æ—¶è§¦å‘...
    $events-&gt;listen('auth.logout', function ($user) {
        //
    });
}</code></pre>
		</div>

		<div class="main-footer" style="border-top:1px dashed rgba(0, 0, 0, 0.1);padding-top: 30px;margin-top:30px;margin-bottom: 20px;">
			<div class="prev-next-wrap clearfix">

									<a class="btn btn-default pull-left" href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades"><i class="fa fa-arrow-left"></i> Facades</a>
				
			    &nbsp;
								    <a class="btn btn-default pull-right" href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ <i class="fa fa-arrow-right"></i></a>
							</div>
		</div>

	</article>
</div>

		<footer class="main">
			<ul>
				<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
			</ul>
			<p>Laravel is a trademark of Taylor Otwell. Copyright &copy; Taylor Otwell.</p>
			<p class="less-significant"><a href="javascript:if(confirm('http://jackmcdade.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://jackmcdade.com/'" tppabs="http://jackmcdade.com/">Design by Jack McDade</a></p>

			<p class="less-significant">
				<a href="javascript:if(confirm('http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao'" tppabs="http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao" target="_blank">ç”± UCloud èµåŠ©  <img src="dYfOYswiQY.png" tppabs="https://dn-phphub.qbox.me/uploads/images/201605/03/1/dYfOYswiQY.png" width="98" data-toggle="tooltip" data-placement="top" title="æœ¬ç«™æœåŠ¡å™¨ç”± UCloud èµåŠ©"></a>.
		      </p>
		</footer>

	</div>

	<script src="laravel.js" tppabs="http://laravel-china.org/assets/js/laravel.js"></script>
	<script src="viewport-units-buggyfill.js" tppabs="http://laravel-china.org/assets/js/viewport-units-buggyfill.js"></script>
	<script>window.viewportUnitsBuggyfill.init();</script>
    <script>

		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','analytics.js'/*tpa=http://7xijlf.com2.z0.glb.qiniucdn.com/js/analytics.js*/,'ga');

		ga('create', 'UA-53903425-7', 'auto');
		ga('send', 'pageview');

		$(window).load(function() {
		  // When the page has loaded
		  $(".main-content").fadeIn(10);
		});
    </script>
</body>
</html>
