<!doctype html>
<html>
<head>
	<meta charset=UTF-8"utf-8">
	<title>Laravel 5.1 ä¸­æ–‡æ–‡æ¡£ï¼šç”¨æˆ·æˆæƒ
</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="author" content="@summerblue">
	<meta name="description" content="ç”¨æˆ·æˆæƒ,ç®€ä»‹,å®šä¹‰æƒé™,æ£€æŸ¥æƒé™,é€šè¿‡ Gate Facade,é€šè¿‡ç”¨æˆ·æ¨¡å‹,ä½¿ç”¨ Blade æ¨¡æ¿,ä½¿ç”¨è¡¨å•è¯·æ±‚,æˆæƒç­–ç•¥,åˆ›å»ºæˆæƒç­–ç•¥,ç¼–å†™æˆæƒç­–ç•¥,æ£€æŸ¥æˆæƒç­–ç•¥,æ§åˆ¶å™¨æˆæƒ,ç®€ä»‹,é™¤äº†å†…ç½®æä¾›çš„ ç”¨æˆ·è®¤è¯ æœåŠ¡å¤–ï¼ŒLaravel è¿˜æä¾›äº†ç”¨æˆ·æˆæƒå’Œèµ„æºè®¿é—®æ§åˆ¶çš„æ–¹æ¡ˆã€‚æœ‰å¾ˆå¤šç§æ–¹æ³•ä¸è¾…åŠ©å‡½æ•°èƒ½å¸®ä½ å¤„ç†æˆæƒé€»è¾‘ï¼Œåœ¨æœ¬æ–‡æ¡£ä¸­æˆ‘ä»¬å°†ä¼šæ¶µç›–æ¯ä¸€ç§æ–¹å¼ã€‚,æ³¨æ„ï¼šæˆæƒåœ¨ Laravel 5.1.11 è¢«...
">
	<meta name="keywords" content="ç”¨æˆ·æˆæƒ,laravel5.1æ–‡æ¡£,laravel5.1ä¸­æ–‡æ–‡æ¡£,laravelä¸­å›½,laravelä¸­æ–‡,laravelæ¡†æ¶ä¸­æ–‡,laravelæ–‡æ¡£,laravelæ¡†æ¶ä¸­å›½,laravelä¸­æ–‡æ–‡æ¡£
">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--[if lte IE 9]>
		<script src="html5shiv.min.js" tppabs="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
	<![endif]-->
	<link rel="stylesheet" href="laravel.css" tppabs="http://laravel-china.org/assets/css/laravel.css">
	<style media="screen">
		div.main-content {
		  display: none;
		}
		.loading-effect {
			position: fixed;
			left: 50%;
			top:300px;
		    z-index: -1;
		}
	</style>
</head>
<body class="docs language-php ">

	<span class="overlay"></span>

	<div class="loading-effect">
		<div class="loader-inner line-scale">
		      <div></div>
		      <div></div>
		      <div></div>
		      <div></div>
		      <div></div>
		  </div>
	</div>


	<div class="main-content">

		<nav class="main">
			<div class="container">
				<a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/" class="brand">
					<img src="laravel-logo.png" tppabs="http://laravel-china.org/assets/img/laravel-logo.png" height="30">
					Laravel
				</a>

				<div class="responsive-sidebar-nav">
					<a href="#" class="toggle-slide menu-link btn">&#9776;</a>
				</div>

									<div class="switcher">
	<div class="dropdown">
		<button class="btn dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
			<!--<span class="faint">v</span> -->
			5.1
			<span class="caret"></span>
		</button>
		<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
							<li role="presentation">
					<a role="menuitem" tabindex="-1" href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">5.1</a>
				</li>
							<li role="presentation">
					<a role="menuitem" tabindex="-1" href="4.2.htm" tppabs="http://laravel-china.org/docs/4.2/authorization">4.2</a>
				</li>
					</ul>
	</div>
</div>
				
				<ul class="main-nav">
					<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
				</ul>
			</div>
		</nav>

		<nav id="slide-menu" class="slide-menu" role="navigation">

	<div class="brand">
		<a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/">
			<img src="laravel-logo-white.png" tppabs="http://laravel-china.org/assets/img/laravel-logo-white.png" height="50">
		</a>
	</div>

	<ul class="slide-main-nav">
		<li><a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/">Home</a></li>
		<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
	</ul>

	<div class="slide-docs-nav">
		<h2>æ–‡æ¡£</h2>

		<a type="button" class="turnofflight"><i class="fa fa-lightbulb-o"></i> <i class="fa fa-star-o"></i> å¤œé—´æ¨¡å¼ </a>
		<ul>
<li>å‰è¨€
<ul>
<li><a href="about.htm" tppabs="http://laravel-china.org/docs/5.1/about">ç¿»è¯‘è¯´æ˜</a></li>
<li><a href="releases.htm" tppabs="http://laravel-china.org/docs/5.1/releases">å‘è¡Œè¯´æ˜</a></li>
<li><a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a></li>
<li><a href="contributions.htm" tppabs="http://laravel-china.org/docs/5.1/contributions">è´¡çŒ®å¯¼å¼•</a></li>
<li><a href="javascript:if(confirm('http://laravel-china.org/api/5.1  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/api/5.1'" tppabs="http://laravel-china.org/api/5.1">API æ–‡æ¡£</a></li>
</ul></li>
<li>ç¯å¢ƒé…ç½®
<ul>
<li><a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a></li>
<li><a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a></li>
</ul></li>
<li>åŸºæœ¬åŠŸèƒ½
<ul>
<li><a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a></li>
<li><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a></li>
<li><a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a></li>
<li><a href="requests.htm" tppabs="http://laravel-china.org/docs/5.1/requests">è¯·æ±‚</a></li>
<li><a href="responses.htm" tppabs="http://laravel-china.org/docs/5.1/responses">å“åº”</a></li>
<li><a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a></li>
<li><a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿</a></li>
</ul></li>
<li>æ•™ç¨‹
<ul>
<li><a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åˆçº§ä»»åŠ¡æ¸…å•</a></li>
<li><a href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">ä¸­çº§ä»»åŠ¡æ¸…å•</a></li>
</ul></li>
<li>ç³»ç»Ÿæ¶æ„
<ul>
<li><a href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="structure.htm" tppabs="http://laravel-china.org/docs/5.1/structure">åº”ç”¨ç¨‹åºç»“æ„</a></li>
<li><a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a></li>
<li><a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a></li>
<li><a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">Contracts</a></li>
<li><a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">Facades</a></li>
</ul></li>
<li>ç³»ç»ŸæœåŠ¡
<ul>
<li><a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a></li>
<li><a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ</a></li>
<li><a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ</a></li>
<li><a href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing">äº¤æ˜“</a></li>
<li><a href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">ç¼“å­˜</a></li>
<li><a href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ</a></li>
<li><a href="elixir.htm" tppabs="http://laravel-china.org/docs/5.1/elixir">Elixir</a></li>
<li><a href="encryption.htm" tppabs="http://laravel-china.org/docs/5.1/encryption">åŠ å¯†ä¸è§£å¯†</a></li>
<li><a href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors">é”™è¯¯ä¸æ—¥å¿—</a></li>
<li><a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a></li>
<li><a href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨</a></li>
<li><a href="hashing.htm" tppabs="http://laravel-china.org/docs/5.1/hashing">å“ˆå¸Œ</a></li>
<li><a href="helpers.htm" tppabs="http://laravel-china.org/docs/5.1/helpers">è¾…åŠ©å‡½æ•°</a></li>
<li><a href="localization.htm" tppabs="http://laravel-china.org/docs/5.1/localization">æœ¬åœ°åŒ–</a></li>
<li><a href="mail.htm" tppabs="http://laravel-china.org/docs/5.1/mail">é‚®ä»¶</a></li>
<li><a href="packages.htm" tppabs="http://laravel-china.org/docs/5.1/packages">æ‰©å±•åŒ…å¼€å‘</a></li>
<li><a href="pagination.htm" tppabs="http://laravel-china.org/docs/5.1/pagination">åˆ†é¡µ</a></li>
<li><a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a></li>
<li><a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a></li>
<li><a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">Session</a></li>
<li><a href="envoy.htm" tppabs="http://laravel-china.org/docs/5.1/envoy">Envoy</a></li>
<li><a href="scheduling.htm" tppabs="http://laravel-china.org/docs/5.1/scheduling">ä»»åŠ¡è°ƒåº¦</a></li>
<li><a href="testing.htm" tppabs="http://laravel-china.org/docs/5.1/testing">æµ‹è¯•</a></li>
<li><a href="validation.htm" tppabs="http://laravel-china.org/docs/5.1/validation">è¡¨å•éªŒè¯</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database.htm" tppabs="http://laravel-china.org/docs/5.1/database">å…¥é—¨</a></li>
<li><a href="queries.htm" tppabs="http://laravel-china.org/docs/5.1/queries">æŸ¥è¯¢æ„é€ å™¨</a></li>
<li><a href="migrations.htm" tppabs="http://laravel-china.org/docs/5.1/migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="seeding.htm" tppabs="http://laravel-china.org/docs/5.1/seeding">æ•°æ®å¡«å……</a></li>
</ul></li>
<li>Eloquent ORM
<ul>
<li><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å…¥é—¨</a></li>
<li><a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">æ¨¡å‹å…³è”</a></li>
<li><a href="eloquent-collections.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-collections">Eloquent é›†åˆ</a></li>
<li><a href="eloquent-mutators.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-mutators">Getter/Setter</a></li>
<li><a href="eloquent-serialization.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-serialization">åºåˆ—åŒ–</a></li>
</ul></li>
</ul>
	</div>

</nav>

<div class="docs-wrapper container">

	<section class="sidebar">

		<div class="header">
			<a type="button" class="btn btn-primary btn-lg btn-block turnofflight"><i class="fa fa-lightbulb-o"></i> <i class="fa fa-star-o"></i> å¤œé—´æ¨¡å¼ </a>
		</div>

		<ul>
<li>å‰è¨€
<ul>
<li><a href="about.htm" tppabs="http://laravel-china.org/docs/5.1/about">ç¿»è¯‘è¯´æ˜</a></li>
<li><a href="releases.htm" tppabs="http://laravel-china.org/docs/5.1/releases">å‘è¡Œè¯´æ˜</a></li>
<li><a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a></li>
<li><a href="contributions.htm" tppabs="http://laravel-china.org/docs/5.1/contributions">è´¡çŒ®å¯¼å¼•</a></li>
<li><a href="javascript:if(confirm('http://laravel-china.org/api/5.1  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/api/5.1'" tppabs="http://laravel-china.org/api/5.1">API æ–‡æ¡£</a></li>
</ul></li>
<li>ç¯å¢ƒé…ç½®
<ul>
<li><a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a></li>
<li><a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a></li>
</ul></li>
<li>åŸºæœ¬åŠŸèƒ½
<ul>
<li><a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a></li>
<li><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a></li>
<li><a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a></li>
<li><a href="requests.htm" tppabs="http://laravel-china.org/docs/5.1/requests">è¯·æ±‚</a></li>
<li><a href="responses.htm" tppabs="http://laravel-china.org/docs/5.1/responses">å“åº”</a></li>
<li><a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a></li>
<li><a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿</a></li>
</ul></li>
<li>æ•™ç¨‹
<ul>
<li><a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åˆçº§ä»»åŠ¡æ¸…å•</a></li>
<li><a href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">ä¸­çº§ä»»åŠ¡æ¸…å•</a></li>
</ul></li>
<li>ç³»ç»Ÿæ¶æ„
<ul>
<li><a href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="structure.htm" tppabs="http://laravel-china.org/docs/5.1/structure">åº”ç”¨ç¨‹åºç»“æ„</a></li>
<li><a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a></li>
<li><a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a></li>
<li><a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">Contracts</a></li>
<li><a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">Facades</a></li>
</ul></li>
<li>ç³»ç»ŸæœåŠ¡
<ul>
<li><a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a></li>
<li><a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ</a></li>
<li><a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ</a></li>
<li><a href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing">äº¤æ˜“</a></li>
<li><a href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">ç¼“å­˜</a></li>
<li><a href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ</a></li>
<li><a href="elixir.htm" tppabs="http://laravel-china.org/docs/5.1/elixir">Elixir</a></li>
<li><a href="encryption.htm" tppabs="http://laravel-china.org/docs/5.1/encryption">åŠ å¯†ä¸è§£å¯†</a></li>
<li><a href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors">é”™è¯¯ä¸æ—¥å¿—</a></li>
<li><a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a></li>
<li><a href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨</a></li>
<li><a href="hashing.htm" tppabs="http://laravel-china.org/docs/5.1/hashing">å“ˆå¸Œ</a></li>
<li><a href="helpers.htm" tppabs="http://laravel-china.org/docs/5.1/helpers">è¾…åŠ©å‡½æ•°</a></li>
<li><a href="localization.htm" tppabs="http://laravel-china.org/docs/5.1/localization">æœ¬åœ°åŒ–</a></li>
<li><a href="mail.htm" tppabs="http://laravel-china.org/docs/5.1/mail">é‚®ä»¶</a></li>
<li><a href="packages.htm" tppabs="http://laravel-china.org/docs/5.1/packages">æ‰©å±•åŒ…å¼€å‘</a></li>
<li><a href="pagination.htm" tppabs="http://laravel-china.org/docs/5.1/pagination">åˆ†é¡µ</a></li>
<li><a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a></li>
<li><a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a></li>
<li><a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">Session</a></li>
<li><a href="envoy.htm" tppabs="http://laravel-china.org/docs/5.1/envoy">Envoy</a></li>
<li><a href="scheduling.htm" tppabs="http://laravel-china.org/docs/5.1/scheduling">ä»»åŠ¡è°ƒåº¦</a></li>
<li><a href="testing.htm" tppabs="http://laravel-china.org/docs/5.1/testing">æµ‹è¯•</a></li>
<li><a href="validation.htm" tppabs="http://laravel-china.org/docs/5.1/validation">è¡¨å•éªŒè¯</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database.htm" tppabs="http://laravel-china.org/docs/5.1/database">å…¥é—¨</a></li>
<li><a href="queries.htm" tppabs="http://laravel-china.org/docs/5.1/queries">æŸ¥è¯¢æ„é€ å™¨</a></li>
<li><a href="migrations.htm" tppabs="http://laravel-china.org/docs/5.1/migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="seeding.htm" tppabs="http://laravel-china.org/docs/5.1/seeding">æ•°æ®å¡«å……</a></li>
</ul></li>
<li>Eloquent ORM
<ul>
<li><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å…¥é—¨</a></li>
<li><a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">æ¨¡å‹å…³è”</a></li>
<li><a href="eloquent-collections.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-collections">Eloquent é›†åˆ</a></li>
<li><a href="eloquent-mutators.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-mutators">Getter/Setter</a></li>
<li><a href="eloquent-serialization.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-serialization">åºåˆ—åŒ–</a></li>
</ul></li>
</ul>
	</section>

	<article>

		<div class="alert alert-warning" role="alert">

			<h4>æ‹¥æŠ± Laravel 5.1 LTS</h4>
			<p>
				å¼ºçƒˆå»ºè®®åœ¨ 2018 å¹´ä¹‹å‰ä½¿ç”¨ Laravel 5.1 æ¥æ„å»ºé¡¹ç›®ï¼ŒLaravel 5.1 æ˜¯ LTS çš„å‘è¡Œç‰ˆæœ¬, å‘è¡Œäº 2015 å¹´ 6 æœˆä»½ï¼Œè‡ªå‘å¸ƒèµ·æä¾›ä¸¤å¹´æ—¶é—´çš„ Bug ä¿®å¤ï¼ˆ2017 å¹´ 6 æœˆï¼‰, 3 å¹´æ—¶é—´çš„å®‰å…¨ä¿®å¤ï¼ˆ2018 å¹´ 6 æœˆï¼‰ã€‚
			</p>
			 <p>
			 	LTS ç‰ˆæœ¬æ˜¯æ­¤é¡¹ç›®èƒ½æä¾›çš„æœ€é•¿æ—¶é—´ç»´æŠ¤ç‰ˆæœ¬ã€‚ä¸€èˆ¬çš„å‘è¡Œç‰ˆæœ¬, åªæä¾› 6 ä¸ªæœˆçš„ Bug ä¿®å¤æ”¯æŒ, ä¸€å¹´çš„å®‰å…¨ä¿®å¤æ”¯æŒ.
			 </p>
		</div>

		<div class="main-content">
			<h1>ç”¨æˆ·æˆæƒ</h1>
<ul>
<li><a href="#introduction">ç®€ä»‹</a></li>
<li><a href="#defining-abilities">å®šä¹‰æƒé™</a></li>
<li><a href="#checking-abilities">æ£€æŸ¥æƒé™</a>
<ul>
<li><a href="#via-the-gate-facade">é€šè¿‡ Gate Facade</a></li>
<li><a href="#via-the-user-model">é€šè¿‡ç”¨æˆ·æ¨¡å‹</a></li>
<li><a href="#within-blade-templates">ä½¿ç”¨ Blade æ¨¡æ¿</a></li>
<li><a href="#within-form-requests">ä½¿ç”¨è¡¨å•è¯·æ±‚</a></li>
</ul></li>
<li><a href="#policies">æˆæƒç­–ç•¥</a>
<ul>
<li><a href="#creating-policies">åˆ›å»ºæˆæƒç­–ç•¥</a></li>
<li><a href="#writing-policies">ç¼–å†™æˆæƒç­–ç•¥</a></li>
<li><a href="#checking-policies">æ£€æŸ¥æˆæƒç­–ç•¥</a></li>
</ul></li>
<li><a href="#controller-authorization">æ§åˆ¶å™¨æˆæƒ</a></li>
</ul>
<p><a name="introduction"></a></p>
<h2>ç®€ä»‹</h2>
<p>é™¤äº†å†…ç½®æä¾›çš„ <a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a> æœåŠ¡å¤–ï¼ŒLaravel è¿˜æä¾›äº†ç”¨æˆ·æˆæƒå’Œèµ„æºè®¿é—®æ§åˆ¶çš„æ–¹æ¡ˆã€‚æœ‰å¾ˆå¤šç§æ–¹æ³•ä¸è¾…åŠ©å‡½æ•°èƒ½å¸®ä½ å¤„ç†æˆæƒé€»è¾‘ï¼Œåœ¨æœ¬æ–‡æ¡£ä¸­æˆ‘ä»¬å°†ä¼šæ¶µç›–æ¯ä¸€ç§æ–¹å¼ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>æˆæƒåœ¨ Laravel 5.1.11 è¢«åŠ å…¥ï¼Œè¯·åœ¨é›†æˆè¿™äº›åŠŸèƒ½å‰å‚è€ƒ <a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a>ã€‚</p>
</blockquote>
<p><a name="defining-abilities"></a></p>
<h2>å®šä¹‰æƒé™</h2>
<p>åˆ¤æ–­ä¸€ä¸ªç”¨æˆ·æ˜¯å¦å…è®¸è¿è¡Œç‰¹å®šè¡Œä¸ºï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ <code>Illuminate\Auth\Access\Gate</code> ç±»å®šä¹‰ã€Œæƒé™ã€ã€‚å¯ä»¥åœ¨ <code>AuthServiceProvider</code> æ–‡ä»¶ä¸­å®šä¹‰åº”ç”¨ç¨‹åºçš„æ‰€æœ‰æƒé™ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ª <code>update-post</code> çš„æƒé™ï¼Œéœ€è¦åˆ¤æ–­ç›®å‰çš„ <code>User</code> åŠ <code>Post</code> <a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">æ¨¡å‹</a> æ˜¯å¦æœ‰æ‰€å±å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ã€Œæ–‡ç« ã€æ˜¯ä¸æ˜¯ã€Œç”¨æˆ·ã€å‘çš„ï¼Œæˆ‘ä»¬ä¼šåˆ¤æ–­ç”¨æˆ·çš„ <code>id</code> ä¸æ–‡ç« çš„ <code>user_id</code> æ˜¯å¦ä¸€è‡´ï¼š</p>
<pre><code>&lt;?php

namespace App\Providers;

use Illuminate\Contracts\Auth\Access\Gate as GateContract;
use Illuminate\Foundation\Support\Providers\AuthServiceProvider as ServiceProvider;

class AuthServiceProvider extends ServiceProvider
{
    /**
     * æ³¨å†Œåº”ç”¨ç¨‹åºçš„è®¤è¯æˆ–æˆæƒæœåŠ¡ã€‚
     *
     * @param  \Illuminate\Contracts\Auth\Access\Gate  $gate
     * @return void
     */
    public function boot(GateContract $gate)
    {
        $this-&gt;registerPolicies($gate);

        $gate-&gt;define('update-post', function ($user, $post) {
            return $user-&gt;id === $post-&gt;user_id;
        });
    }
}</code></pre>
<p>æ³¨æ„ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šæ£€æŸ¥å½“æŒ‡å®šçš„ <code>$user</code> æ˜¯ä¸æ˜¯ <code>NULL</code>ã€‚æœªç™»å½•ç”¨æˆ·æˆ–æ˜¯æ²¡æœ‰ç”¨ <code>forUser</code> æ–¹æ³•æŒ‡å®šçš„ç”¨æˆ·ï¼Œ<code>Gate</code> ä¼šè‡ªåŠ¨ä¸ºå…¶ <strong>æ‰€æœ‰æƒé™</strong> è¿”å› <code>false</code>ã€‚</p>
<h4>åŸºäºç±»çš„æƒé™</h4>
<p>é™¤äº†æ³¨å†Œ <code>é—­åŒ…</code> ä½œä¸ºæˆæƒçš„å›è°ƒï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’åŒ…å« <code>ç±»åç§°</code> åŠ <code>æ–¹æ³•</code> çš„å­—ç¬¦ä¸²æ¥æ³¨å†Œç±»æ–¹æ³•ï¼Œè¯¥ç±»ä¼šé€šè¿‡ <a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a> è¢«è§£æï¼š</p>
<pre><code>$gate-&gt;define('update-post', 'Class@method');</code></pre>
<p><a name="intercepting-all-checks"></a>
<a name="intercepting-authorization-checks"></a></p>
<h4>æ‹¦æˆªæˆæƒæ£€æŸ¥</h4>
<p>æœ‰æ—¶ä½ å¸Œæœ›èµ‹äºˆç»™æŒ‡å®šç”¨æˆ·èµ‹äºæœ€é«˜æƒé™ï¼Œå¦‚ç®¡ç†å‘˜æ‹¥æœ‰æ‰€æœ‰æƒé™ï¼Œå¯ä»¥ä½¿ç”¨ <code>before</code> æ–¹æ³•æ¥å®šä¹‰æ‰€æœ‰æˆæƒæ£€æŸ¥å‰ä¼šè¢«è¿è¡Œçš„å›è°ƒï¼š</p>
<pre><code>$gate-&gt;before(function ($user, $ability) {
    if ($user-&gt;isSuperAdmin()) {
        return true;
    }
});</code></pre>
<p>å¦‚æœ <code>before</code> çš„å›è°ƒè¿”å›ä¸€ä¸ªé null çš„ç»“æœï¼Œåˆ™è¯¥ç»“æœä¼šè¢«ä½œä¸ºæ£€æŸ¥çš„ç»“æœï¼Œå¹¶ä¸­æ–­åé¢çš„å…¶ä»–éªŒè¯ã€‚</p>
<p>ä½ è¿˜å¯ä»¥ä½¿ç”¨ <code>after</code> æ–¹æ³•å®šä¹‰ä¸€ä¸ªå½“æ‰€æœ‰æˆæƒæ£€æŸ¥åä¼šè¢«è¿è¡Œçš„å›è°ƒã€‚ä½†æ˜¯ï¼Œä½ ä¸åº”è¯¥ä¿®æ”¹ <code>after</code> å›è°ƒä¸­æˆæƒæ£€æŸ¥çš„ç»“æœï¼š</p>
<pre><code>$gate-&gt;after(function ($user, $ability, $result, $arguments) {
    //
});</code></pre>
<p><a name="checking-abilities"></a></p>
<h2>æ£€æŸ¥æƒé™</h2>
<p><a name="via-the-gate-facade"></a></p>
<h3>é€šè¿‡ Gate Facade</h3>
<p>ä¸€æ—¦æƒé™è¢«å®šä¹‰åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸åŒæ–¹å¼æ¥åšã€Œæƒé™æ£€æŸ¥ã€ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Gate</code> <a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">facade</a> çš„ <code>check</code>ã€<code>allows</code> æˆ– <code>denies</code> æ–¹æ³•ã€‚æ‰€æœ‰çš„è¿™äº›æ–¹æ³•ä¼šè·å–æƒé™çš„åç§°åŠå‚æ•°ï¼Œå¹¶ä¼šè¢«ä¼ é€’è‡³æƒé™çš„å›è°ƒä¸­ã€‚ä½  <strong>ä¸</strong> éœ€è¦ä¼ é€’å½“å‰ç™»å½•ç”¨æˆ·è‡³è¯¥æ–¹æ³•å†…ï¼Œå› ä¸º <code>Gate</code> ä¼šè‡ªåŠ¨åŠ è½½å½“å‰ç™»å½•ç”¨æˆ·ï¼Œæ‰€ä»¥ï¼Œå½“é€šè¿‡æˆ‘ä»¬å‰é¢å®šä¹‰çš„ <code>update-post</code> æƒé™è¿›è¡Œæ£€æŸ¥æ—¶ï¼Œåªéœ€ä¼ é€’ä¸€ä¸ª <code>Post</code> å®ä¾‹è‡³ <code>denies</code> æ–¹æ³•å³å¯ï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use Gate;
use App\User;
use App\Post;
use App\Http\Controllers\Controller;

class PostController extends Controller
{
    /**
     * æ›´æ–°æŒ‡å®šçš„æ–‡ç« ã€‚
     *
     * @param  int  $id
     * @return Response
     */
    public function update($id)
    {
        $post = Post::findOrFail($id);

        if (Gate::denies('update-post', $post)) {
            abort(403);
        }

        // æ›´æ–°æ–‡ç« ...
    }
}</code></pre>
<p><code>allows</code> æ–¹æ³•åªæ˜¯ç®€å•çš„å°† <code>denies</code> æ–¹æ³•ç»™é¢ å€’è¿‡æ¥ï¼Œå½“æˆæƒæˆåŠŸæ—¶å€™ä¼šè¿”å› <code>true</code>ã€‚<code>check</code> æ–¹æ³•åˆ™æ˜¯ <code>allows</code> æ–¹æ³•çš„åˆ«åã€‚</p>
<h4>æ£€æŸ¥æŒ‡å®šç”¨æˆ·çš„æƒé™</h4>
<p>å¦‚æœä½ æƒ³æ£€æŸ¥ <strong>é™¤äº†å½“å‰ç™»å½•ç”¨æˆ·ä»¥å¤–çš„å…¶ä»–ç”¨æˆ·</strong> æ˜¯å¦æ‹¥æœ‰æŒ‡å®šçš„æƒé™ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>forUser</code> æ–¹æ³•ï¼š</p>
<pre><code>if (Gate::forUser($user)-&gt;allows('update-post', $post)) {
    //
}</code></pre>
<h4>ä¼ é€’å¤šä¸ªå‚æ•°</h4>
<p>å½“ç„¶ï¼Œæƒé™çš„å›è°ƒå¯ä»¥ä¼ é€’å¤šä¸ªå‚æ•°ï¼š</p>
<pre><code>Gate::define('delete-comment', function ($user, $post, $comment) {
    //
});</code></pre>
<p>å¦‚æœä½ çš„æƒé™éœ€è¦å¤šä¸ªå‚æ•°ï¼Œåªéœ€ç®€å•çš„ä¼ é€’ä¸€ä¸ªæ•°ç»„ä½œä¸º <code>Gate</code> æ–¹æ³•çš„å‚æ•°ï¼š</p>
<pre><code>if (Gate::allows('delete-comment', [$post, $comment])) {
    //
}</code></pre>
<p><a name="via-the-user-model"></a></p>
<h3>é€šè¿‡ç”¨æˆ·æ¨¡å‹</h3>
<p>å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ <code>User</code> æ¨¡å‹çš„å®ä¾‹æ£€æŸ¥æƒé™ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒLaravel çš„ <code>App\User</code> æ¨¡å‹ä½¿ç”¨äº† <code>Authorizable</code> traitï¼Œå®ƒæä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼š<code>can</code> åŠ <code>cannot</code>ã€‚è¿™äº›æ–¹æ³•ä½¿ç”¨èµ·æ¥ç›¸ä¼¼äº <code>Gate</code> facade æä¾›çš„ <code>allows</code> ä¸ <code>denies</code> æ–¹æ³•ã€‚æ‰€ä»¥ï¼Œæ²¿ç”¨æˆ‘ä»¬ä¹‹å‰çš„ä¾‹å­ï¼Œå¯ä»¥å°†ä»£ç æ”¹æˆå¦‚ä¸‹ï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use App\Post;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;

class PostController extends Controller
{
    /**
     * æ›´æ–°æŒ‡å®šçš„æ–‡ç« ã€‚
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  int  $id
     * @return Response
     */
    public function update(Request $request, $id)
    {
        $post = Post::findOrFail($id);

        if ($request-&gt;user()-&gt;cannot('update-post', $post)) {
            abort(403);
        }

        // æ›´æ–°æ–‡ç« ...
    }
}</code></pre>
<p>å½“ç„¶ï¼Œ<code>can</code> æ–¹æ³•åªæ˜¯ç®€å•çš„å°† <code>cannot</code> æ–¹æ³•ç»™é¢ å€’è¿‡æ¥ï¼š</p>
<pre><code>if ($request-&gt;user()-&gt;can('update-post', $post)) {
    // æ›´æ–°æ–‡ç« ...
}</code></pre>
<p><a name="within-blade-templates"></a></p>
<h3>ä½¿ç”¨ Blade æ¨¡æ¿</h3>
<p>åœ¨ Blade æ¨¡æ¿ä¸­ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ <code>@can</code> å‘½ä»¤æ¥å¿«é€Ÿæ£€æŸ¥å½“å‰ç™»å½•ç”¨æˆ·æ˜¯å¦æœ‰æŒ‡å®šçš„æƒé™ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code>&lt;a href="/post/{{ $post-&gt;id }}"&gt;æŸ¥çœ‹æ–‡ç« &lt;/a&gt;

@can('update-post', $post)
    &lt;a href="/post/{{ $post-&gt;id }}/edit"&gt;ç¼–è¾‘æ–‡ç« &lt;/a&gt;
@endcan</code></pre>
<p>ä½ ä¹Ÿå¯ä»¥å°† <code>@else</code> å‘½ä»¤é…åˆ <code>@can</code> å‘½ä»¤ï¼š</p>
<pre><code>@can('update-post', $post)
    &lt;!-- å½“å‰ç™»å½•ç”¨æˆ·å¯ä»¥æ›´æ–°æ–‡ç«  --&gt;
@else
    &lt;!-- å½“å‰ç™»å½•ç”¨æˆ·ä¸å¯ä»¥æ›´æ–°æ–‡ç«  --&gt;
@endcan</code></pre>
<p><a name="within-form-requests"></a></p>
<h3>ä½¿ç”¨è¡¨å•è¯·æ±‚</h3>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨ <a href="validation.htm#form-request-validation" tppabs="http://laravel-china.org/docs/5.1/validation#form-request-validation">è¡¨å•è¯·æ±‚</a> çš„ <code>authorize</code> æ–¹æ³•ä¸­é‡‡ç”¨ä½ çš„ <code>Gate</code> å®šä¹‰çš„æƒé™ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code>/**
 * åˆ¤æ–­å½“ç”¨æˆ·å·²è¢«æˆæƒå¹¶å‘é€æ­¤è¯·æ±‚ã€‚
 *
 * @return bool
 */
public function authorize()
{
    $postId = $this-&gt;route('post');

    return Gate::allows('update', Post::findOrFail($postId));
}</code></pre>
<p><a name="policies"></a></p>
<h2>æˆæƒç­–ç•¥</h2>
<p><a name="creating-policies"></a></p>
<h3>åˆ›å»ºæˆæƒç­–ç•¥</h3>
<p>åœ¨å¤§å‹åº”ç”¨ç¨‹åºä¸­ï¼ŒæŠŠä½ æ‰€æœ‰çš„æˆæƒé€»è¾‘å®šä¹‰åœ¨ <code>AuthServiceProvider</code> ä¸­å¯èƒ½æˆä¸ºç´¯èµ˜ï¼Œä½ å¯ä»¥åˆ‡åˆ†ä½ çš„æˆæƒé€»è¾‘è‡³ã€Œæˆæƒç­–ç•¥ã€ç±»ã€‚æˆæƒç­–ç•¥æ˜¯ç®€å•çš„ PHP ç±»ï¼Œå¹¶åŸºäºæˆæƒçš„èµ„æºå°†æˆæƒé€»è¾‘è¿›è¡Œåˆ†ç»„ã€‚</p>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªæˆæƒç­–ç•¥æ¥ç®¡ç† <code>Post</code> æ¨¡å‹çš„æˆæƒã€‚ä½ å¯ä»¥é€šè¿‡ <code>make:policy</code> <a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">artisan å‘½ä»¤</a> ç”Ÿæˆä¸€ä¸ªæˆæƒç­–ç•¥ã€‚ç”Ÿæˆçš„æˆæƒç­–ç•¥ä¼šè¢«æ”¾ç½®äº <code>app/Policies</code> ç›®å½•ä¸­ï¼š</p>
<pre><code>php artisan make:policy PostPolicy</code></pre>
<h4>æ³¨å†Œæˆæƒç­–ç•¥</h4>
<p>ä¸€æ—¦è¯¥æˆæƒç­–ç•¥å­˜åœ¨ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒä¸ <code>Gate</code> ç±»è¿›è¡Œæ³¨å†Œã€‚<code>AuthServiceProvider</code> åŒ…å«äº†ä¸€ä¸ª <code>policies</code> å±æ€§ï¼Œå¯å°†å„ç§æ¨¡å‹å¯¹åº”è‡³ç®¡ç†å®ƒä»¬çš„æˆæƒç­–ç•¥ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®š <code>Post</code> æ¨¡å‹çš„æˆæƒç­–ç•¥æ˜¯ <code>PostPilicy</code> ç±»ï¼š</p>
<pre><code>&lt;?php

namespace App\Providers;

use App\Post;
use App\Policies\PostPolicy;
use Illuminate\Foundation\Support\Providers\AuthServiceProvider as ServiceProvider;

class AuthServiceProvider extends ServiceProvider
{
    /**
     * åº”ç”¨ç¨‹åºçš„æˆæƒç­–ç•¥å¯¹åº”ã€‚
     *
     * @var array
     */
    protected $policies = [
        Post::class =&gt; PostPolicy::class,
    ];

    /**
     * æ³¨å†Œä»»ä½•åº”ç”¨ç¨‹åºçš„è®¤è¯æˆ–æˆæƒæœåŠ¡ã€‚
     *
     * @param  \Illuminate\Contracts\Auth\Access\Gate  $gate
     * @return void
     */
    public function boot(GateContract $gate)
    {
        $this-&gt;registerPolicies($gate);
    }
}</code></pre>
<p><a name="writing-policies"></a></p>
<h3>ç¼–å†™æˆæƒç­–ç•¥</h3>
<p>ä¸€æ—¦æˆæƒç­–ç•¥è¢«ç”Ÿæˆä¸”æ³¨å†Œï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸ºæ¯ä¸ªæƒé™çš„æˆæƒå¢åŠ æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬åœ¨ <code>PostPolicy</code> ä¸­å®šä¹‰ä¸€ä¸ª <code>update</code> æ–¹æ³•ï¼Œå®ƒä¼šåˆ¤æ–­æŒ‡å®šçš„ <code>User</code> æ˜¯å¦å¯ä»¥ã€Œæ›´æ–°ã€ä¸€æ¡ <code>Post</code>ï¼š</p>
<pre><code>&lt;?php

namespace App\Policies;

use App\User;
use App\Post;

class PostPolicy
{
    /**
     * åˆ¤æ–­æŒ‡å®šçš„æ–‡ç« æ˜¯å¦å¯ä»¥è¢«è¯¥ç”¨æˆ·æ›´æ–°ã€‚
     *
     * @param  \App\User  $user
     * @param  \App\Post  $post
     * @return bool
     */
    public function update(User $user, Post $post)
    {
        return $user-&gt;id === $post-&gt;user_id;
    }
}</code></pre>
<p>ä½ å¯ä»¥æ¥ç€åœ¨æ­¤æˆæƒç­–ç•¥å®šä¹‰é¢å¤–çš„æ–¹æ³•ï¼Œä½œä¸ºå„ç§æƒé™éœ€è¦çš„æˆæƒã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å®šä¹‰ <code>show</code>ã€<code>destroy</code> æˆ– <code>addComment</code> æ–¹æ³•æ¥æˆæƒ <code>Post</code> çš„å¤šç§è¡Œä¸ºã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>æ‰€æœ‰æˆæƒç­–ç•¥ä¼šé€šè¿‡ Laravel <a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a>è§£æï¼Œæ„æŒ‡ä½ å¯ä»¥åœ¨æˆæƒç­–ç•¥çš„æ„é€ å™¨å¯¹ä»»ä½•éœ€è¦çš„ä¾èµ–ä½¿ç”¨ç±»å‹æç¤ºï¼Œå®ƒä»¬å°†ä¼šè¢«è‡ªåŠ¨æ³¨å…¥ã€‚</p>
</blockquote>
<h4>æ‹¦æˆªæ‰€æœ‰æ£€æŸ¥</h4>
<p>æœ‰æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›åœ¨æˆæƒç­–ç•¥èµ‹äºˆæ‰€æœ‰æƒé™ç»™æŒ‡å®šç”¨æˆ·ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œåªè¦åœ¨æˆæƒç­–ç•¥ä¸­å®šä¹‰ä¸€ä¸ª <code>before</code> æ–¹æ³•ã€‚æˆæƒç­–ç•¥çš„æ­¤æ–¹æ³•ä¼šåœ¨å…¶å®ƒæ‰€æœ‰æˆæƒæ£€æŸ¥å‰è¢«è¿è¡Œï¼š</p>
<pre><code>public function before($user, $ability)
{
    if ($user-&gt;isSuperAdmin()) {
        return true;
    }
}</code></pre>
<p>å¦‚æœ <code>before</code> çš„å›è°ƒè¿”å›ä¸€ä¸ªé null çš„ç»“æœï¼Œåˆ™è¯¥ç»“æœä¼šè¢«ä½œä¸ºæ£€æŸ¥çš„ç»“æœã€‚</p>
<p><a name="checking-policies"></a></p>
<h3>æ£€æŸ¥æˆæƒç­–ç•¥</h3>
<p>æˆæƒç­–ç•¥æ–¹æ³•çš„è°ƒç”¨æ–¹å¼å’ŒåŸºäºæˆæƒçš„å›è°ƒ<code>é—­åŒ…</code>æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚ä½ å¯ä»¥ä½¿ç”¨<code>Gate</code> facadeã€<code>User</code> æ¨¡å‹ã€<code>@can</code> Blade å‘½ä»¤æˆ–æ˜¯ <code>policy</code> è¾…åŠ©å‡½æ•°ã€‚</p>
<h4>é€šè¿‡ Gate Facade</h4>
<p><code>Gate</code> ä¼šé€šè¿‡æ£€æŸ¥ä¼ é€’ç»™è¯¥ç±»æ–¹æ³•çš„å‚æ•°è‡ªåŠ¨åˆ¤æ–­è¯¥ä½¿ç”¨å“ªç§æˆæƒç­–ç•¥ã€‚æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬ä¼ é€’ä¸€ä¸ª <code>Post</code> å®ä¾‹åˆ° <code>denies</code> æ–¹æ³•ï¼Œ<code>Gate</code> ä¼šé‡‡ç”¨å¯¹åº”çš„ <code>PostPolicy</code> æ¥æˆæƒè¡Œä¸ºï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use Gate;
use App\User;
use App\Post;
use App\Http\Controllers\Controller;

class PostController extends Controller
{
    /**
     * æ›´æ–°æŒ‡å®šçš„æ–‡ç« ã€‚
     *
     * @param  int  $id
     * @return Response
     */
    public function update($id)
    {
        $post = Post::findOrFail($id);

        if (Gate::denies('update', $post)) {
            abort(403);
        }

        // æ›´æ–°æ–‡ç« ...
    }
}</code></pre>
<h4>é€šè¿‡ç”¨æˆ·æ¨¡å‹</h4>
<p><code>User</code> æ¨¡å‹çš„ <code>can</code> ä¸ <code>cannot</code> æ–¹æ³•ä¹Ÿä¼šè‡ªåŠ¨é‡‡ç”¨æŒ‡å®šå‚æ•°å¯ç”¨çš„æˆæƒç­–ç•¥ã€‚æ­¤æ–¹æ³•æä¾›ä¸€ä¸ªç®€å•çš„æ–¹å¼åœ¨åº”ç”¨ç¨‹åºä¸­ä¸ºä»»ä½•è·å–åˆ°çš„ <code>User</code> å®ä¾‹æˆæƒè¡Œä¸ºï¼š</p>
<pre><code>if ($user-&gt;can('update', $post)) {
    //
}

if ($user-&gt;cannot('update', $post)) {
    //
}</code></pre>
<h4>ä½¿ç”¨ Blade æ¨¡æ¿</h4>
<p>åŒæ ·çš„ï¼Œ<code>@can</code> Blade å‘½ä»¤ä¼šé‡‡ç”¨æŒ‡å®šå‚æ•°å¯ç”¨çš„æˆæƒã€‚</p>
<pre><code>@can('update', $post)
    &lt;!-- ç›®å‰çš„ç”¨æˆ·å¯ä»¥æ›´æ–°æ–‡ç«  --&gt;
@endcan</code></pre>
<h4>é€šè¿‡æˆæƒç­–ç•¥è¾…åŠ©å‡½æ•°</h4>
<p>å…¨å±€çš„ <code>policy</code> è¾…åŠ©å‡½æ•°å¯ä»¥è¢«ç”¨äºä¸ºæŒ‡å®šçš„ç±»å®ä¾‹è·å– <code>Policy</code> ç±»ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ é€’ä¸€ä¸ª <code>Post</code> å®ä¾‹è‡³ <code>policy</code> è¾…åŠ©å‡½æ•°ï¼Œè·å–å¯¹åº”çš„ <code>PostPolicy</code> ç±»å®ä¾‹ï¼š</p>
<pre><code>if (policy($post)-&gt;update($user, $post)) {
    //
}</code></pre>
<p><a name="controller-authorization"></a></p>
<h2>æ§åˆ¶å™¨æˆæƒ</h2>
<p>é»˜è®¤çš„ï¼Œ<code>App\Http\Controllers\Controller</code> ç±»åŒ…å«äº† Laravel ä½¿ç”¨çš„ <code>AuthorizesRequests</code> traitã€‚æ­¤ trait æä¾›äº† <code>authorize</code> æ–¹æ³•ï¼Œå®ƒå¯ä»¥è¢«ç”¨äºå¿«é€Ÿæˆæƒä¸€ä¸ªæŒ‡å®šçš„è¡Œä¸ºï¼Œå½“æ— æƒé™è¿è¡Œè¯¥è¡Œä¸ºæ—¶ä¼šæŠ›å‡º <code>HttpException</code>ã€‚</p>
<p><code>authorize</code> æ–¹æ³•ä¸å…¶å®ƒæˆæƒæ–¹æ³•å…±ç”¨äº†åŒæ ·çš„ç‰¹å¾ï¼Œåƒæ˜¯ <code>Gate::allows</code> ä¸ <code>$user-&gt;can()</code>ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ <code>authorize</code> æ–¹æ³•æ¥å¿«é€Ÿæˆæƒä¸€ä¸ªè¯·æ±‚ä»¥æ›´æ–°ä¸€æ¡ <code>Post</code>ï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use App\Post;
use App\Http\Controllers\Controller;

class PostController extends Controller
{
    /**
     * æ›´æ–°æŒ‡å®šçš„æ–‡ç« ã€‚
     *
     * @param  int  $id
     * @return Response
     */
    public function update($id)
    {
        $post = Post::findOrFail($id);

        $this-&gt;authorize('update', $post);

        // æ›´æ–°æ–‡ç« ...
    }
}</code></pre>
<p>å¦‚æœè¯¥è¡Œä¸ºè¢«æˆæƒäº†ï¼Œæ§åˆ¶å™¨å°†ä¼šç»§ç»­æ­£å¸¸è¿è¡Œï¼›ä½†æ˜¯ï¼Œå¦‚æœ <code>authorize</code> æ–¹æ³•åˆ¤æ–­æ²¡æœ‰æƒé™è¿è¡Œè¯¥è¡Œä¸ºï¼Œé‚£ä¹ˆå°†ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰ <code>403 Not Authorized</code> çŠ¶æ€ç çš„ HTTP å“åº”å¹¶æŠ›å‡ºå¼‚å¸¸ã€‚å¦‚ä½ æ‰€è§ï¼Œ<code>authorize</code> æ–¹æ³•æ˜¯è¿›è¡Œæˆæƒè¡Œä¸ºæˆ–å¤„ç†æŠ›å‡ºå¼‚å¸¸çš„ä¸€ä¸ªç®€å•ã€å¿«é€Ÿçš„æ–¹æ³•ï¼Œä»…ä½¿ç”¨äº†ä¸€è¡Œç¨‹åºä»£ç ã€‚</p>
<p><code>AuthorizesRequests</code> trait ä¹Ÿæä¾›äº† <code>authorizeForUser</code> æ–¹æ³•æ¥ä¸ºå½“å‰éè®¤è¯ç”¨æˆ·æˆæƒè¡Œä¸ºï¼š</p>
<pre><code>$this-&gt;authorizeForUser($user, 'update', $post);</code></pre>
<h4>è‡ªåŠ¨åˆ¤æ–­æˆæƒç­–ç•¥æ–¹æ³•</h4>
<p>é€šå¸¸ï¼Œä¸€ä¸ªæˆæƒç­–ç•¥æ–¹æ³•ä¼šå¯¹åº”ä¸€ä¸ªæ§åˆ¶å™¨æ–¹æ³•ã€‚ä»¥ä¸‹æ–¹çš„ <code>update</code> æ–¹æ³•ä¸ºä¾‹ï¼Œæ§åˆ¶å™¨æ–¹æ³•åŠæˆæƒç­–ç•¥æ–¹æ³•ä¼šå…±ç”¨ç›¸åŒçš„åç§°ï¼š<code>update</code>ã€‚</p>
<p>å› æ­¤ï¼ŒLaravel è®©ä½ èƒ½å¤Ÿç®€å•çš„ä¼ é€’å®ä¾‹å‚æ•°è‡³ <code>authorize</code> æ–¹æ³•ï¼ŒåŸºäºè¢«è°ƒç”¨çš„å‡½æ•°åç§°ï¼Œè‡ªåŠ¨åˆ¤æ–­å‡ºåº”è¯¥æˆæƒçš„æƒé™ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå› ä¸º <code>authorize</code> è¢«æ§åˆ¶å™¨çš„ <code>update</code> æ–¹æ³•è°ƒç”¨ï¼Œæ‰€ä»¥ä¹Ÿä¼šè°ƒç”¨ <code>PostPolicy</code> ä¸­çš„ <code>update</code> æ–¹æ³•ï¼š</p>
<pre><code>/**
 * æ›´æ–°æŒ‡å®šçš„æ–‡ç« ã€‚
 *
 * @param  int  $id
 * @return Response
 */
public function update($id)
{
    $post = Post::findOrFail($id);

    $this-&gt;authorize($post);

    // æ›´æ–°æ–‡ç« ...
}</code></pre>
		</div>

		<div class="main-footer" style="border-top:1px dashed rgba(0, 0, 0, 0.1);padding-top: 30px;margin-top:30px;margin-bottom: 20px;">
			<div class="prev-next-wrap clearfix">

									<a class="btn btn-default pull-left" href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication"><i class="fa fa-arrow-left"></i> ç”¨æˆ·è®¤è¯</a>
				
			    &nbsp;
								    <a class="btn btn-default pull-right" href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ <i class="fa fa-arrow-right"></i></a>
							</div>
		</div>

	</article>
</div>

		<footer class="main">
			<ul>
				<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
			</ul>
			<p>Laravel is a trademark of Taylor Otwell. Copyright &copy; Taylor Otwell.</p>
			<p class="less-significant"><a href="javascript:if(confirm('http://jackmcdade.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://jackmcdade.com/'" tppabs="http://jackmcdade.com/">Design by Jack McDade</a></p>

			<p class="less-significant">
				<a href="javascript:if(confirm('http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao'" tppabs="http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao" target="_blank">ç”± UCloud èµåŠ©  <img src="dYfOYswiQY.png" tppabs="https://dn-phphub.qbox.me/uploads/images/201605/03/1/dYfOYswiQY.png" width="98" data-toggle="tooltip" data-placement="top" title="æœ¬ç«™æœåŠ¡å™¨ç”± UCloud èµåŠ©"></a>.
		      </p>
		</footer>

	</div>

	<script src="laravel.js" tppabs="http://laravel-china.org/assets/js/laravel.js"></script>
	<script src="viewport-units-buggyfill.js" tppabs="http://laravel-china.org/assets/js/viewport-units-buggyfill.js"></script>
	<script>window.viewportUnitsBuggyfill.init();</script>
    <script>

		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','analytics.js'/*tpa=http://7xijlf.com2.z0.glb.qiniucdn.com/js/analytics.js*/,'ga');

		ga('create', 'UA-53903425-7', 'auto');
		ga('send', 'pageview');

		$(window).load(function() {
		  // When the page has loaded
		  $(".main-content").fadeIn(10);
		});
    </script>
</body>
</html>
