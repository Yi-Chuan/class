<!doctype html>
<html>
<head>
	<meta charset=UTF-8"utf-8">
	<title>Laravel 5.1 ä¸­æ–‡æ–‡æ¡£ï¼šç¼“å­˜
</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="author" content="@summerblue">
	<meta name="description" content="ç¼“å­˜,é…ç½®ä¿¡æ¯,ç¼“å­˜çš„ä½¿ç”¨,è·å–ä¸€ä¸ªç¼“å­˜çš„å®ä¾‹,ä»ç¼“å­˜ä¸­è·å–é¡¹ç›®,å­˜æ”¾é¡¹ç›®åˆ°ç¼“å­˜ä¸­,åˆ é™¤ç¼“å­˜ä¸­çš„é¡¹ç›®,åŠ å…¥è‡ªå®šä¹‰çš„ç¼“å­˜é©±åŠ¨,ç¼“å­˜æ ‡ç­¾,å†™å…¥è¢«æ ‡è®°çš„ç¼“å­˜é¡¹ç›®,è·å–è¢«æ ‡è®°çš„ç¼“å­˜é¡¹ç›®,ç¼“å­˜äº‹ä»¶,é…ç½®ä¿¡æ¯,Laravel ç»™å„ç§ä¸åŒçš„ç¼“å­˜ç³»ç»Ÿæä¾›äº†ç»Ÿä¸€çš„ APIï¼Œç¼“å­˜çš„é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨ config/cache.php ä¸­ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šé»˜è®¤æƒ³ç”¨å“ªä¸ªç¼“å­˜é©±åŠ¨ï¼ŒLaravel æ”¯æŒå½“å‰æµè¡Œçš„ç¼“å­˜åç«¯...
">
	<meta name="keywords" content="ç¼“å­˜,laravel5.1æ–‡æ¡£,laravel5.1ä¸­æ–‡æ–‡æ¡£,laravelä¸­å›½,laravelä¸­æ–‡,laravelæ¡†æ¶ä¸­æ–‡,laravelæ–‡æ¡£,laravelæ¡†æ¶ä¸­å›½,laravelä¸­æ–‡æ–‡æ¡£
">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--[if lte IE 9]>
		<script src="html5shiv.min.js" tppabs="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
	<![endif]-->
	<link rel="stylesheet" href="laravel.css" tppabs="http://laravel-china.org/assets/css/laravel.css">
	<style media="screen">
		div.main-content {
		  display: none;
		}
		.loading-effect {
			position: fixed;
			left: 50%;
			top:300px;
		    z-index: -1;
		}
	</style>
</head>
<body class="docs language-php ">

	<span class="overlay"></span>

	<div class="loading-effect">
		<div class="loader-inner line-scale">
		      <div></div>
		      <div></div>
		      <div></div>
		      <div></div>
		      <div></div>
		  </div>
	</div>


	<div class="main-content">

		<nav class="main">
			<div class="container">
				<a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/" class="brand">
					<img src="laravel-logo.png" tppabs="http://laravel-china.org/assets/img/laravel-logo.png" height="30">
					Laravel
				</a>

				<div class="responsive-sidebar-nav">
					<a href="#" class="toggle-slide menu-link btn">&#9776;</a>
				</div>

									<div class="switcher">
	<div class="dropdown">
		<button class="btn dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
			<!--<span class="faint">v</span> -->
			5.1
			<span class="caret"></span>
		</button>
		<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
							<li role="presentation">
					<a role="menuitem" tabindex="-1" href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">5.1</a>
				</li>
							<li role="presentation">
					<a role="menuitem" tabindex="-1" href="cache-1.htm" tppabs="http://laravel-china.org/docs/4.2/cache">4.2</a>
				</li>
					</ul>
	</div>
</div>
				
				<ul class="main-nav">
					<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
				</ul>
			</div>
		</nav>

		<nav id="slide-menu" class="slide-menu" role="navigation">

	<div class="brand">
		<a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/">
			<img src="laravel-logo-white.png" tppabs="http://laravel-china.org/assets/img/laravel-logo-white.png" height="50">
		</a>
	</div>

	<ul class="slide-main-nav">
		<li><a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/">Home</a></li>
		<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
	</ul>

	<div class="slide-docs-nav">
		<h2>æ–‡æ¡£</h2>

		<a type="button" class="turnofflight"><i class="fa fa-lightbulb-o"></i> <i class="fa fa-star-o"></i> å¤œé—´æ¨¡å¼ </a>
		<ul>
<li>å‰è¨€
<ul>
<li><a href="about.htm" tppabs="http://laravel-china.org/docs/5.1/about">ç¿»è¯‘è¯´æ˜</a></li>
<li><a href="releases.htm" tppabs="http://laravel-china.org/docs/5.1/releases">å‘è¡Œè¯´æ˜</a></li>
<li><a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a></li>
<li><a href="contributions.htm" tppabs="http://laravel-china.org/docs/5.1/contributions">è´¡çŒ®å¯¼å¼•</a></li>
<li><a href="javascript:if(confirm('http://laravel-china.org/api/5.1  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/api/5.1'" tppabs="http://laravel-china.org/api/5.1">API æ–‡æ¡£</a></li>
</ul></li>
<li>ç¯å¢ƒé…ç½®
<ul>
<li><a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a></li>
<li><a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a></li>
</ul></li>
<li>åŸºæœ¬åŠŸèƒ½
<ul>
<li><a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a></li>
<li><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a></li>
<li><a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a></li>
<li><a href="requests.htm" tppabs="http://laravel-china.org/docs/5.1/requests">è¯·æ±‚</a></li>
<li><a href="responses.htm" tppabs="http://laravel-china.org/docs/5.1/responses">å“åº”</a></li>
<li><a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a></li>
<li><a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿</a></li>
</ul></li>
<li>æ•™ç¨‹
<ul>
<li><a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åˆçº§ä»»åŠ¡æ¸…å•</a></li>
<li><a href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">ä¸­çº§ä»»åŠ¡æ¸…å•</a></li>
</ul></li>
<li>ç³»ç»Ÿæ¶æ„
<ul>
<li><a href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="structure.htm" tppabs="http://laravel-china.org/docs/5.1/structure">åº”ç”¨ç¨‹åºç»“æ„</a></li>
<li><a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a></li>
<li><a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a></li>
<li><a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">Contracts</a></li>
<li><a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">Facades</a></li>
</ul></li>
<li>ç³»ç»ŸæœåŠ¡
<ul>
<li><a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a></li>
<li><a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ</a></li>
<li><a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ</a></li>
<li><a href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing">äº¤æ˜“</a></li>
<li><a href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">ç¼“å­˜</a></li>
<li><a href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ</a></li>
<li><a href="elixir.htm" tppabs="http://laravel-china.org/docs/5.1/elixir">Elixir</a></li>
<li><a href="encryption.htm" tppabs="http://laravel-china.org/docs/5.1/encryption">åŠ å¯†ä¸è§£å¯†</a></li>
<li><a href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors">é”™è¯¯ä¸æ—¥å¿—</a></li>
<li><a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a></li>
<li><a href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨</a></li>
<li><a href="hashing.htm" tppabs="http://laravel-china.org/docs/5.1/hashing">å“ˆå¸Œ</a></li>
<li><a href="helpers.htm" tppabs="http://laravel-china.org/docs/5.1/helpers">è¾…åŠ©å‡½æ•°</a></li>
<li><a href="localization.htm" tppabs="http://laravel-china.org/docs/5.1/localization">æœ¬åœ°åŒ–</a></li>
<li><a href="mail.htm" tppabs="http://laravel-china.org/docs/5.1/mail">é‚®ä»¶</a></li>
<li><a href="packages.htm" tppabs="http://laravel-china.org/docs/5.1/packages">æ‰©å±•åŒ…å¼€å‘</a></li>
<li><a href="pagination.htm" tppabs="http://laravel-china.org/docs/5.1/pagination">åˆ†é¡µ</a></li>
<li><a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a></li>
<li><a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a></li>
<li><a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">Session</a></li>
<li><a href="envoy.htm" tppabs="http://laravel-china.org/docs/5.1/envoy">Envoy</a></li>
<li><a href="scheduling.htm" tppabs="http://laravel-china.org/docs/5.1/scheduling">ä»»åŠ¡è°ƒåº¦</a></li>
<li><a href="testing.htm" tppabs="http://laravel-china.org/docs/5.1/testing">æµ‹è¯•</a></li>
<li><a href="validation.htm" tppabs="http://laravel-china.org/docs/5.1/validation">è¡¨å•éªŒè¯</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database.htm" tppabs="http://laravel-china.org/docs/5.1/database">å…¥é—¨</a></li>
<li><a href="queries.htm" tppabs="http://laravel-china.org/docs/5.1/queries">æŸ¥è¯¢æ„é€ å™¨</a></li>
<li><a href="migrations.htm" tppabs="http://laravel-china.org/docs/5.1/migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="seeding.htm" tppabs="http://laravel-china.org/docs/5.1/seeding">æ•°æ®å¡«å……</a></li>
</ul></li>
<li>Eloquent ORM
<ul>
<li><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å…¥é—¨</a></li>
<li><a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">æ¨¡å‹å…³è”</a></li>
<li><a href="eloquent-collections.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-collections">Eloquent é›†åˆ</a></li>
<li><a href="eloquent-mutators.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-mutators">Getter/Setter</a></li>
<li><a href="eloquent-serialization.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-serialization">åºåˆ—åŒ–</a></li>
</ul></li>
</ul>
	</div>

</nav>

<div class="docs-wrapper container">

	<section class="sidebar">

		<div class="header">
			<a type="button" class="btn btn-primary btn-lg btn-block turnofflight"><i class="fa fa-lightbulb-o"></i> <i class="fa fa-star-o"></i> å¤œé—´æ¨¡å¼ </a>
		</div>

		<ul>
<li>å‰è¨€
<ul>
<li><a href="about.htm" tppabs="http://laravel-china.org/docs/5.1/about">ç¿»è¯‘è¯´æ˜</a></li>
<li><a href="releases.htm" tppabs="http://laravel-china.org/docs/5.1/releases">å‘è¡Œè¯´æ˜</a></li>
<li><a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a></li>
<li><a href="contributions.htm" tppabs="http://laravel-china.org/docs/5.1/contributions">è´¡çŒ®å¯¼å¼•</a></li>
<li><a href="javascript:if(confirm('http://laravel-china.org/api/5.1  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/api/5.1'" tppabs="http://laravel-china.org/api/5.1">API æ–‡æ¡£</a></li>
</ul></li>
<li>ç¯å¢ƒé…ç½®
<ul>
<li><a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a></li>
<li><a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a></li>
</ul></li>
<li>åŸºæœ¬åŠŸèƒ½
<ul>
<li><a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a></li>
<li><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a></li>
<li><a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a></li>
<li><a href="requests.htm" tppabs="http://laravel-china.org/docs/5.1/requests">è¯·æ±‚</a></li>
<li><a href="responses.htm" tppabs="http://laravel-china.org/docs/5.1/responses">å“åº”</a></li>
<li><a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a></li>
<li><a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿</a></li>
</ul></li>
<li>æ•™ç¨‹
<ul>
<li><a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åˆçº§ä»»åŠ¡æ¸…å•</a></li>
<li><a href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">ä¸­çº§ä»»åŠ¡æ¸…å•</a></li>
</ul></li>
<li>ç³»ç»Ÿæ¶æ„
<ul>
<li><a href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="structure.htm" tppabs="http://laravel-china.org/docs/5.1/structure">åº”ç”¨ç¨‹åºç»“æ„</a></li>
<li><a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a></li>
<li><a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a></li>
<li><a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">Contracts</a></li>
<li><a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">Facades</a></li>
</ul></li>
<li>ç³»ç»ŸæœåŠ¡
<ul>
<li><a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a></li>
<li><a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ</a></li>
<li><a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ</a></li>
<li><a href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing">äº¤æ˜“</a></li>
<li><a href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">ç¼“å­˜</a></li>
<li><a href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ</a></li>
<li><a href="elixir.htm" tppabs="http://laravel-china.org/docs/5.1/elixir">Elixir</a></li>
<li><a href="encryption.htm" tppabs="http://laravel-china.org/docs/5.1/encryption">åŠ å¯†ä¸è§£å¯†</a></li>
<li><a href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors">é”™è¯¯ä¸æ—¥å¿—</a></li>
<li><a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a></li>
<li><a href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨</a></li>
<li><a href="hashing.htm" tppabs="http://laravel-china.org/docs/5.1/hashing">å“ˆå¸Œ</a></li>
<li><a href="helpers.htm" tppabs="http://laravel-china.org/docs/5.1/helpers">è¾…åŠ©å‡½æ•°</a></li>
<li><a href="localization.htm" tppabs="http://laravel-china.org/docs/5.1/localization">æœ¬åœ°åŒ–</a></li>
<li><a href="mail.htm" tppabs="http://laravel-china.org/docs/5.1/mail">é‚®ä»¶</a></li>
<li><a href="packages.htm" tppabs="http://laravel-china.org/docs/5.1/packages">æ‰©å±•åŒ…å¼€å‘</a></li>
<li><a href="pagination.htm" tppabs="http://laravel-china.org/docs/5.1/pagination">åˆ†é¡µ</a></li>
<li><a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a></li>
<li><a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a></li>
<li><a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">Session</a></li>
<li><a href="envoy.htm" tppabs="http://laravel-china.org/docs/5.1/envoy">Envoy</a></li>
<li><a href="scheduling.htm" tppabs="http://laravel-china.org/docs/5.1/scheduling">ä»»åŠ¡è°ƒåº¦</a></li>
<li><a href="testing.htm" tppabs="http://laravel-china.org/docs/5.1/testing">æµ‹è¯•</a></li>
<li><a href="validation.htm" tppabs="http://laravel-china.org/docs/5.1/validation">è¡¨å•éªŒè¯</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database.htm" tppabs="http://laravel-china.org/docs/5.1/database">å…¥é—¨</a></li>
<li><a href="queries.htm" tppabs="http://laravel-china.org/docs/5.1/queries">æŸ¥è¯¢æ„é€ å™¨</a></li>
<li><a href="migrations.htm" tppabs="http://laravel-china.org/docs/5.1/migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="seeding.htm" tppabs="http://laravel-china.org/docs/5.1/seeding">æ•°æ®å¡«å……</a></li>
</ul></li>
<li>Eloquent ORM
<ul>
<li><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å…¥é—¨</a></li>
<li><a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">æ¨¡å‹å…³è”</a></li>
<li><a href="eloquent-collections.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-collections">Eloquent é›†åˆ</a></li>
<li><a href="eloquent-mutators.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-mutators">Getter/Setter</a></li>
<li><a href="eloquent-serialization.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-serialization">åºåˆ—åŒ–</a></li>
</ul></li>
</ul>
	</section>

	<article>

		<div class="alert alert-warning" role="alert">

			<h4>æ‹¥æŠ± Laravel 5.1 LTS</h4>
			<p>
				å¼ºçƒˆå»ºè®®åœ¨ 2018 å¹´ä¹‹å‰ä½¿ç”¨ Laravel 5.1 æ¥æ„å»ºé¡¹ç›®ï¼ŒLaravel 5.1 æ˜¯ LTS çš„å‘è¡Œç‰ˆæœ¬, å‘è¡Œäº 2015 å¹´ 6 æœˆä»½ï¼Œè‡ªå‘å¸ƒèµ·æä¾›ä¸¤å¹´æ—¶é—´çš„ Bug ä¿®å¤ï¼ˆ2017 å¹´ 6 æœˆï¼‰, 3 å¹´æ—¶é—´çš„å®‰å…¨ä¿®å¤ï¼ˆ2018 å¹´ 6 æœˆï¼‰ã€‚
			</p>
			 <p>
			 	LTS ç‰ˆæœ¬æ˜¯æ­¤é¡¹ç›®èƒ½æä¾›çš„æœ€é•¿æ—¶é—´ç»´æŠ¤ç‰ˆæœ¬ã€‚ä¸€èˆ¬çš„å‘è¡Œç‰ˆæœ¬, åªæä¾› 6 ä¸ªæœˆçš„ Bug ä¿®å¤æ”¯æŒ, ä¸€å¹´çš„å®‰å…¨ä¿®å¤æ”¯æŒ.
			 </p>
		</div>

		<div class="main-content">
			<h1>ç¼“å­˜</h1>
<ul>
<li><a href="#configuration">é…ç½®ä¿¡æ¯</a></li>
<li><a href="#cache-usage">ç¼“å­˜çš„ä½¿ç”¨</a>
<ul>
<li><a href="#obtaining-a-cache-instance">è·å–ä¸€ä¸ªç¼“å­˜çš„å®ä¾‹</a></li>
<li><a href="#retrieving-items-from-the-cache">ä»ç¼“å­˜ä¸­è·å–é¡¹ç›®</a></li>
<li><a href="#storing-items-in-the-cache">å­˜æ”¾é¡¹ç›®åˆ°ç¼“å­˜ä¸­</a></li>
<li><a href="#removing-items-from-the-cache">åˆ é™¤ç¼“å­˜ä¸­çš„é¡¹ç›®</a></li>
</ul></li>
<li><a href="#adding-custom-cache-drivers">åŠ å…¥è‡ªå®šä¹‰çš„ç¼“å­˜é©±åŠ¨</a></li>
<li><a href="#cache-tags">ç¼“å­˜æ ‡ç­¾</a>
<ul>
<li><a href="#storing-tagged-cache-items">å†™å…¥è¢«æ ‡è®°çš„ç¼“å­˜é¡¹ç›®</a></li>
<li><a href="#accessing-tagged-cache-items">è·å–è¢«æ ‡è®°çš„ç¼“å­˜é¡¹ç›®</a></li>
</ul></li>
<li><a href="#cache-events">ç¼“å­˜äº‹ä»¶</a></li>
</ul>
<p><a name="configuration"></a></p>
<h2>é…ç½®ä¿¡æ¯</h2>
<p>Laravel ç»™å„ç§ä¸åŒçš„ç¼“å­˜ç³»ç»Ÿæä¾›äº†ç»Ÿä¸€çš„ APIï¼Œç¼“å­˜çš„é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨ <code>config/cache.php</code> ä¸­ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šé»˜è®¤æƒ³ç”¨å“ªä¸ªç¼“å­˜é©±åŠ¨ï¼ŒLaravel æ”¯æŒå½“å‰æµè¡Œçš„ç¼“å­˜åç«¯ï¼Œå¦‚ <a href="javascript:if(confirm('http://memcached.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://memcached.org/'" tppabs="http://memcached.org/">Memcached</a> å’Œ <a href="javascript:if(confirm('http://redis.io/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://redis.io/'" tppabs="http://redis.io/">Redis</a>ã€‚</p>
<p>ç¼“å­˜é…ç½®æ–‡ä»¶è¿˜åŒ…å«äº†å…¶å®ƒçš„é€‰é¡¹ï¼Œä½ å¯ä»¥åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°è¿™äº›é€‰é¡¹ï¼Œè¯·ç¡®ä¿ä½ éƒ½æœ‰è¯»è¿‡è¿™äº›é€‰é¡¹ä¸Šæ–¹çš„è¯´æ˜ã€‚Laravel é»˜è®¤é‡‡ç”¨çš„ç¼“å­˜é©±åŠ¨æ˜¯ <code>file</code>ï¼Œè¿™ä¸ªé©±åŠ¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä¿å­˜äº†åºåˆ—åŒ–çš„ç¼“å­˜å¯¹è±¡ï¼Œå¯¹äºå¤§å‹åº”ç”¨ç¨‹åºè€Œè¨€ï¼ŒLaravel æ¯”è¾ƒå»ºè®®ä½ ä½¿ç”¨å†…å­˜ç¼“å­˜ï¼Œä¾‹å¦‚ Memcached æˆ– APCã€‚</p>
<h3>åœºæ™¯å¸ƒç½®</h3>
<h4>æ•°æ®åº“</h4>
<p>å½“ä½¿ç”¨ <code>database</code> è¿™ä¸ªç¼“å­˜é©±åŠ¨æ—¶ï¼Œä½ éœ€è¦é…ç½®ä¸€ä¸ªæ•°æ®åº“è¡¨æ¥æ”¾ç½®ç¼“å­˜é¡¹ç›®ï¼Œä¸‹é¢æ˜¯è¡¨ç»“æ„ï¼š</p>
<pre><code>Schema::create('cache', function($table) {
    $table-&gt;string('key')-&gt;unique();
    $table-&gt;text('value');
    $table-&gt;integer('expiration');
});</code></pre>
<h4>Memcached</h4>
<p>ä½¿ç”¨ Memcached åšç¼“å­˜éœ€è¦å…ˆå®‰è£… <a href="javascript:if(confirm('http://pecl.php.net/package/memcached  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://pecl.php.net/package/memcached'" tppabs="http://pecl.php.net/package/memcached">Memcached PECL æ‰©å±•åŒ…</a>ã€‚</p>
<p>é»˜è®¤çš„<a href="#configuration">é…ç½®æ–‡ä»¶</a>é‡‡ç”¨ä»¥ <a href="javascript:if(confirm('http://php.net/manual/en/memcached.addserver.php  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://php.net/manual/en/memcached.addserver.php'" tppabs="http://php.net/manual/en/memcached.addserver.php">Memcached::addServer</a> ä¸ºåŸºç¡€çš„ TCP/IPï¼š</p>
<pre><code>'memcached' =&gt; [
    [
        'host' =&gt; '127.0.0.1',
        'port' =&gt; 11211,
        'weight' =&gt; 100
    ],
],</code></pre>
<p>ä½ å¯èƒ½ä¹Ÿæƒ³é…ç½® <code>host</code> é€‰é¡¹åˆ° UNIX çš„ socket è·¯å¾„ä¸­ï¼Œå¦‚æœä½ è¿™ä¹ˆåšäº†ï¼Œè®°å¾— <code>port</code> é€‰é¡¹è¦è®¾ä¸º <code>0</code>ï¼š</p>
<pre><code>'memcached' =&gt; [
    [
        'host' =&gt; '/var/run/memcached/memcached.sock',
        'port' =&gt; 0,
        'weight' =&gt; 100
    ],
],</code></pre>
<h4>Redis</h4>
<p>åœ¨ä½ é€‰æ‹©ä½¿ç”¨ Redis ä½œä¸º Laravel çš„ç¼“å­˜ä¹‹å‰ï¼Œä½ éœ€è¦é€šè¿‡ Composer é¢„å…ˆå®‰è£… <code>predis/predis</code> æ‰©å±•åŒ… (~1.0)ã€‚</p>
<p>æ›´å¤šæœ‰å…³é…ç½® Redis çš„ä¿¡æ¯ï¼Œè¯·å‚è€ƒ <a href="redis.htm#configuration" tppabs="http://laravel-china.org/docs/5.1/redis#configuration">Laravel çš„æ–‡æ¡£é¡µé¢</a>ã€‚</p>
<p><a name="cache-usage"></a></p>
<h2>ç¼“å­˜çš„ä½¿ç”¨</h2>
<p><a name="obtaining-a-cache-instance"></a></p>
<h3>è·å–ä¸€ä¸ªç¼“å­˜çš„å®ä¾‹</h3>
<p><code>Illuminate\Contracts\Cache\Factory</code> å’Œ <code>Illuminate\Contracts\Cache\Repository</code> <a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">contracts</a> æä¾›äº†è®¿é—® Laravel ç¼“å­˜æœåŠ¡çš„æœºåˆ¶ï¼Œ è€Œ <code>Factory</code> contract åˆ™ä¸ºä½ çš„åº”ç”¨ç¨‹åºæä¾›äº†è®¿é—®æ‰€æœ‰ç¼“å­˜é©±åŠ¨çš„æœºåˆ¶ï¼Œ<code>Repository</code> contract æ˜¯å…¸å‹çš„ç¼“å­˜é©±åŠ¨å®ç°ï¼Œå®ƒä¼šä¾ç…§ä½ çš„ç¼“å­˜é…ç½®æ–‡ä»¶çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p>
<p>ä½ ä¹Ÿéœ€è¦ä½¿ç”¨ <code>Cache</code> facadeï¼Œæˆ‘ä»¬å°†ä¼šåœ¨æ­¤æ–‡æ¡£ä¸­ä»‹ç»ï¼Œ<code>Cache</code> facade æä¾›äº†æ–¹ä¾¿åˆç®€æ´çš„æ–¹æ³•è®¿é—®ç¼“å­˜å®ä¾‹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¯•ç€åœ¨ä¸€ä¸ªæ§åˆ¶å™¨ä¸­å¼•ç”¨ <code>Cache</code> facadeï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use Cache;
use Illuminate\Routing\Controller;

class UserController extends Controller
{
    /**
     * æ˜¾ç¤ºåº”ç”¨ç¨‹åºä¸­æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨ã€‚
     *
     * @return Response
     */
    public function index()
    {
        $value = Cache::get('key');

        //
    }
}</code></pre>
<h4>è®¿é—®å¤šä¸ªç¼“å­˜ä»“åº“</h4>
<p>ä½¿ç”¨ <code>Cache</code> facade å¯é€šè¿‡ <code>store</code> æ–¹æ³•æ¥è®¿é—®ç¼“å­˜ä»“åº“ï¼Œä¼ å…¥ <code>store</code> æ–¹æ³•çš„é”®å¯¹åº”ä¸€ä¸ªç¼“å­˜é…ç½®æ–‡ä»¶ä¸­çš„ <code>stores</code> é…ç½®å€¼ï¼š</p>
<pre><code>$value = Cache::store('file')-&gt;get('foo');

Cache::store('redis')-&gt;put('bar', 'baz', 10);</code></pre>
<p><a name="retrieving-items-from-the-cache"></a></p>
<h3>ä»ç¼“å­˜ä¸­è·å–é¡¹ç›®</h3>
<p>åœ¨ <code>Cache</code> facade ä¸­ï¼Œ<code>get</code> æ–¹æ³•å¯ä»¥ç”¨æ¥å–å‡ºç¼“å­˜ä¸­çš„é¡¹ç›®ï¼Œç¼“å­˜ä¸å­˜åœ¨çš„è¯è¿”å› <code>null</code>ï¼Œ<code>get</code> æ–¹æ³•æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œä¸ºæ‰¾ä¸åˆ°é¡¹ç›®æ—¶è¿”å›çš„é¢„è®¾å€¼ï¼š</p>
<pre><code>$value = Cache::get('key');

$value = Cache::get('key', 'default');</code></pre>
<p>ä½ ç”šè‡³å¯ä»¥ä¼ å…¥ä¸€ä¸ª<code>é—­åŒ…</code>ä½œä¸ºé»˜è®¤å€¼ï¼Œå½“æŒ‡å®šçš„é¡¹ç›®ä¸å­˜åœ¨ç¼“å­˜ä¸­æ—¶ï¼Œé—­åŒ…å°†ä¼šè¢«è¿”å›ï¼Œä¼ å…¥ä¸€ä¸ªé—­åŒ…å…è®¸ä½ å»¶è¿Ÿä»æ•°æ®åº“æˆ–å¤–éƒ¨æœåŠ¡ä¸­å–å‡ºå€¼ï¼š</p>
<pre><code>$value = Cache::get('key', function() {
    return DB::table(...)-&gt;get();
});</code></pre>
<h4>ç¡®è®¤é¡¹ç›®æ˜¯å¦å­˜åœ¨</h4>
<p><code>has</code> æ–¹æ³•å¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªé¡¹ç›®æ˜¯å¦å­˜åœ¨äºç¼“å­˜ä¸­ï¼š</p>
<pre><code>if (Cache::has('key')) {
    //
}</code></pre>
<h4>é€’å¢ä¸é€’å‡å€¼</h4>
<p><code>increment</code> å’Œ <code>decrement</code> æ–¹æ³•å¯ä»¥ç”¨æ¥è°ƒæ•´ç¼“å­˜ä¸­çš„æ•´æ•°é¡¹ç›®å€¼ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥é€‰æ‹©æ€§çš„ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥æŒ‡ç¤ºè¦é€’å¢æˆ–é€’å‡å¤šå°‘ï¼š</p>
<pre><code>Cache::increment('key');

Cache::increment('key', $amount);

Cache::decrement('key');

Cache::decrement('key', $amount);</code></pre>
<h4>å–å‡ºæˆ–æ›´æ–°</h4>
<p>æœ‰æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šæƒ³ä»ç¼“å­˜ä¸­å–å‡ºä¸€ä¸ªé¡¹ç›®ï¼Œä½†ä¹Ÿæƒ³åœ¨å½“å–å‡ºçš„é¡¹ç›®ä¸å­˜åœ¨æ—¶å­˜å…¥ä¸€ä¸ªé»˜è®¤å€¼ï¼Œä¾‹å¦‚ï¼Œä½ å¯èƒ½ä¼šæƒ³ä»ç¼“å­˜ä¸­å–å‡ºæ‰€æœ‰ç”¨æˆ·ï¼Œå½“æ‰¾ä¸åˆ°ç”¨æˆ·æ—¶ï¼Œä»æ•°æ®åº“ä¸­å°†è¿™äº›ç”¨æˆ·å–å‡ºå¹¶æ”¾å…¥ç¼“å­˜ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>Cache::remember</code> æ–¹æ³•è¾¾åˆ°ç›®çš„ï¼š</p>
<pre><code>$value = Cache::remember('users', $minutes, function() {
    return DB::table('users')-&gt;get();
});</code></pre>
<p>å¦‚æœé‚£ä¸ªé¡¹ç›®ä¸å­˜åœ¨ç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›ç»™ <code>remember</code> æ–¹æ³•çš„é—­åŒ…å°†ä¼šè¢«è¿è¡Œï¼Œè€Œä¸”é—­åŒ…çš„è¿è¡Œç»“æœå°†ä¼šè¢«å­˜æ”¾åœ¨ç¼“å­˜ä¸­ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥ç»“åˆ <code>remember</code> å’Œ <code>forever</code> è¿™ä¸¤ä¸ªæ–¹æ³•æ¥ â€æ°¸ä¹…â€œ å­˜å‚¨ç¼“å­˜ï¼š</p>
<pre><code>$value = Cache::rememberForever('users', function() {
    return DB::table('users')-&gt;get();
});</code></pre>
<h4>å–å‡ºä¸åˆ é™¤</h4>
<p>å¦‚æœä½ éœ€è¦ä»ç¼“å­˜ä¸­å–å‡ºä¸€ä¸ªé¡¹ç›®å¹¶åˆ é™¤å®ƒï¼Œä½ å¯èƒ½ä¼šä½¿ç”¨ <code>pull</code> æ–¹æ³•ï¼Œä¸ <code>get</code> ç›¸ä¼¼ï¼Œå¦‚æœå¯¹è±¡ä¸å­˜åœ¨ç¼“å­˜ä¸­ï¼Œ<code>pull</code> æ–¹æ³•å°†ä¼šè¿”å› <code>null</code>ï¼š</p>
<pre><code>$value = Cache::pull('key');</code></pre>
<p><a name="storing-items-in-the-cache"></a></p>
<h3>å­˜æ”¾é¡¹ç›®åˆ°ç¼“å­˜ä¸­</h3>
<p>ä½ å¯ä»¥ä½¿ç”¨ <code>Cache</code> facade çš„ <code>put</code> æ–¹æ³•æ¥å­˜æ”¾é¡¹ç›®åˆ°ç¼“å­˜ä¸­ï¼Œä½ éœ€è¦ä½¿ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°æ¥è®¾å®šç¼“å­˜çš„å­˜æ”¾æ—¶é—´ï¼š</p>
<pre><code>Cache::put('key', 'value', $minutes);</code></pre>
<p>å¦‚æœè¦æŒ‡å®šä¸€ä¸ªç¼“å­˜é¡¹ç›®è¿‡æœŸçš„åˆ†é’Ÿæ•°ï¼Œä½ ä¹Ÿå¯èƒ½éœ€è¦ä¼ é€’ä¸€ä¸ª PHP çš„ <code>DateTime</code> å®ä¾‹æ¥è¡¨ç¤ºè¯¥ç¼“å­˜é¡¹ç›®è¿‡æœŸçš„æ—¶é—´ç‚¹ï¼š</p>
<pre><code>$expiresAt = Carbon::now()-&gt;addMinutes(10);

Cache::put('key', 'value', $expiresAt);</code></pre>
<p><code>add</code> æ–¹æ³•åªä¼šæŠŠæš‚æ—¶ä¸å­˜åœ¨ç¼“å­˜ä¸­çš„é¡¹ç›®æ”¾å…¥ç¼“å­˜ï¼Œå¦‚æœæˆåŠŸå­˜æ”¾ï¼Œä¼šè¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ï¼š</p>
<pre><code>Cache::add('key', 'value', $minutes);</code></pre>
<p><code>forever</code> æ–¹æ³•å¯ä»¥ç”¨æ¥å­˜æ”¾æ°¸ä¹…çš„é¡¹ç›®åˆ°ç¼“å­˜ä¸­ï¼Œè¿™äº›å€¼å¿…é¡»è¢«æ‰‹åŠ¨çš„åˆ é™¤ï¼Œè¿™å¯ä»¥é€šè¿‡ <code>forget</code> æ–¹æ³•å®ç°ï¼š</p>
<pre><code>Cache::forever('key', 'value');</code></pre>
<p><a name="removing-items-from-the-cache"></a></p>
<h3>åˆ é™¤ç¼“å­˜ä¸­çš„é¡¹ç›®</h3>
<p>ä½ å¯ä»¥ä½¿ç”¨ <code>forget</code> æ–¹æ³•ä»ç¼“å­˜ä¸­ç§»é™¤ä¸€ä¸ªé¡¹ç›®ï¼š</p>
<pre><code>Cache::forget('key');</code></pre>
<p>ä¹Ÿä½¿ç”¨ <code>flush</code> æ–¹æ³•æ¸…ç©ºæ‰€æœ‰ç¼“å­˜ï¼š</p>
<pre><code>Cache::flush();</code></pre>
<p>æ¸…ç©ºç¼“å­˜ <strong>å¹¶ä¸ä¼š</strong> éµä»ç¼“å­˜çš„å‰ç¼€ï¼Œå¹¶ä¼šå°†ç¼“å­˜ä¸­æ‰€æœ‰çš„é¡¹ç›®åˆ é™¤ã€‚åœ¨æ¸…é™¤ä¸å…¶å®ƒåº”ç”¨ç¨‹åºå…±ç”¨çš„ç¼“å­˜æ—¶åº”è°¨æ…è€ƒè™‘è¿™ä¸€ç‚¹ã€‚</p>
<p><a name="adding-custom-cache-drivers"></a></p>
<h2>åŠ å…¥è‡ªå®šä¹‰çš„ç¼“å­˜é©±åŠ¨</h2>
<p>æˆ‘ä»¬å¯ä»¥åœ¨ <code>Cache</code> facade ä¸­ä½¿ç”¨ <code>extend</code> æ–¹æ³•è‡ªå®šä¹‰ç¼“å­˜é©±åŠ¨æ¥æ‰©å…… Laravel ç¼“å­˜ï¼Œå®ƒè¢«ç”¨æ¥ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰é©±åŠ¨çš„è§£æå™¨åˆ°ç®¡ç†è€…ä¸Šï¼Œé€šå¸¸è¿™å¯ä»¥é€šè¿‡<a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡å®¹å™¨</a>æ¥å®Œæˆã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¦æ³¨å†Œä¸€ä¸ªåä¸ºã€Œmongoã€çš„ç¼“å­˜é©±åŠ¨ï¼š</p>
<pre><code>&lt;?php

namespace App\Providers;

use Cache;
use App\Extensions\MongoStore;
use Illuminate\Support\ServiceProvider;

class CacheServiceProvider extends ServiceProvider
{
    /**
     * è¿è¡Œæ³¨å†Œåçš„å¯åŠ¨æœåŠ¡ã€‚
     *
     * @return void
     */
    public function boot()
    {
        Cache::extend('mongo', function($app) {
            return Cache::repository(new MongoStore);
        });
    }

    /**
     * åœ¨å®¹å™¨ä¸­æ³¨å†Œç»‘å®šã€‚
     *
     * @return void
     */
    public function register()
    {
        //
    }
}</code></pre>
<p>ç¬¬ä¸€ä¸ªä¼ ç»™ <code>extend</code> æ–¹æ³•çš„å‚æ•°æ˜¯é©±åŠ¨çš„åç§°ï¼Œè¿™ä¸ªåç§°è¦ä¸ä½ åœ¨ <code>config/cache.php</code> é…ç½®æ–‡ä»¶ä¸­ï¼Œ<code>driver</code> é€‰é¡¹æŒ‡å®šçš„åç§°ç›¸åŒï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªåº”è¿”å›ä¸€ä¸ª <code>Illuminate\Cache\Repository</code> å®ä¾‹çš„é—­åŒ…ï¼Œè¿™ä¸ªé—­åŒ…ä¼šè¢«ä¼ å…¥ä¸€ä¸ª <code>$app</code> å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹æ˜¯å±äºç±»<a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a>çš„ã€‚</p>
<p>è°ƒç”¨ <code>Cache::extend</code> çš„å·¥ä½œå¯ä»¥åœ¨æ–°åŠ å…¥çš„ Laravel åº”ç”¨ç¨‹åºä¸­é»˜è®¤çš„ <code>App\Providers\AppServiceProvider</code> çš„ <code>boot</code> æ–¹æ³•ä¸­å®Œæˆï¼Œæˆ–è€…ä½ å¯ä»¥åˆ›å»ºä½ è‡ªå·±çš„æœåŠ¡æä¾›è€…æ¥ç®¡ç†æ‰©å±•åŠŸèƒ½ï¼ˆåªæ˜¯è¯·åˆ«å¿˜äº†åœ¨ <code>config/app.php</code> ä¸­çš„æœåŠ¡æä¾›è€…æ•°ç»„æ³¨å†Œè¿™ä¸ªæä¾›è€…ï¼‰ã€‚</p>
<p>ä¸ºäº†åˆ›å»ºæˆ‘ä»¬çš„è‡ªå®šä¹‰ç¼“å­˜é©±åŠ¨ï¼Œé¦–å…ˆéœ€è¦å®ç° <code>Illuminate\Contracts\Cache\Store</code> <a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">contract</a>ã€‚å› æ­¤æˆ‘ä»¬çš„ MongoDB ç¼“å­˜å®ç°å¤§æ¦‚ä¼šé•¿è¿™æ ·å­ï¼š</p>
<pre><code>&lt;?php

namespace App\Extensions;

class MongoStore implements \Illuminate\Contracts\Cache\Store
{
    public function get($key) {}
    public function put($key, $value, $minutes) {}
    public function increment($key, $value = 1) {}
    public function decrement($key, $value = 1) {}
    public function forever($key, $value) {}
    public function forget($key) {}
    public function flush() {}
    public function getPrefix() {}
}</code></pre>
<p>æˆ‘ä»¬åªéœ€è¦é€šè¿‡ä¸€ä¸ª MongoDB çš„è¿æ¥æ¥å®ç°è¿™äº›æ–¹æ³•ï¼Œä¸€æ—¦æˆ‘ä»¬å®Œæˆå®ç°ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥ç€å®Œæˆæ³¨å†Œæˆ‘ä»¬çš„è‡ªå®šä¹‰é©±åŠ¨ï¼š</p>
<pre><code>Cache::extend('mongo', function($app) {
    return Cache::repository(new MongoStore);
});</code></pre>
<p>å¦‚æœä½ æƒ³è®©è‡ªå®šä¹‰æ‰©å±•é©±åŠ¨è®¾ç½®ä¸ºé»˜è®¤é©±åŠ¨ï¼Œåªéœ€è¦æ›´æ–° <code>config/cache.php</code> é…ç½®æ–‡ä»¶ä¸­çš„ <code>driver</code> é€‰é¡¹ä¸ºé©±åŠ¨çš„ <code>key</code> å³å¯ï¼Œå¦‚è¿™ä¸ªä¾‹å­çš„ <code>mongo</code>ã€‚</p>
<p>å¦‚æœä½ ä¸çŸ¥é“è¦å°†ä½ çš„è‡ªå®šä¹‰ç¼“å­˜é©±åŠ¨ä»£ç æ”¾ç½®åœ¨ä½•å¤„ï¼Œå¯ä»¥è€ƒè™‘å°†å®ƒæ”¾åœ¨ Packagist ä¸Šï¼æˆ–è€…ä½ å¯ä»¥åœ¨ä½ çš„ <code>app</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>Extension</code> çš„å‘½åç©ºé—´ã€‚ä½†æ˜¯è¯·è®°ä½ï¼ŒLaravel æ²¡æœ‰ç¡¬æ€§è§„å®šåº”ç”¨ç¨‹åºçš„ç»“æ„ï¼Œä½ å¯ä»¥ä¾ç…§ä½ çš„å–œå¥½ä»»æ„ç»„ç»‡ä½ çš„åº”ç”¨ç¨‹åºã€‚</p>
<p><a name="cache-tags"></a></p>
<h2>ç¼“å­˜æ ‡ç­¾</h2>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong> ç¼“å­˜æ ‡ç­¾å¹¶ä¸æ”¯æŒä½¿ç”¨ <code>file</code> æˆ– <code>dababase</code> çš„ç¼“å­˜é©±åŠ¨ã€‚æ­¤å¤–ï¼Œå½“åœ¨ç¼“å­˜ä½¿ç”¨å¤šä¸ªæ ‡ç­¾å¹¶ã€Œæ°¸ä¹…ã€å†™å…¥æ—¶ï¼Œç±»ä¼¼ <code>memcached</code> çš„é©±åŠ¨æ€§èƒ½ä¼šæ˜¯æœ€ä½³çš„ï¼Œä¸”ä¼šè‡ªåŠ¨æ¸…é™¤æ—§çš„çºªå½•ã€‚</p>
</blockquote>
<p><a name="storing-tagged-cache-items"></a></p>
<h3>å†™å…¥è¢«æ ‡è®°çš„ç¼“å­˜é¡¹ç›®</h3>
<p>ç¼“å­˜æ ‡ç­¾å…è®¸ä½ åœ¨ç¼“å­˜ä¸­æ ‡è®°å…³è”çš„é¡¹ç›®ï¼Œå¹¶æ¸…ç©ºæ‰€æœ‰å·²åˆ†é…æŒ‡å®šæ ‡ç­¾çš„ç¼“å­˜å€¼ã€‚ä½ å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ç»„æ ‡ç­¾åç§°çš„æœ‰åºæ•°ç»„ï¼Œä»¥è®¿é—®è¢«æ ‡è®°çš„ç¼“å­˜ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œè®©æˆ‘ä»¬è®¿é—®ä¸€ä¸ªè¢«æ ‡è®°çš„ç¼“å­˜å¹¶ <code>put</code> å€¼ç»™å®ƒï¼š</p>
<pre><code>Cache::tags(['people', 'artists'])-&gt;put('John', $john, $minutes);

Cache::tags(['people', 'authors'])-&gt;put('Anne', $anne, $minutes);</code></pre>
<p>å½“ç„¶ï¼Œä½ ä¸å¿…é™åˆ¶äº <code>put</code> æ–¹æ³•ã€‚ä½ å¯ä»¥åœ¨ä½¿ç”¨æ ‡ç­¾æ—¶ä½¿ç”¨ä»»ä½•ç¼“å­˜ä¿å­˜ç³»ç»Ÿçš„æ–¹æ³•ã€‚</p>
<p><a name="accessing-tagged-cache-items"></a></p>
<h3>è·å–è¢«æ ‡è®°çš„ç¼“å­˜é¡¹ç›®</h3>
<p>è‹¥è¦è·å–ä¸€ä¸ªè¢«æ ‡è®°çš„ç¼“å­˜é¡¹ç›®ï¼Œåªè¦ä¼ é€’ä¸€æ ·çš„æ ‡ç­¾ä¸²è¡Œè¡¨è‡³ <code>tags</code> æ–¹æ³•ï¼š</p>
<p>$john = Cache::tags(['people', 'artists'])-&gt;get('John');</p>
<p>$anne = Cache::tags(['people', 'authors'])-&gt;get('Anne');</p>
<p>ä½ å¯ä»¥æ¸…ç©ºå·²åˆ†é…çš„å•ä¸ªæ ‡ç­¾æˆ–æ˜¯ä¸€ç»„æ ‡ç­¾åˆ—è¡¨ä¸­çš„æ‰€æœ‰é¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œä¸‹æ–¹çš„è¯­æ³•ä¼šæŠŠè¢«æ ‡è®° <code>people</code>ã€<code>authors</code>ï¼Œæˆ–ä¸¤è€…çš„ç¼“å­˜éƒ½ç»™ç§»é™¤ã€‚æ‰€ä»¥ï¼Œ<code>Anne</code> ä¸ <code>John</code> éƒ½ä»ç¼“å­˜ä¸­è¢«ç§»é™¤ï¼š</p>
<pre><code>Cache::tags(['people', 'authors'])-&gt;flush();</code></pre>
<p>ç›¸åçš„ï¼Œä¸‹æ–¹çš„è¯­æ³•åªä¼šåˆ é™¤è¢«æ ‡ç¤ºä¸º <code>authors</code> çš„ç¼“å­˜ï¼Œæ‰€ä»¥ <code>Anne</code> ä¼šè¢«ç§»é™¤ï¼Œä½† <code>John</code> ä¸ä¼šã€‚</p>
<pre><code>Cache::tags('authors')-&gt;flush();</code></pre>
<p><a name="cache-events"></a></p>
<h2>ç¼“å­˜äº‹ä»¶</h2>
<p>ä½ å¯ä»¥ç›‘å¬åˆ°ç¼“å­˜åšæ¯ä¸€æ¬¡æ“ä½œçš„è§¦å‘<a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a>ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä½ å¿…é¡»å°†äº‹ä»¶ä¾¦å¬å™¨æ”¾ç½®åœ¨ <code>EventServiceProvider</code> çš„ <code>boot</code> æ–¹æ³•ä¸­ï¼š</p>
<pre><code>/**
 * ä¸ºä½ çš„åº”ç”¨ç¨‹åºæ³¨å†Œä»»ä½•å…¶å®ƒäº‹ä»¶ã€‚
 *
 * @param  \Illuminate\Contracts\Events\Dispatcher  $events
 * @return void
 */
public function boot(DispatcherContract $events)
{
    parent::boot($events);

    $events-&gt;listen('cache.hit', function ($key, $value) {
        //
    });

    $events-&gt;listen('cache.missed', function ($key) {
        //
    });

    $events-&gt;listen('cache.write', function ($key, $value, $minutes) {
        //
    });

    $events-&gt;listen('cache.delete', function ($key) {
        //
    });
}</code></pre>
		</div>

		<div class="main-footer" style="border-top:1px dashed rgba(0, 0, 0, 0.1);padding-top: 30px;margin-top:30px;margin-bottom: 20px;">
			<div class="prev-next-wrap clearfix">

									<a class="btn btn-default pull-left" href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing"><i class="fa fa-arrow-left"></i> äº¤æ˜“</a>
				
			    &nbsp;
								    <a class="btn btn-default pull-right" href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ <i class="fa fa-arrow-right"></i></a>
							</div>
		</div>

	</article>
</div>

		<footer class="main">
			<ul>
				<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
			</ul>
			<p>Laravel is a trademark of Taylor Otwell. Copyright &copy; Taylor Otwell.</p>
			<p class="less-significant"><a href="javascript:if(confirm('http://jackmcdade.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://jackmcdade.com/'" tppabs="http://jackmcdade.com/">Design by Jack McDade</a></p>

			<p class="less-significant">
				<a href="javascript:if(confirm('http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao'" tppabs="http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao" target="_blank">ç”± UCloud èµåŠ©  <img src="dYfOYswiQY.png" tppabs="https://dn-phphub.qbox.me/uploads/images/201605/03/1/dYfOYswiQY.png" width="98" data-toggle="tooltip" data-placement="top" title="æœ¬ç«™æœåŠ¡å™¨ç”± UCloud èµåŠ©"></a>.
		      </p>
		</footer>

	</div>

	<script src="laravel.js" tppabs="http://laravel-china.org/assets/js/laravel.js"></script>
	<script src="viewport-units-buggyfill.js" tppabs="http://laravel-china.org/assets/js/viewport-units-buggyfill.js"></script>
	<script>window.viewportUnitsBuggyfill.init();</script>
    <script>

		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','analytics.js'/*tpa=http://7xijlf.com2.z0.glb.qiniucdn.com/js/analytics.js*/,'ga');

		ga('create', 'UA-53903425-7', 'auto');
		ga('send', 'pageview');

		$(window).load(function() {
		  // When the page has loaded
		  $(".main-content").fadeIn(10);
		});
    </script>
</body>
</html>
