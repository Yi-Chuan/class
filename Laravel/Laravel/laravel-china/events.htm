<!doctype html>
<html>
<head>
	<meta charset=UTF-8"utf-8">
	<title>Laravel 5.1 ä¸­æ–‡æ–‡æ¡£ï¼šäº‹ä»¶
</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="author" content="@summerblue">
	<meta name="description" content="äº‹ä»¶,ç®€ä»‹,æ³¨å†Œäº‹ä»¶æˆ–ä¾¦å¬å™¨,å®šä¹‰äº‹ä»¶,å®šä¹‰ä¾¦å¬å™¨,å¯é˜Ÿåˆ—çš„äº‹ä»¶ä¾¦å¬å™¨,è§¦å‘äº‹ä»¶,å¹¿æ’­äº‹ä»¶,è®¾ç½®,å°†äº‹ä»¶æ ‡ç¤ºä¸ºå¹¿æ’­,å¹¿æ’­æ•°æ®,æ¶ˆè€—äº‹ä»¶å¹¿æ’­,äº‹ä»¶è®¢é˜…å™¨,æ¡†æ¶äº‹ä»¶,ç®€ä»‹,Laravel äº‹ä»¶æä¾›äº†ç®€å•çš„ä¾¦å¬å™¨å®ç°ï¼Œå…è®¸ä½ è®¢é˜…å’Œç›‘å¬äº‹ä»¶ï¼Œäº‹ä»¶ç±»é€šå¸¸è¢«ä¿å­˜åœ¨ app/Events ç›®å½•ä¸‹ï¼Œè€Œå®ƒä»¬çš„ä¾¦å¬å™¨è¢«ä¿å­˜åœ¨ app/Listeners ç›®å½•ä¸‹ã€‚,æ³¨å†Œäº‹ä»¶æˆ–ä¾¦å¬å™¨,ä½ å¯ä»¥åœ¨ EventServiceP...
">
	<meta name="keywords" content="äº‹ä»¶,laravel5.1æ–‡æ¡£,laravel5.1ä¸­æ–‡æ–‡æ¡£,laravelä¸­å›½,laravelä¸­æ–‡,laravelæ¡†æ¶ä¸­æ–‡,laravelæ–‡æ¡£,laravelæ¡†æ¶ä¸­å›½,laravelä¸­æ–‡æ–‡æ¡£
">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--[if lte IE 9]>
		<script src="html5shiv.min.js" tppabs="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
	<![endif]-->
	<link rel="stylesheet" href="laravel.css" tppabs="http://laravel-china.org/assets/css/laravel.css">
	<style media="screen">
		div.main-content {
		  display: none;
		}
		.loading-effect {
			position: fixed;
			left: 50%;
			top:300px;
		    z-index: -1;
		}
	</style>
</head>
<body class="docs language-php ">

	<span class="overlay"></span>

	<div class="loading-effect">
		<div class="loader-inner line-scale">
		      <div></div>
		      <div></div>
		      <div></div>
		      <div></div>
		      <div></div>
		  </div>
	</div>


	<div class="main-content">

		<nav class="main">
			<div class="container">
				<a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/" class="brand">
					<img src="laravel-logo.png" tppabs="http://laravel-china.org/assets/img/laravel-logo.png" height="30">
					Laravel
				</a>

				<div class="responsive-sidebar-nav">
					<a href="#" class="toggle-slide menu-link btn">&#9776;</a>
				</div>

									<div class="switcher">
	<div class="dropdown">
		<button class="btn dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
			<!--<span class="faint">v</span> -->
			5.1
			<span class="caret"></span>
		</button>
		<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
							<li role="presentation">
					<a role="menuitem" tabindex="-1" href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">5.1</a>
				</li>
							<li role="presentation">
					<a role="menuitem" tabindex="-1" href="events-1.htm" tppabs="http://laravel-china.org/docs/4.2/events">4.2</a>
				</li>
					</ul>
	</div>
</div>
				
				<ul class="main-nav">
					<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
				</ul>
			</div>
		</nav>

		<nav id="slide-menu" class="slide-menu" role="navigation">

	<div class="brand">
		<a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/">
			<img src="laravel-logo-white.png" tppabs="http://laravel-china.org/assets/img/laravel-logo-white.png" height="50">
		</a>
	</div>

	<ul class="slide-main-nav">
		<li><a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/">Home</a></li>
		<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
	</ul>

	<div class="slide-docs-nav">
		<h2>æ–‡æ¡£</h2>

		<a type="button" class="turnofflight"><i class="fa fa-lightbulb-o"></i> <i class="fa fa-star-o"></i> å¤œé—´æ¨¡å¼ </a>
		<ul>
<li>å‰è¨€
<ul>
<li><a href="about.htm" tppabs="http://laravel-china.org/docs/5.1/about">ç¿»è¯‘è¯´æ˜</a></li>
<li><a href="releases.htm" tppabs="http://laravel-china.org/docs/5.1/releases">å‘è¡Œè¯´æ˜</a></li>
<li><a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a></li>
<li><a href="contributions.htm" tppabs="http://laravel-china.org/docs/5.1/contributions">è´¡çŒ®å¯¼å¼•</a></li>
<li><a href="javascript:if(confirm('http://laravel-china.org/api/5.1  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/api/5.1'" tppabs="http://laravel-china.org/api/5.1">API æ–‡æ¡£</a></li>
</ul></li>
<li>ç¯å¢ƒé…ç½®
<ul>
<li><a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a></li>
<li><a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a></li>
</ul></li>
<li>åŸºæœ¬åŠŸèƒ½
<ul>
<li><a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a></li>
<li><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a></li>
<li><a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a></li>
<li><a href="requests.htm" tppabs="http://laravel-china.org/docs/5.1/requests">è¯·æ±‚</a></li>
<li><a href="responses.htm" tppabs="http://laravel-china.org/docs/5.1/responses">å“åº”</a></li>
<li><a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a></li>
<li><a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿</a></li>
</ul></li>
<li>æ•™ç¨‹
<ul>
<li><a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åˆçº§ä»»åŠ¡æ¸…å•</a></li>
<li><a href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">ä¸­çº§ä»»åŠ¡æ¸…å•</a></li>
</ul></li>
<li>ç³»ç»Ÿæ¶æ„
<ul>
<li><a href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="structure.htm" tppabs="http://laravel-china.org/docs/5.1/structure">åº”ç”¨ç¨‹åºç»“æ„</a></li>
<li><a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a></li>
<li><a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a></li>
<li><a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">Contracts</a></li>
<li><a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">Facades</a></li>
</ul></li>
<li>ç³»ç»ŸæœåŠ¡
<ul>
<li><a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a></li>
<li><a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ</a></li>
<li><a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ</a></li>
<li><a href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing">äº¤æ˜“</a></li>
<li><a href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">ç¼“å­˜</a></li>
<li><a href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ</a></li>
<li><a href="elixir.htm" tppabs="http://laravel-china.org/docs/5.1/elixir">Elixir</a></li>
<li><a href="encryption.htm" tppabs="http://laravel-china.org/docs/5.1/encryption">åŠ å¯†ä¸è§£å¯†</a></li>
<li><a href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors">é”™è¯¯ä¸æ—¥å¿—</a></li>
<li><a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a></li>
<li><a href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨</a></li>
<li><a href="hashing.htm" tppabs="http://laravel-china.org/docs/5.1/hashing">å“ˆå¸Œ</a></li>
<li><a href="helpers.htm" tppabs="http://laravel-china.org/docs/5.1/helpers">è¾…åŠ©å‡½æ•°</a></li>
<li><a href="localization.htm" tppabs="http://laravel-china.org/docs/5.1/localization">æœ¬åœ°åŒ–</a></li>
<li><a href="mail.htm" tppabs="http://laravel-china.org/docs/5.1/mail">é‚®ä»¶</a></li>
<li><a href="packages.htm" tppabs="http://laravel-china.org/docs/5.1/packages">æ‰©å±•åŒ…å¼€å‘</a></li>
<li><a href="pagination.htm" tppabs="http://laravel-china.org/docs/5.1/pagination">åˆ†é¡µ</a></li>
<li><a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a></li>
<li><a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a></li>
<li><a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">Session</a></li>
<li><a href="envoy.htm" tppabs="http://laravel-china.org/docs/5.1/envoy">Envoy</a></li>
<li><a href="scheduling.htm" tppabs="http://laravel-china.org/docs/5.1/scheduling">ä»»åŠ¡è°ƒåº¦</a></li>
<li><a href="testing.htm" tppabs="http://laravel-china.org/docs/5.1/testing">æµ‹è¯•</a></li>
<li><a href="validation.htm" tppabs="http://laravel-china.org/docs/5.1/validation">è¡¨å•éªŒè¯</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database.htm" tppabs="http://laravel-china.org/docs/5.1/database">å…¥é—¨</a></li>
<li><a href="queries.htm" tppabs="http://laravel-china.org/docs/5.1/queries">æŸ¥è¯¢æ„é€ å™¨</a></li>
<li><a href="migrations.htm" tppabs="http://laravel-china.org/docs/5.1/migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="seeding.htm" tppabs="http://laravel-china.org/docs/5.1/seeding">æ•°æ®å¡«å……</a></li>
</ul></li>
<li>Eloquent ORM
<ul>
<li><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å…¥é—¨</a></li>
<li><a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">æ¨¡å‹å…³è”</a></li>
<li><a href="eloquent-collections.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-collections">Eloquent é›†åˆ</a></li>
<li><a href="eloquent-mutators.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-mutators">Getter/Setter</a></li>
<li><a href="eloquent-serialization.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-serialization">åºåˆ—åŒ–</a></li>
</ul></li>
</ul>
	</div>

</nav>

<div class="docs-wrapper container">

	<section class="sidebar">

		<div class="header">
			<a type="button" class="btn btn-primary btn-lg btn-block turnofflight"><i class="fa fa-lightbulb-o"></i> <i class="fa fa-star-o"></i> å¤œé—´æ¨¡å¼ </a>
		</div>

		<ul>
<li>å‰è¨€
<ul>
<li><a href="about.htm" tppabs="http://laravel-china.org/docs/5.1/about">ç¿»è¯‘è¯´æ˜</a></li>
<li><a href="releases.htm" tppabs="http://laravel-china.org/docs/5.1/releases">å‘è¡Œè¯´æ˜</a></li>
<li><a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a></li>
<li><a href="contributions.htm" tppabs="http://laravel-china.org/docs/5.1/contributions">è´¡çŒ®å¯¼å¼•</a></li>
<li><a href="javascript:if(confirm('http://laravel-china.org/api/5.1  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/api/5.1'" tppabs="http://laravel-china.org/api/5.1">API æ–‡æ¡£</a></li>
</ul></li>
<li>ç¯å¢ƒé…ç½®
<ul>
<li><a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a></li>
<li><a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a></li>
</ul></li>
<li>åŸºæœ¬åŠŸèƒ½
<ul>
<li><a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a></li>
<li><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a></li>
<li><a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a></li>
<li><a href="requests.htm" tppabs="http://laravel-china.org/docs/5.1/requests">è¯·æ±‚</a></li>
<li><a href="responses.htm" tppabs="http://laravel-china.org/docs/5.1/responses">å“åº”</a></li>
<li><a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a></li>
<li><a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿</a></li>
</ul></li>
<li>æ•™ç¨‹
<ul>
<li><a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åˆçº§ä»»åŠ¡æ¸…å•</a></li>
<li><a href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">ä¸­çº§ä»»åŠ¡æ¸…å•</a></li>
</ul></li>
<li>ç³»ç»Ÿæ¶æ„
<ul>
<li><a href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="structure.htm" tppabs="http://laravel-china.org/docs/5.1/structure">åº”ç”¨ç¨‹åºç»“æ„</a></li>
<li><a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a></li>
<li><a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a></li>
<li><a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">Contracts</a></li>
<li><a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">Facades</a></li>
</ul></li>
<li>ç³»ç»ŸæœåŠ¡
<ul>
<li><a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a></li>
<li><a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ</a></li>
<li><a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ</a></li>
<li><a href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing">äº¤æ˜“</a></li>
<li><a href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">ç¼“å­˜</a></li>
<li><a href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ</a></li>
<li><a href="elixir.htm" tppabs="http://laravel-china.org/docs/5.1/elixir">Elixir</a></li>
<li><a href="encryption.htm" tppabs="http://laravel-china.org/docs/5.1/encryption">åŠ å¯†ä¸è§£å¯†</a></li>
<li><a href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors">é”™è¯¯ä¸æ—¥å¿—</a></li>
<li><a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a></li>
<li><a href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨</a></li>
<li><a href="hashing.htm" tppabs="http://laravel-china.org/docs/5.1/hashing">å“ˆå¸Œ</a></li>
<li><a href="helpers.htm" tppabs="http://laravel-china.org/docs/5.1/helpers">è¾…åŠ©å‡½æ•°</a></li>
<li><a href="localization.htm" tppabs="http://laravel-china.org/docs/5.1/localization">æœ¬åœ°åŒ–</a></li>
<li><a href="mail.htm" tppabs="http://laravel-china.org/docs/5.1/mail">é‚®ä»¶</a></li>
<li><a href="packages.htm" tppabs="http://laravel-china.org/docs/5.1/packages">æ‰©å±•åŒ…å¼€å‘</a></li>
<li><a href="pagination.htm" tppabs="http://laravel-china.org/docs/5.1/pagination">åˆ†é¡µ</a></li>
<li><a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a></li>
<li><a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a></li>
<li><a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">Session</a></li>
<li><a href="envoy.htm" tppabs="http://laravel-china.org/docs/5.1/envoy">Envoy</a></li>
<li><a href="scheduling.htm" tppabs="http://laravel-china.org/docs/5.1/scheduling">ä»»åŠ¡è°ƒåº¦</a></li>
<li><a href="testing.htm" tppabs="http://laravel-china.org/docs/5.1/testing">æµ‹è¯•</a></li>
<li><a href="validation.htm" tppabs="http://laravel-china.org/docs/5.1/validation">è¡¨å•éªŒè¯</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database.htm" tppabs="http://laravel-china.org/docs/5.1/database">å…¥é—¨</a></li>
<li><a href="queries.htm" tppabs="http://laravel-china.org/docs/5.1/queries">æŸ¥è¯¢æ„é€ å™¨</a></li>
<li><a href="migrations.htm" tppabs="http://laravel-china.org/docs/5.1/migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="seeding.htm" tppabs="http://laravel-china.org/docs/5.1/seeding">æ•°æ®å¡«å……</a></li>
</ul></li>
<li>Eloquent ORM
<ul>
<li><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å…¥é—¨</a></li>
<li><a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">æ¨¡å‹å…³è”</a></li>
<li><a href="eloquent-collections.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-collections">Eloquent é›†åˆ</a></li>
<li><a href="eloquent-mutators.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-mutators">Getter/Setter</a></li>
<li><a href="eloquent-serialization.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-serialization">åºåˆ—åŒ–</a></li>
</ul></li>
</ul>
	</section>

	<article>

		<div class="alert alert-warning" role="alert">

			<h4>æ‹¥æŠ± Laravel 5.1 LTS</h4>
			<p>
				å¼ºçƒˆå»ºè®®åœ¨ 2018 å¹´ä¹‹å‰ä½¿ç”¨ Laravel 5.1 æ¥æ„å»ºé¡¹ç›®ï¼ŒLaravel 5.1 æ˜¯ LTS çš„å‘è¡Œç‰ˆæœ¬, å‘è¡Œäº 2015 å¹´ 6 æœˆä»½ï¼Œè‡ªå‘å¸ƒèµ·æä¾›ä¸¤å¹´æ—¶é—´çš„ Bug ä¿®å¤ï¼ˆ2017 å¹´ 6 æœˆï¼‰, 3 å¹´æ—¶é—´çš„å®‰å…¨ä¿®å¤ï¼ˆ2018 å¹´ 6 æœˆï¼‰ã€‚
			</p>
			 <p>
			 	LTS ç‰ˆæœ¬æ˜¯æ­¤é¡¹ç›®èƒ½æä¾›çš„æœ€é•¿æ—¶é—´ç»´æŠ¤ç‰ˆæœ¬ã€‚ä¸€èˆ¬çš„å‘è¡Œç‰ˆæœ¬, åªæä¾› 6 ä¸ªæœˆçš„ Bug ä¿®å¤æ”¯æŒ, ä¸€å¹´çš„å®‰å…¨ä¿®å¤æ”¯æŒ.
			 </p>
		</div>

		<div class="main-content">
			<h1>äº‹ä»¶</h1>
<ul>
<li><a href="#introduction">ç®€ä»‹</a></li>
<li><a href="#registering-events-and-listeners">æ³¨å†Œäº‹ä»¶æˆ–ä¾¦å¬å™¨</a></li>
<li><a href="#defining-events">å®šä¹‰äº‹ä»¶</a></li>
<li><a href="#defining-listeners">å®šä¹‰ä¾¦å¬å™¨</a>
<ul>
<li><a href="#queued-event-listeners">å¯é˜Ÿåˆ—çš„äº‹ä»¶ä¾¦å¬å™¨</a></li>
</ul></li>
<li><a href="#firing-events">è§¦å‘äº‹ä»¶</a></li>
<li><a href="#broadcasting-events">å¹¿æ’­äº‹ä»¶</a>
<ul>
<li><a href="#broadcast-configuration">è®¾ç½®</a></li>
<li><a href="#marking-events-for-broadcast">å°†äº‹ä»¶æ ‡ç¤ºä¸ºå¹¿æ’­</a></li>
<li><a href="#broadcast-data">å¹¿æ’­æ•°æ®</a></li>
<li><a href="#consuming-event-broadcasts">æ¶ˆè€—äº‹ä»¶å¹¿æ’­</a></li>
</ul></li>
<li><a href="#event-subscribers">äº‹ä»¶è®¢é˜…å™¨</a></li>
<li><a href="#framework-events">æ¡†æ¶äº‹ä»¶</a></li>
</ul>
<p><a name="introduction"></a></p>
<h2>ç®€ä»‹</h2>
<p>Laravel äº‹ä»¶æä¾›äº†ç®€å•çš„ä¾¦å¬å™¨å®ç°ï¼Œå…è®¸ä½ è®¢é˜…å’Œç›‘å¬äº‹ä»¶ï¼Œäº‹ä»¶ç±»é€šå¸¸è¢«ä¿å­˜åœ¨ <code>app/Events</code> ç›®å½•ä¸‹ï¼Œè€Œå®ƒä»¬çš„ä¾¦å¬å™¨è¢«ä¿å­˜åœ¨ <code>app/Listeners</code> ç›®å½•ä¸‹ã€‚</p>
<p><a name="registering-events-and-listeners"></a></p>
<h2>æ³¨å†Œäº‹ä»¶æˆ–ä¾¦å¬å™¨</h2>
<p>ä½ å¯ä»¥åœ¨ <code>EventServiceProvider</code> æ³¨å†Œæ‰€æœ‰çš„äº‹ä»¶ä¾¦å¬å™¨ï¼Œ<code>listen</code> å±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰äº‹ä»¶ï¼ˆé”®ï¼‰ä»¥åŠäº‹ä»¶å¯¹åº”çš„ä¾¦å¬å™¨ï¼ˆå€¼ï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®éœ€æ±‚å¢åŠ äº‹ä»¶åˆ°è¿™ä¸ªæ•°ç»„ï¼Œä¾‹å¦‚ï¼šè®©æˆ‘ä»¬å¢åŠ  <code>PodcastWasPurchased</code> äº‹ä»¶ï¼š</p>
<pre><code>/**
 * åº”ç”¨ç¨‹åºçš„äº‹ä»¶ä¾¦å¬å™¨æ˜ å°„ã€‚
 *
 * @var array
 */
protected $listen = [
    'App\Events\PodcastWasPurchased' =&gt; [
        'App\Listeners\EmailPurchaseConfirmation',
    ],
];</code></pre>
<h3>ç”Ÿæˆäº‹ä»¶æˆ–ä¾¦å¬å™¨ç±»</h3>
<p>ä½ å¯ä»¥ä½¿ç”¨ <code>event:generate</code> æ¥åä½œä½ å¤„ç†æ­¤ç±»æ“ä½œï¼Œè¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰åˆ—å‡ºåœ¨ <code>EventServiceProvider</code> çš„äº‹ä»¶æ–‡ä»¶å’Œä¾¦å¬å™¨æ–‡ä»¶ï¼Œå·²ç»å­˜åœ¨çš„äº‹ä»¶å’Œä¾¦å¬å™¨å°†ä¿æŒä¸å˜ï¼š</p>
<pre><code>php artisan event:generate</code></pre>
<h3>æ‰‹åŠ¨æ³¨å†Œäº‹ä»¶</h3>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œäº‹ä»¶å¿…é¡»é€šè¿‡ <code>EventServiceProvider</code> çš„ <code>$listen</code> æ•°ç»„è¿›è¡Œæ³¨å†Œï¼›ä¸è¿‡ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ <code>Event</code> facade æˆ–æ˜¯ <code>Illuminate\Contracts\Events\Dispatcher</code> contract å®ç°çš„äº‹ä»¶å‘é€å™¨æ¥æ‰‹åŠ¨æ³¨å†Œäº‹ä»¶ï¼š</p>
<pre><code>/**
 * æ³¨å†Œä½ åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•å…¶å®ƒäº‹ä»¶ã€‚
 *
 * @param  \Illuminate\Contracts\Events\Dispatcher  $events
 * @return void
 */
public function boot(DispatcherContract $events)
{
    parent::boot($events);

    $events-&gt;listen('event.name', function ($foo, $bar) {
        //
    });
}</code></pre>
<h4>äº‹ä»¶ä¾¦å¬å™¨çš„é€šé…ç¬¦</h4>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>*</code> é€šé…ç¬¦æ³¨å†Œä¾¦å¬å™¨ï¼Œè®©ä½ å¯ä»¥åœ¨åŒä¸ªä¾¦å¬å™¨æ‹¦æˆªå¤šä¸ªäº‹ä»¶ã€‚é€šé…ç¬¦ä¾¦å¬å™¨ä¼šæ¥æ”¶å®Œæ•´äº‹ä»¶æ•°æ®çš„æ•°ç»„ä½œä¸ºå”¯ä¸€çš„å‚æ•°ï¼š</p>
<pre><code>$events-&gt;listen('event.*', function (array $data) {
    //
});</code></pre>
<p><a name="defining-events"></a></p>
<h2>å®šä¹‰äº‹ä»¶</h2>
<p>ä¸€ä¸ªäº‹ä»¶ç±»åªæ˜¯ä¸€ä¸ªåŒ…å«äº†ç›¸å…³äº‹ä»¶ä¿¡æ¯çš„æ•°æ®å®¹å™¨ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬ç”Ÿæˆäº† <code>PodcastWasPurchased</code> äº‹ä»¶æ¥æ¥æ”¶ä¸€ä¸ª <a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">Eloquent ORM</a> å¯¹è±¡ï¼š</p>
<pre><code>&lt;?php

namespace App\Events;

use App\Podcast;
use App\Events\Event;
use Illuminate\Queue\SerializesModels;

class PodcastWasPurchased extends Event
{
    use SerializesModels;

    public $podcast;

    /**
     * åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ä»¶å®ä¾‹ã€‚
     *
     * @param  Podcast  $podcast
     * @return void
     */
    public function __construct(Podcast $podcast)
    {
        $this-&gt;podcast = $podcast;
    }
}</code></pre>
<p>æ­£å¦‚ä½ æ‰€è§çš„ï¼Œè¿™ä¸ªäº‹ä»¶ç±»æ²¡æœ‰åŒ…å«å…¶å®ƒç‰¹æ®Šé€»è¾‘ã€‚å®ƒåªæ˜¯ä¸€ä¸ªè¢«è´­ä¹°çš„ <code>Podcast</code> å¯¹è±¡çš„å®¹å™¨ã€‚å¦‚æœäº‹ä»¶å¯¹è±¡æ˜¯ä½¿ç”¨ PHP çš„ <code>serialized</code> å‡½æ•°è¿›è¡Œåºåˆ—åŒ–ï¼Œé‚£ä¹ˆäº‹ä»¶æ‰€ä½¿ç”¨çš„ <code>SerializesModels</code> trait å°†ä¼šä¼˜é›…çš„åºåˆ—åŒ–ä»»ä½•çš„ Eloquent æ¨¡å‹ã€‚</p>
<p><a name="defining-listeners"></a></p>
<h2>å®šä¹‰ä¾¦å¬å™¨</h2>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¾‹å­äº‹ä»¶çš„ä¾¦å¬å™¨ã€‚äº‹ä»¶ä¾¦å¬å™¨çš„ <code>handle</code> æ–¹æ³•æ¥æ”¶äº†äº‹ä»¶å®ä¾‹ã€‚<code>event:generate</code> å‘½ä»¤å°†ä¼šåœ¨äº‹ä»¶çš„ <code>handle</code> æ–¹æ³•è‡ªåŠ¨åŠ è½½æ­£ç¡®çš„äº‹ä»¶ç±»å’Œç±»å‹æç¤ºã€‚åœ¨ <code>handle</code> æ–¹æ³•å†…ï¼Œä½ å¯ä»¥è¿è¡Œä»»ä½•å¿…è¦å“åº”è¯¥äº‹ä»¶çš„é€»è¾‘ã€‚</p>
<pre><code>&lt;?php

namespace App\Listeners;

use App\Events\PodcastWasPurchased;
use Illuminate\Queue\InteractsWithQueue;
use Illuminate\Contracts\Queue\ShouldQueue;

class EmailPurchaseConfirmation
{
    /**
     * åˆ›å»ºäº‹ä»¶ä¾¦å¬å™¨ã€‚
     *
     * @return void
     */
    public function __construct()
    {
        //
    }

    /**
     * å¤„ç†äº‹ä»¶ã€‚
     *
     * @param  PodcastWasPurchased  $event
     * @return void
     */
    public function handle(PodcastWasPurchased $event)
    {
        // ä½¿ç”¨ $event-&gt;podcast è®¿é—®æ’­å®¢ï¼ˆpodcastï¼‰...
    }
}</code></pre>
<p>ä½ çš„äº‹ä»¶ä¾¦å¬å™¨ä¹Ÿå¯ä»¥åœ¨æ„é€ å™¨å†…å¯¹ä»»ä½•ä¾èµ–ä½¿ç”¨ç±»å‹æç¤ºã€‚æ‰€æœ‰äº‹ä»¶ä¾¦å¬å™¨ç»ç”± Laravel <a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a>åšè§£æï¼Œæ‰€ä»¥ä¾èµ–å°†ä¼šè‡ªåŠ¨çš„è¢«æ³¨å…¥ï¼š</p>
<pre><code>use Illuminate\Contracts\Mail\Mailer;

public function __construct(Mailer $mailer)
{
    $this-&gt;mailer = $mailer;
}</code></pre>
<h4>åœæ­¢ä¸€ä¸ªäº‹ä»¶çš„ä¼ æ’­</h4>
<p>æœ‰æ—¶å€™ï¼Œä½ å¯èƒ½å¸Œæœ›åœæ­¢ä¸€ä¸ªäº‹ä»¶ä¼ æ’­åˆ°å…¶å®ƒçš„ä¾¦å¬å™¨ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ä¾¦å¬å™¨çš„ <code>handle</code> æ–¹æ³•ä¸­è¿”å› <code>false</code> æ¥å®ç°ã€‚</p>
<p><a name="queued-event-listeners"></a></p>
<h3>å¯é˜Ÿåˆ—çš„äº‹ä»¶ä¾¦å¬å™¨</h3>
<p>éœ€è¦ä¸€ä¸ªå¯ <a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a> çš„äº‹ä»¶ä¾¦å¬å™¨å—ï¼Ÿé‚£æ˜¯å†å®¹æ˜“ä¸è¿‡äº†ã€‚åªè¦å¢åŠ  <code>ShouldQueue</code> æ¥å£åˆ°ä½ çš„ä¾¦å¬å™¨ç±»ã€‚ç”± <code>event:generate</code> Artisan å‘½ä»¤ç”Ÿæˆçš„ä¾¦å¬å™¨å·²ç»å°†æ­¤æ¥å£å¯¼å…¥åˆ°å‘½åç©ºé—´äº†ï¼Œå› æ­¤å¯ä»¥åƒè¿™æ ·æ¥ç«‹å³ä½¿ç”¨å®ƒï¼š</p>
<pre><code>&lt;?php

namespace App\Listeners;

use App\Events\PodcastWasPurchased;
use Illuminate\Queue\InteractsWithQueue;
use Illuminate\Contracts\Queue\ShouldQueue;

class EmailPurchaseConfirmation implements ShouldQueue
{
    //
}</code></pre>
<p>ä»…æ­¤è€Œå·²ï¼ç°åœ¨ï¼Œå½“è¿™ä¸ªä¾¦å¬å™¨è°ƒç”¨äº‹ä»¶æ—¶ï¼Œäº‹ä»¶å‘é€å™¨ä¼šä½¿ç”¨ Laravel çš„ <a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—ç³»ç»Ÿ</a> è‡ªåŠ¨è¿›è¡Œé˜Ÿåˆ—å¤„ç†ã€‚å¦‚æœä¾¦å¬å™¨æ˜¯é€šè¿‡é˜Ÿåˆ—è¿è¡Œè€Œæ²¡æœ‰æŠ›å‡ºä»»ä½•å¼‚å¸¸ï¼Œåˆ™å·²å¤„ç†è¿‡çš„é˜Ÿåˆ—ä»»åŠ¡å°†ä¼šè¢«è‡ªåŠ¨åˆ é™¤ã€‚</p>
<h4>æ‰‹åŠ¨è®¿é—®é˜Ÿåˆ—</h4>
<p>å¦‚æœä½ éœ€è¦æ‰‹åŠ¨è®¿é—®åº•å±‚é˜Ÿåˆ—ä»»åŠ¡çš„ <code>delete</code> å’Œ <code>release</code> æ–¹æ³•ï¼Œé‚£æ˜¯å¯ä»¥åšåˆ°çš„ã€‚é»˜è®¤ç”Ÿæˆçš„ä¾¦å¬å™¨ä¼šåŠ è½½ <code>Illuminate\Queue\InteractsWithQueue</code> traitï¼Œè®©ä½ å¯ä»¥è®¿é—®è¿™äº›æ–¹æ³•ï¼š</p>
<pre><code>&lt;?php

namespace App\Listeners;

use App\Events\PodcastWasPurchased;
use Illuminate\Queue\InteractsWithQueue;
use Illuminate\Contracts\Queue\ShouldQueue;

class EmailPurchaseConfirmation implements ShouldQueue
{
    use InteractsWithQueue;

    public function handle(PodcastWasPurchased $event)
    {
        if (true) {
            $this-&gt;release(30);
        }
    }
}</code></pre>
<p><a name="firing-events"></a></p>
<h2>è§¦å‘äº‹ä»¶</h2>
<p>å¦‚æœè¦è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>Event</code> <a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">facade</a> æ¥å‘é€ä¸€ä¸ªäº‹ä»¶çš„å®ä¾‹åˆ° <code>fire</code> æ–¹æ³•ã€‚<code>fire</code> æ–¹æ³•å°†ä¼šå‘é€äº‹ä»¶åˆ°æ‰€æœ‰å·²ç»æ³¨å†Œçš„ä¾¦å¬å™¨ä¸Šï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use Event;
use App\Podcast;
use App\Events\PodcastWasPurchased;
use App\Http\Controllers\Controller;

class UserController extends Controller
{
    /**
     * æ˜¾ç¤ºæŒ‡å®šç”¨æˆ·çš„åŸºæœ¬æ•°æ®
     *
     * @param  int  $userId
     * @param  int  $podcastId
     * @return Response
     */
    public function purchasePodcast($userId, $podcastId)
    {
        $podcast = Podcast::findOrFail($podcastId);

        // è´­ä¹°æ’­å®¢ï¼ˆpodcastï¼‰é€»è¾‘...

        Event::fire(new PodcastWasPurchased($podcast));
    }
}</code></pre>
<p>å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¨å±€ <code>event</code> è¾…åŠ©å‡½æ•°æ¥è§¦å‘äº‹ä»¶ï¼š</p>
<pre><code>event(new PodcastWasPurchased($podcast));</code></pre>
<p><a name="broadcasting-events"></a></p>
<h2>å¹¿æ’­äº‹ä»¶</h2>
<p>åœ¨æ„å»ºå®æ—¶å“åº”çš„ Web App æ—¶ï¼Œç»å¸¸ä¼šä½¿ç”¨åˆ° Web Socketsã€‚å½“åœ¨æœåŠ¡å™¨ä¸Šæ›´æ–°ä¸€äº›æ•°æ®æ—¶ï¼ŒWeb Socket è¿æ¥é€šå¸¸ä¼šå‘é€ä¸€ä¸ªæ¶ˆæ¯æ¥é€šçŸ¥å®¢æˆ·ç«¯å¤„ç†ã€‚</p>
<p>ä¸ºäº†ååŠ©ä½ åˆ›å»ºè¿™äº›ç±»å‹çš„åº”ç”¨ç¨‹åºï¼ŒLaravel è®©ä½ å¯ä»¥ç®€å•çš„é€šè¿‡ Web Socket è¿æ¥æ¥ã€Œå¹¿æ’­ã€ä½ çš„äº‹ä»¶ã€‚å¹¿æ’­ Laravel äº‹ä»¶è®©ä½ èƒ½å¤Ÿåœ¨æœåŠ¡å™¨ç«¯ä»£ç å’Œå®¢æˆ·ç«¯ JavaScript æ¡†æ¶é—´å…±äº«ç›¸åŒçš„äº‹ä»¶åç§°ã€‚</p>
<p><a name="broadcast-configuration"></a></p>
<h3>é…ç½®</h3>
<p>æ‰€æœ‰çš„äº‹ä»¶å¹¿æ’­è®¾ç½®é€‰é¡¹éƒ½ä¿å­˜åœ¨ <code>config/broadcasting.php</code> é…ç½®æ–‡ä»¶å†…ã€‚Laravel å†…ç½®æ”¯æŒå¤šç§å¹¿æ’­é©±åŠ¨ï¼š<a href="javascript:if(confirm('https://pusher.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://pusher.com/'" tppabs="https://pusher.com/">Pusher</a>ã€<a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a>ï¼Œå’Œä¸€ä¸ªç”¨äºæœ¬æœºå¼€å‘å’Œè°ƒè¯•çš„ <code>log</code> é©±åŠ¨ç¨‹åºã€‚é…ç½®æ–‡ä»¶ä¾‹å­åŒ…å«äº†æ‰€æœ‰çš„é©±åŠ¨ç¨‹åºã€‚</p>
<h4>å¹¿æ’­å…ˆå†³æ¡ä»¶</h4>
<p>äº‹ä»¶å¹¿æ’­éœ€è¦ä»¥ä¸‹çš„ä¾èµ–ï¼š</p>
<ul>
<li>Pusher: <code>pusher/pusher-php-server ~2.0</code></li>
<li>Redis: <code>predis/predis ~1.0</code></li>
</ul>
<h4>é˜Ÿåˆ—å…ˆå†³æ¡ä»¶</h4>
<p>åœ¨å¹¿æ’­äº‹ä»¶ä¹‹å‰ï¼Œä½ è¿˜éœ€è¦è®¾ç½®å’Œè¿è¡Œ<a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—ä¾¦å¬å™¨</a>ã€‚æ‰€æœ‰äº‹ä»¶å¹¿æ’­ç»ç”±é˜Ÿåˆ—ä»»åŠ¡å®Œæˆï¼Œå› æ­¤å¯¹åº”ç”¨ç¨‹åºçš„å“åº”æ—¶é—´ä¸ä¼šæœ‰ä¸¥é‡å½±å“ã€‚</p>
<p><a name="marking-events-for-broadcast"></a></p>
<h3>å°†äº‹ä»¶æ ‡ç¤ºä¸ºå¹¿æ’­</h3>
<p>ä¸ºäº†é€šçŸ¥ Laravel åº”è¯¥å¹¿æ’­ä¸€ä¸ªç‰¹å®šäº‹ä»¶ï¼Œåœ¨ä½ çš„äº‹ä»¶ç±»å®ç° <code>Illuminate\Contracts\Broadcasting\ShouldBroadcast</code>ã€‚<code>ShouldBroadcast</code> è¦æ±‚ä½ å®ç°å•ä¸ªæ–¹æ³•ï¼š<code>broadcastOn</code>ã€‚<code>broadcastOn</code> æ–¹æ³•åº”è¯¥è¿”å›ä¸€ä¸ªå¿…é¡»è¢«å¹¿æ’­çš„ã€Œé¢‘é“ã€åç§°æ•°ç»„ï¼š</p>
<pre><code>&lt;?php

namespace App\Events;

use App\User;
use App\Events\Event;
use Illuminate\Queue\SerializesModels;
use Illuminate\Contracts\Broadcasting\ShouldBroadcast;

class ServerCreated extends Event implements ShouldBroadcast
{
    use SerializesModels;

    public $user;

    /**
     * åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ä»¶å®ä¾‹ã€‚
     *
     * @return void
     */
    public function __construct(User $user)
    {
        $this-&gt;user = $user;
    }

    /**
     * è·å–äº‹ä»¶åº”è¯¥è¢«å¹¿æ’­çš„é¢‘é“ã€‚
     *
     * @return array
     */
    public function broadcastOn()
    {
        return ['user.'.$this-&gt;user-&gt;id];
    }
}</code></pre>
<p>æ¥ç€ï¼Œä½ åªéœ€è¦åƒå¾€å¸¸ä¸€æ ·<a href="#firing-events">è§¦å‘äº‹ä»¶</a>ã€‚ä¸€æ—¦äº‹ä»¶è¢«è§¦å‘ä¹‹åï¼Œ<a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—ä»»åŠ¡</a>å°†ä¼šè‡ªåŠ¨çš„å¹¿æ’­äº‹ä»¶åˆ°ä½ æŒ‡å®šçš„å¹¿æ’­é©±åŠ¨ä¸Šã€‚</p>
<p><a name="overriding-broadcast-event-name"></a></p>
<h4>é‡å†™å¹¿æ’­äº‹ä»¶åç§°</h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¹¿æ’­äº‹ä»¶åç§°ä¼šä½¿ç”¨å®Œæ•´çš„äº‹ä»¶ç±»åç§°ã€‚ä»¥ä¸‹æ–¹çš„ç±»ä¸ºä¾‹å­ï¼Œè¯¥å¹¿æ’­äº‹ä»¶ä¼šæ˜¯ <code>App\Events\ServerCreated</code>ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>broadcastAs</code> æ–¹æ³•æ¥è‡ªå®šä½ æƒ³è¦çš„å¹¿æ’­äº‹ä»¶åç§°ï¼š</p>
<pre><code>/**
 * è·å–å¹¿æ’­äº‹ä»¶åç§°ã€‚
 *
 * @return string
 */
public function broadcastAs()
{
    return 'app.server-created';
}</code></pre>
<p><a name="broadcast-data"></a></p>
<h3>å¹¿æ’­æ•°æ®</h3>
<p>å½“äº‹ä»¶è¢«å¹¿æ’­æ—¶ï¼Œæ‰€æœ‰çš„ <code>public</code> å±æ€§éƒ½ä¼šè¢«è‡ªåŠ¨åºåˆ—åŒ–ä¸”å°†å¹¿æ’­ä½œä¸ºäº‹ä»¶çš„æœ‰æ•ˆè´Ÿè½½ï¼Œå…è®¸ä½ ä» JavaScript åº”ç”¨ç¨‹åºä¸­è®¿é—®ä»»ä½•å…¬å¼€çš„æ•°æ®ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‡è®¾äº‹ä»¶æœ‰ä¸€ä¸ªå•ä¸ªå…¬å¼€çš„ <code>$user</code> å±æ€§ä¸”åŒ…å«äº†ä¸€ä¸ª Eloquent æ¨¡å‹ï¼Œå¹¿æ’­æ•°æ®å°†ä¼šæ˜¯ï¼š</p>
<pre><code>{
    "user": {
        "id": 1,
        "name": "Jonathan Banks"
        ...
    }
}</code></pre>
<p>ç„¶è€Œï¼Œå¦‚æœä½ å¸Œæœ›åœ¨å¹¿æ’­æ•°æ®ä¸­æœ‰æ›´ç²¾ç¡®çš„æ§åˆ¶ï¼Œåˆ™å¯ä»¥å¢åŠ  <code>broadcastWith</code> æ–¹æ³•åˆ°äº‹ä»¶ä¸Šã€‚è¿™ä¸ªæ–¹æ³•åº”è¯¥è¿”å›ä¸€ä¸ªä½ å¸Œæœ›å¹¿æ’­çš„äº‹ä»¶æ•°æ®æ•°ç»„ï¼š</p>
<pre><code>/**
 * è·å–å¹¿æ’­æ•°æ®ã€‚
 *
 * @return array
 */
public function broadcastWith()
{
    return ['user' =&gt; $this-&gt;user-&gt;id];
}</code></pre>
<p><a name="consuming-event-broadcasts"></a></p>
<h3>æ¶ˆè€—äº‹ä»¶å¹¿æ’­</h3>
<h4>Pusher</h4>
<p>é€šè¿‡ <a href="javascript:if(confirm('https://pusher.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://pusher.com/'" tppabs="https://pusher.com/">Pusher</a> é©±åŠ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ Pusher çš„ JavaScript SDK æ–¹ä¾¿çš„æ¶ˆè€—äº‹ä»¶å¹¿æ’­ã€‚ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬ä»å…ˆå‰çš„ä¾‹å­æ¶ˆè€— <code>App\Events\ServerCreated</code> äº‹ä»¶ï¼š</p>
<pre><code>this.pusher = new Pusher('pusher-key');

this.pusherChannel = this.pusher.subscribe('user.' + USER_ID);

this.pusherChannel.bind('App\\Events\\ServerCreated', function(message) {
    console.log(message.user);
});</code></pre>
<h4>Redis</h4>
<p>å¦‚æœä½ ä½¿ç”¨äº† Redis å¹¿æ’­å™¨ï¼Œåˆ™éœ€è¦ç¼–å†™è‡ªå·±çš„ Redis pub/sub æ¶ˆè€—å™¨æ¥æ¥æ”¶æ¶ˆæ¯å’Œå¹¿æ’­ï¼Œå¹¶ä½¿ç”¨ä½ æ‰€é€‰æ‹©çš„ WebSocket æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½é€‰æ‹©ä½¿ç”¨ Node ç¼–å†™ã€å¾ˆå—æ¬¢è¿çš„ <a href="javascript:if(confirm('http://socket.io/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://socket.io/'" tppabs="http://socket.io/">Socket.io</a> å‡½æ•°åº“ã€‚</p>
<p>ä½¿ç”¨ <code>socket.io</code> å’Œ <code>ioredis</code> Node å‡½æ•°åº“å¯ä»¥å¿«é€Ÿçš„ç¼–å†™ä¸€ä¸ªäº‹ä»¶å¹¿æ’­å™¨ï¼Œåœ¨ Laravel åº”ç”¨ç¨‹åºå‘å¸ƒæ‰€æœ‰äº‹ä»¶çš„å¹¿æ’­ï¼š</p>
<pre><code>var app = require('http').createServer(handler);
var io = require('socket.io')(app);

var Redis = require('ioredis');
var redis = new Redis();

app.listen(6001, function() {
    console.log('Server is running!');
});

function handler(req, res) {
    res.writeHead(200);
    res.end('');
}

io.on('connection', function(socket) {
    //
});

redis.psubscribe('*', function(err, count) {
    //
});

redis.on('pmessage', function(subscribed, channel, message) {
    message = JSON.parse(message);
    io.emit(channel + ':' + message.event, message.data);
});</code></pre>
<p><a name="event-subscribers"></a></p>
<h2>äº‹ä»¶è®¢é˜…å™¨</h2>
<p>äº‹ä»¶è®¢é˜…å™¨æ˜¯ä¸€ä¸ªè®©ä½ å¯ä»¥è®¢é˜…å¤šä¸ªäº‹ä»¶çš„ç±»ï¼Œå…è®¸ä½ åœ¨å•ä¸ªç±»å†…å®šä¹‰å¤šä¸ªäº‹ä»¶çš„æ“ä½œã€‚è®¢é˜…å™¨åº”è¯¥å®šä¹‰ä¸€ä¸ªå¯ä»¥å‘é€ä¸€ä¸ªäº‹ä»¶å‘é€å™¨å®ä¾‹çš„ <code>subscribe</code> æ–¹æ³•ï¼Œï¼š</p>
<pre><code>&lt;?php

namespace App\Listeners;

class UserEventListener
{
    /**
     * å¤„ç†ç”¨æˆ·ç™»å½•äº‹ä»¶ã€‚
     */
    public function onUserLogin($event) {}

    /**
     * å¤„ç†ç”¨æˆ·æ³¨é”€äº‹ä»¶ã€‚
     */
    public function onUserLogout($event) {}

    /**
     * æ³¨å†Œä¾¦å¬å™¨çš„è®¢é˜…è€…ã€‚
     *
     * @param  Illuminate\Events\Dispatcher  $events
     */
    public function subscribe($events)
    {
        $events-&gt;listen(
            'App\Events\UserLoggedIn',
            'App\Listeners\UserEventListener@onUserLogin'
        );

        $events-&gt;listen(
            'App\Events\UserLoggedOut',
            'App\Listeners\UserEventListener@onUserLogout'
        );
    }

}</code></pre>
<h4>æ³¨å†Œäº‹ä»¶è®¢é˜…å™¨</h4>
<p>ä¸€æ—¦è®¢é˜…å™¨è¢«å®šä¹‰ï¼Œå®ƒå°±å¯ä»¥è¢«æ³¨å†Œåˆ°äº‹ä»¶å‘é€å™¨ä¸­ã€‚ä½ å¯ä»¥åœ¨ <code>EventServiceProvider</code> ä¸­ä½¿ç”¨ <code>$subscribe</code> å±æ€§æ³¨å†Œè®¢é˜…å™¨ã€‚ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬å¢åŠ  <code>UserEventListener</code>ã€‚</p>
<pre><code>&lt;?php

namespace App\Providers;

use Illuminate\Contracts\Events\Dispatcher as DispatcherContract;
use Illuminate\Foundation\Support\Providers\EventServiceProvider as ServiceProvider;

class EventServiceProvider extends ServiceProvider
{
    /**
     * äº‹ä»¶ä¾¦å¬å™¨æ˜ å°„åˆ°åº”ç”¨ç¨‹åºã€‚
     *
     * @var array
     */
    protected $listen = [
        //
    ];

    /**
     * è®¢é˜…è€…ç±»è¿›è¡Œæ³¨å†Œã€‚
     *
     * @var array
     */
    protected $subscribe = [
        'App\Listeners\UserEventListener',
    ];
}</code></pre>
<p><a name="framework-events"></a></p>
<h2>æ¡†æ¶äº‹ä»¶</h2>
<p>Laravel ä¸ºæ¡†æ¶è¿è¡Œçš„è¡Œä¸ºæä¾›äº†è®¸å¤šã€Œæ ¸å¿ƒã€äº‹ä»¶ã€‚ä½ å¯ä»¥åƒè®¢é˜…è‡ªå·±è‡ªå®šä¹‰äº‹ä»¶ä¸€æ ·çš„æ–¹å¼æ¥è®¢é˜…å®ƒä»¬ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align: left;">äº‹ä»¶</th>
<th style="text-align: left;">å‚æ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">artisan.start</td>
<td style="text-align: left;">$application</td>
</tr>
<tr>
<td style="text-align: left;">auth.attempt</td>
<td style="text-align: left;">$credentials, $remember, $login</td>
</tr>
<tr>
<td style="text-align: left;">auth.login</td>
<td style="text-align: left;">$user, $remember</td>
</tr>
<tr>
<td style="text-align: left;">auth.logout</td>
<td style="text-align: left;">$user</td>
</tr>
<tr>
<td style="text-align: left;">cache.missed</td>
<td style="text-align: left;">$key</td>
</tr>
<tr>
<td style="text-align: left;">cache.hit</td>
<td style="text-align: left;">$key, $value</td>
</tr>
<tr>
<td style="text-align: left;">cache.write</td>
<td style="text-align: left;">$key, $value, $minutes</td>
</tr>
<tr>
<td style="text-align: left;">cache.delete</td>
<td style="text-align: left;">$key</td>
</tr>
<tr>
<td style="text-align: left;">connection.{name}.beginTransaction</td>
<td style="text-align: left;">$connection</td>
</tr>
<tr>
<td style="text-align: left;">connection.{name}.committed</td>
<td style="text-align: left;">$connection</td>
</tr>
<tr>
<td style="text-align: left;">connection.{name}.rollingBack</td>
<td style="text-align: left;">$connection</td>
</tr>
<tr>
<td style="text-align: left;">illuminate.query</td>
<td style="text-align: left;">$query, $bindings, $time, $connectionName</td>
</tr>
<tr>
<td style="text-align: left;">illuminate.queue.after</td>
<td style="text-align: left;">$connection, $job, $data</td>
</tr>
<tr>
<td style="text-align: left;">illuminate.queue.failed</td>
<td style="text-align: left;">$connection, $job, $data</td>
</tr>
<tr>
<td style="text-align: left;">illuminate.queue.stopping</td>
<td style="text-align: left;">null</td>
</tr>
<tr>
<td style="text-align: left;">mailer.sending</td>
<td style="text-align: left;">$message</td>
</tr>
<tr>
<td style="text-align: left;">router.matched</td>
<td style="text-align: left;">$route, $request</td>
</tr>
<tr>
<td style="text-align: left;">composing:{view name}</td>
<td style="text-align: left;">$view</td>
</tr>
<tr>
<td style="text-align: left;">creating:{view name}</td>
<td style="text-align: left;">$view</td>
</tr>
</tbody>
</table>
		</div>

		<div class="main-footer" style="border-top:1px dashed rgba(0, 0, 0, 0.1);padding-top: 30px;margin-top:30px;margin-bottom: 20px;">
			<div class="prev-next-wrap clearfix">

									<a class="btn btn-default pull-left" href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors"><i class="fa fa-arrow-left"></i> é”™è¯¯ä¸æ—¥å¿—</a>
				
			    &nbsp;
								    <a class="btn btn-default pull-right" href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨ <i class="fa fa-arrow-right"></i></a>
							</div>
		</div>

	</article>
</div>

		<footer class="main">
			<ul>
				<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
			</ul>
			<p>Laravel is a trademark of Taylor Otwell. Copyright &copy; Taylor Otwell.</p>
			<p class="less-significant"><a href="javascript:if(confirm('http://jackmcdade.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://jackmcdade.com/'" tppabs="http://jackmcdade.com/">Design by Jack McDade</a></p>

			<p class="less-significant">
				<a href="javascript:if(confirm('http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao'" tppabs="http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao" target="_blank">ç”± UCloud èµåŠ©  <img src="dYfOYswiQY.png" tppabs="https://dn-phphub.qbox.me/uploads/images/201605/03/1/dYfOYswiQY.png" width="98" data-toggle="tooltip" data-placement="top" title="æœ¬ç«™æœåŠ¡å™¨ç”± UCloud èµåŠ©"></a>.
		      </p>
		</footer>

	</div>

	<script src="laravel.js" tppabs="http://laravel-china.org/assets/js/laravel.js"></script>
	<script src="viewport-units-buggyfill.js" tppabs="http://laravel-china.org/assets/js/viewport-units-buggyfill.js"></script>
	<script>window.viewportUnitsBuggyfill.init();</script>
    <script>

		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','analytics.js'/*tpa=http://7xijlf.com2.z0.glb.qiniucdn.com/js/analytics.js*/,'ga');

		ga('create', 'UA-53903425-7', 'auto');
		ga('send', 'pageview');

		$(window).load(function() {
		  // When the page has loaded
		  $(".main-content").fadeIn(10);
		});
    </script>
</body>
</html>
