<!doctype html>
<html>
<head>
	<meta charset=UTF-8"utf-8">
	<title>Laravel 5.1 ä¸­æ–‡æ–‡æ¡£ï¼šä¸­çº§ä»»åŠ¡æ¸…å•
</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="author" content="@summerblue">
	<meta name="description" content="ä¸­çº§ä»»åŠ¡æ¸…å•,ç®€ä»‹,å®‰è£…,å‡†å¤‡æ•°æ®åº“,æ•°æ®åº“è¿ç§»,Eloquent æ¨¡å‹,Eloquent å…³è”,è·¯ç”±,æ˜¾ç¤ºè§†å›¾,è®¤è¯,ä»»åŠ¡æ§åˆ¶å™¨,æ„å»ºå¸ƒå±€ä¸è§†å›¾,å®šä¹‰å¸ƒå±€,å®šä¹‰å­è§†å›¾,å¢åŠ ä»»åŠ¡,éªŒè¯,åˆ›å»ºä»»åŠ¡,æ˜¾ç¤ºå·²æœ‰çš„ä»»åŠ¡,ä¾èµ–æ³¨å…¥,æ˜¾ç¤ºä»»åŠ¡,åˆ é™¤ä»»åŠ¡,å¢åŠ åˆ é™¤æŒ‰é’®,è·¯ç”±æ¨¡å‹ç»‘å®š,æˆæƒ,åˆ é™¤è¯¥ä»»åŠ¡,ç®€ä»‹,æ­¤å¿«é€Ÿå…¥é—¨æŒ‡å—ä¸º Laravel æ¡†æ¶æä¾›äº†é«˜çº§çš„ä»‹ç»ï¼Œå…¶ä¸­å†…å®¹åŒ…æ‹¬æ•°æ®åº“è¿ç§»ã€Eloquent ORMã€...
">
	<meta name="keywords" content="ä¸­çº§ä»»åŠ¡æ¸…å•,laravel5.1æ–‡æ¡£,laravel5.1ä¸­æ–‡æ–‡æ¡£,laravelä¸­å›½,laravelä¸­æ–‡,laravelæ¡†æ¶ä¸­æ–‡,laravelæ–‡æ¡£,laravelæ¡†æ¶ä¸­å›½,laravelä¸­æ–‡æ–‡æ¡£
">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--[if lte IE 9]>
		<script src="html5shiv.min.js" tppabs="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
	<![endif]-->
	<link rel="stylesheet" href="laravel.css" tppabs="http://laravel-china.org/assets/css/laravel.css">
	<style media="screen">
		div.main-content {
		  display: none;
		}
		.loading-effect {
			position: fixed;
			left: 50%;
			top:300px;
		    z-index: -1;
		}
	</style>
</head>
<body class="docs language-php ">

	<span class="overlay"></span>

	<div class="loading-effect">
		<div class="loader-inner line-scale">
		      <div></div>
		      <div></div>
		      <div></div>
		      <div></div>
		      <div></div>
		  </div>
	</div>


	<div class="main-content">

		<nav class="main">
			<div class="container">
				<a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/" class="brand">
					<img src="laravel-logo.png" tppabs="http://laravel-china.org/assets/img/laravel-logo.png" height="30">
					Laravel
				</a>

				<div class="responsive-sidebar-nav">
					<a href="#" class="toggle-slide menu-link btn">&#9776;</a>
				</div>

									<div class="switcher">
	<div class="dropdown">
		<button class="btn dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
			<!--<span class="faint">v</span> -->
			5.1
			<span class="caret"></span>
		</button>
		<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
							<li role="presentation">
					<a role="menuitem" tabindex="-1" href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">5.1</a>
				</li>
							<li role="presentation">
					<a role="menuitem" tabindex="-1" href="4.2.htm" tppabs="http://laravel-china.org/docs/4.2/quickstart-intermediate">4.2</a>
				</li>
					</ul>
	</div>
</div>
				
				<ul class="main-nav">
					<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
				</ul>
			</div>
		</nav>

		<nav id="slide-menu" class="slide-menu" role="navigation">

	<div class="brand">
		<a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/">
			<img src="laravel-logo-white.png" tppabs="http://laravel-china.org/assets/img/laravel-logo-white.png" height="50">
		</a>
	</div>

	<ul class="slide-main-nav">
		<li><a href="javascript:if(confirm('http://laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/'" tppabs="http://laravel-china.org/">Home</a></li>
		<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
	</ul>

	<div class="slide-docs-nav">
		<h2>æ–‡æ¡£</h2>

		<a type="button" class="turnofflight"><i class="fa fa-lightbulb-o"></i> <i class="fa fa-star-o"></i> å¤œé—´æ¨¡å¼ </a>
		<ul>
<li>å‰è¨€
<ul>
<li><a href="about.htm" tppabs="http://laravel-china.org/docs/5.1/about">ç¿»è¯‘è¯´æ˜</a></li>
<li><a href="releases.htm" tppabs="http://laravel-china.org/docs/5.1/releases">å‘è¡Œè¯´æ˜</a></li>
<li><a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a></li>
<li><a href="contributions.htm" tppabs="http://laravel-china.org/docs/5.1/contributions">è´¡çŒ®å¯¼å¼•</a></li>
<li><a href="javascript:if(confirm('http://laravel-china.org/api/5.1  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/api/5.1'" tppabs="http://laravel-china.org/api/5.1">API æ–‡æ¡£</a></li>
</ul></li>
<li>ç¯å¢ƒé…ç½®
<ul>
<li><a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a></li>
<li><a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a></li>
</ul></li>
<li>åŸºæœ¬åŠŸèƒ½
<ul>
<li><a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a></li>
<li><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a></li>
<li><a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a></li>
<li><a href="requests.htm" tppabs="http://laravel-china.org/docs/5.1/requests">è¯·æ±‚</a></li>
<li><a href="responses.htm" tppabs="http://laravel-china.org/docs/5.1/responses">å“åº”</a></li>
<li><a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a></li>
<li><a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿</a></li>
</ul></li>
<li>æ•™ç¨‹
<ul>
<li><a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åˆçº§ä»»åŠ¡æ¸…å•</a></li>
<li><a href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">ä¸­çº§ä»»åŠ¡æ¸…å•</a></li>
</ul></li>
<li>ç³»ç»Ÿæ¶æ„
<ul>
<li><a href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="structure.htm" tppabs="http://laravel-china.org/docs/5.1/structure">åº”ç”¨ç¨‹åºç»“æ„</a></li>
<li><a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a></li>
<li><a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a></li>
<li><a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">Contracts</a></li>
<li><a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">Facades</a></li>
</ul></li>
<li>ç³»ç»ŸæœåŠ¡
<ul>
<li><a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a></li>
<li><a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ</a></li>
<li><a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ</a></li>
<li><a href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing">äº¤æ˜“</a></li>
<li><a href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">ç¼“å­˜</a></li>
<li><a href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ</a></li>
<li><a href="elixir.htm" tppabs="http://laravel-china.org/docs/5.1/elixir">Elixir</a></li>
<li><a href="encryption.htm" tppabs="http://laravel-china.org/docs/5.1/encryption">åŠ å¯†ä¸è§£å¯†</a></li>
<li><a href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors">é”™è¯¯ä¸æ—¥å¿—</a></li>
<li><a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a></li>
<li><a href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨</a></li>
<li><a href="hashing.htm" tppabs="http://laravel-china.org/docs/5.1/hashing">å“ˆå¸Œ</a></li>
<li><a href="helpers.htm" tppabs="http://laravel-china.org/docs/5.1/helpers">è¾…åŠ©å‡½æ•°</a></li>
<li><a href="localization.htm" tppabs="http://laravel-china.org/docs/5.1/localization">æœ¬åœ°åŒ–</a></li>
<li><a href="mail.htm" tppabs="http://laravel-china.org/docs/5.1/mail">é‚®ä»¶</a></li>
<li><a href="packages.htm" tppabs="http://laravel-china.org/docs/5.1/packages">æ‰©å±•åŒ…å¼€å‘</a></li>
<li><a href="pagination.htm" tppabs="http://laravel-china.org/docs/5.1/pagination">åˆ†é¡µ</a></li>
<li><a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a></li>
<li><a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a></li>
<li><a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">Session</a></li>
<li><a href="envoy.htm" tppabs="http://laravel-china.org/docs/5.1/envoy">Envoy</a></li>
<li><a href="scheduling.htm" tppabs="http://laravel-china.org/docs/5.1/scheduling">ä»»åŠ¡è°ƒåº¦</a></li>
<li><a href="testing.htm" tppabs="http://laravel-china.org/docs/5.1/testing">æµ‹è¯•</a></li>
<li><a href="validation.htm" tppabs="http://laravel-china.org/docs/5.1/validation">è¡¨å•éªŒè¯</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database.htm" tppabs="http://laravel-china.org/docs/5.1/database">å…¥é—¨</a></li>
<li><a href="queries.htm" tppabs="http://laravel-china.org/docs/5.1/queries">æŸ¥è¯¢æ„é€ å™¨</a></li>
<li><a href="migrations.htm" tppabs="http://laravel-china.org/docs/5.1/migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="seeding.htm" tppabs="http://laravel-china.org/docs/5.1/seeding">æ•°æ®å¡«å……</a></li>
</ul></li>
<li>Eloquent ORM
<ul>
<li><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å…¥é—¨</a></li>
<li><a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">æ¨¡å‹å…³è”</a></li>
<li><a href="eloquent-collections.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-collections">Eloquent é›†åˆ</a></li>
<li><a href="eloquent-mutators.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-mutators">Getter/Setter</a></li>
<li><a href="eloquent-serialization.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-serialization">åºåˆ—åŒ–</a></li>
</ul></li>
</ul>
	</div>

</nav>

<div class="docs-wrapper container">

	<section class="sidebar">

		<div class="header">
			<a type="button" class="btn btn-primary btn-lg btn-block turnofflight"><i class="fa fa-lightbulb-o"></i> <i class="fa fa-star-o"></i> å¤œé—´æ¨¡å¼ </a>
		</div>

		<ul>
<li>å‰è¨€
<ul>
<li><a href="about.htm" tppabs="http://laravel-china.org/docs/5.1/about">ç¿»è¯‘è¯´æ˜</a></li>
<li><a href="releases.htm" tppabs="http://laravel-china.org/docs/5.1/releases">å‘è¡Œè¯´æ˜</a></li>
<li><a href="upgrade.htm" tppabs="http://laravel-china.org/docs/5.1/upgrade">å‡çº§å¯¼å¼•</a></li>
<li><a href="contributions.htm" tppabs="http://laravel-china.org/docs/5.1/contributions">è´¡çŒ®å¯¼å¼•</a></li>
<li><a href="javascript:if(confirm('http://laravel-china.org/api/5.1  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/api/5.1'" tppabs="http://laravel-china.org/api/5.1">API æ–‡æ¡£</a></li>
</ul></li>
<li>ç¯å¢ƒé…ç½®
<ul>
<li><a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a></li>
<li><a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a></li>
</ul></li>
<li>åŸºæœ¬åŠŸèƒ½
<ul>
<li><a href="routing.htm" tppabs="http://laravel-china.org/docs/5.1/routing">è·¯ç”±</a></li>
<li><a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a></li>
<li><a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a></li>
<li><a href="requests.htm" tppabs="http://laravel-china.org/docs/5.1/requests">è¯·æ±‚</a></li>
<li><a href="responses.htm" tppabs="http://laravel-china.org/docs/5.1/responses">å“åº”</a></li>
<li><a href="views.htm" tppabs="http://laravel-china.org/docs/5.1/views">è§†å›¾</a></li>
<li><a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿</a></li>
</ul></li>
<li>æ•™ç¨‹
<ul>
<li><a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åˆçº§ä»»åŠ¡æ¸…å•</a></li>
<li><a href="quickstart-intermediate.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart-intermediate">ä¸­çº§ä»»åŠ¡æ¸…å•</a></li>
</ul></li>
<li>ç³»ç»Ÿæ¶æ„
<ul>
<li><a href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="structure.htm" tppabs="http://laravel-china.org/docs/5.1/structure">åº”ç”¨ç¨‹åºç»“æ„</a></li>
<li><a href="providers.htm" tppabs="http://laravel-china.org/docs/5.1/providers">æœåŠ¡æä¾›è€…</a></li>
<li><a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a></li>
<li><a href="contracts.htm" tppabs="http://laravel-china.org/docs/5.1/contracts">Contracts</a></li>
<li><a href="facades.htm" tppabs="http://laravel-china.org/docs/5.1/facades">Facades</a></li>
</ul></li>
<li>ç³»ç»ŸæœåŠ¡
<ul>
<li><a href="authentication.htm" tppabs="http://laravel-china.org/docs/5.1/authentication">ç”¨æˆ·è®¤è¯</a></li>
<li><a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">ç”¨æˆ·æˆæƒ</a></li>
<li><a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œ</a></li>
<li><a href="billing.htm" tppabs="http://laravel-china.org/docs/5.1/billing">äº¤æ˜“</a></li>
<li><a href="cache.htm" tppabs="http://laravel-china.org/docs/5.1/cache">ç¼“å­˜</a></li>
<li><a href="collections.htm" tppabs="http://laravel-china.org/docs/5.1/collections">é›†åˆ</a></li>
<li><a href="elixir.htm" tppabs="http://laravel-china.org/docs/5.1/elixir">Elixir</a></li>
<li><a href="encryption.htm" tppabs="http://laravel-china.org/docs/5.1/encryption">åŠ å¯†ä¸è§£å¯†</a></li>
<li><a href="errors.htm" tppabs="http://laravel-china.org/docs/5.1/errors">é”™è¯¯ä¸æ—¥å¿—</a></li>
<li><a href="events.htm" tppabs="http://laravel-china.org/docs/5.1/events">äº‹ä»¶</a></li>
<li><a href="filesystem.htm" tppabs="http://laravel-china.org/docs/5.1/filesystem">æ–‡ä»¶ç³»ç»Ÿä¸äº‘å­˜å‚¨</a></li>
<li><a href="hashing.htm" tppabs="http://laravel-china.org/docs/5.1/hashing">å“ˆå¸Œ</a></li>
<li><a href="helpers.htm" tppabs="http://laravel-china.org/docs/5.1/helpers">è¾…åŠ©å‡½æ•°</a></li>
<li><a href="localization.htm" tppabs="http://laravel-china.org/docs/5.1/localization">æœ¬åœ°åŒ–</a></li>
<li><a href="mail.htm" tppabs="http://laravel-china.org/docs/5.1/mail">é‚®ä»¶</a></li>
<li><a href="packages.htm" tppabs="http://laravel-china.org/docs/5.1/packages">æ‰©å±•åŒ…å¼€å‘</a></li>
<li><a href="pagination.htm" tppabs="http://laravel-china.org/docs/5.1/pagination">åˆ†é¡µ</a></li>
<li><a href="queues.htm" tppabs="http://laravel-china.org/docs/5.1/queues">é˜Ÿåˆ—</a></li>
<li><a href="redis.htm" tppabs="http://laravel-china.org/docs/5.1/redis">Redis</a></li>
<li><a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">Session</a></li>
<li><a href="envoy.htm" tppabs="http://laravel-china.org/docs/5.1/envoy">Envoy</a></li>
<li><a href="scheduling.htm" tppabs="http://laravel-china.org/docs/5.1/scheduling">ä»»åŠ¡è°ƒåº¦</a></li>
<li><a href="testing.htm" tppabs="http://laravel-china.org/docs/5.1/testing">æµ‹è¯•</a></li>
<li><a href="validation.htm" tppabs="http://laravel-china.org/docs/5.1/validation">è¡¨å•éªŒè¯</a></li>
</ul></li>
<li>æ•°æ®åº“
<ul>
<li><a href="database.htm" tppabs="http://laravel-china.org/docs/5.1/database">å…¥é—¨</a></li>
<li><a href="queries.htm" tppabs="http://laravel-china.org/docs/5.1/queries">æŸ¥è¯¢æ„é€ å™¨</a></li>
<li><a href="migrations.htm" tppabs="http://laravel-china.org/docs/5.1/migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="seeding.htm" tppabs="http://laravel-china.org/docs/5.1/seeding">æ•°æ®å¡«å……</a></li>
</ul></li>
<li>Eloquent ORM
<ul>
<li><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å…¥é—¨</a></li>
<li><a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">æ¨¡å‹å…³è”</a></li>
<li><a href="eloquent-collections.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-collections">Eloquent é›†åˆ</a></li>
<li><a href="eloquent-mutators.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-mutators">Getter/Setter</a></li>
<li><a href="eloquent-serialization.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-serialization">åºåˆ—åŒ–</a></li>
</ul></li>
</ul>
	</section>

	<article>

		<div class="alert alert-warning" role="alert">

			<h4>æ‹¥æŠ± Laravel 5.1 LTS</h4>
			<p>
				å¼ºçƒˆå»ºè®®åœ¨ 2018 å¹´ä¹‹å‰ä½¿ç”¨ Laravel 5.1 æ¥æ„å»ºé¡¹ç›®ï¼ŒLaravel 5.1 æ˜¯ LTS çš„å‘è¡Œç‰ˆæœ¬, å‘è¡Œäº 2015 å¹´ 6 æœˆä»½ï¼Œè‡ªå‘å¸ƒèµ·æä¾›ä¸¤å¹´æ—¶é—´çš„ Bug ä¿®å¤ï¼ˆ2017 å¹´ 6 æœˆï¼‰, 3 å¹´æ—¶é—´çš„å®‰å…¨ä¿®å¤ï¼ˆ2018 å¹´ 6 æœˆï¼‰ã€‚
			</p>
			 <p>
			 	LTS ç‰ˆæœ¬æ˜¯æ­¤é¡¹ç›®èƒ½æä¾›çš„æœ€é•¿æ—¶é—´ç»´æŠ¤ç‰ˆæœ¬ã€‚ä¸€èˆ¬çš„å‘è¡Œç‰ˆæœ¬, åªæä¾› 6 ä¸ªæœˆçš„ Bug ä¿®å¤æ”¯æŒ, ä¸€å¹´çš„å®‰å…¨ä¿®å¤æ”¯æŒ.
			 </p>
		</div>

		<div class="main-content">
			<h1>ä¸­çº§ä»»åŠ¡æ¸…å•</h1>
<ul>
<li><a href="#introduction">ç®€ä»‹</a></li>
<li><a href="#installation">å®‰è£…</a></li>
<li><a href="#prepping-the-database">å‡†å¤‡æ•°æ®åº“</a>
<ul>
<li><a href="#database-migrations">æ•°æ®åº“è¿ç§»</a></li>
<li><a href="#eloquent-models">Eloquent æ¨¡å‹</a></li>
<li><a href="#eloquent-relationships">Eloquent å…³è”</a></li>
</ul></li>
<li><a href="#routing">è·¯ç”±</a>
<ul>
<li><a href="#displaying-a-view">æ˜¾ç¤ºè§†å›¾</a></li>
<li><a href="#authentication-routing">è®¤è¯</a></li>
<li><a href="#the-task-controller">ä»»åŠ¡æ§åˆ¶å™¨</a></li>
</ul></li>
<li><a href="#building-layouts-and-views">æ„å»ºå¸ƒå±€ä¸è§†å›¾</a>
<ul>
<li><a href="#defining-the-layout">å®šä¹‰å¸ƒå±€</a></li>
<li><a href="#defining-the-child-view">å®šä¹‰å­è§†å›¾</a></li>
</ul></li>
<li><a href="#adding-tasks">å¢åŠ ä»»åŠ¡</a>
<ul>
<li><a href="#validation">éªŒè¯</a></li>
<li><a href="#creating-the-task">åˆ›å»ºä»»åŠ¡</a></li>
</ul></li>
<li><a href="#displaying-existing-tasks">æ˜¾ç¤ºå·²æœ‰çš„ä»»åŠ¡</a>
<ul>
<li><a href="#dependency-injection">ä¾èµ–æ³¨å…¥</a></li>
<li><a href="#displaying-the-tasks">æ˜¾ç¤ºä»»åŠ¡</a></li>
</ul></li>
<li><a href="#deleting-tasks">åˆ é™¤ä»»åŠ¡</a>
<ul>
<li><a href="#adding-the-delete-button">å¢åŠ åˆ é™¤æŒ‰é’®</a></li>
<li><a href="#route-model-binding">è·¯ç”±æ¨¡å‹ç»‘å®š</a></li>
<li><a href="#authorization">æˆæƒ</a></li>
<li><a href="#deleting-the-task">åˆ é™¤è¯¥ä»»åŠ¡</a></li>
</ul></li>
</ul>
<p><a name="introduction"></a></p>
<h2>ç®€ä»‹</h2>
<p>æ­¤å¿«é€Ÿå…¥é—¨æŒ‡å—ä¸º Laravel æ¡†æ¶æä¾›äº†é«˜çº§çš„ä»‹ç»ï¼Œå…¶ä¸­å†…å®¹åŒ…æ‹¬æ•°æ®åº“è¿ç§»ã€Eloquent ORMã€è·¯ç”±ã€è®¤è¯ã€æˆæƒã€ä¾èµ–æ³¨å…¥ã€éªŒè¯ã€è§†å›¾ï¼ŒåŠ Blade æ¨¡ç‰ˆã€‚å¦‚æœä½ å·²ç»æœ‰ Laravel æ¡†æ¶æˆ– PHP çš„åŸºç¡€ï¼Œé‚£ä¹ˆè¿™ä¼šæ˜¯ä¸ªå¾ˆå¥½çš„å¼€å¤´ã€‚</p>
<p>è¦åœ¨ Laravel åŠŸèƒ½ä¸­ä¸ºæ ·æœ¬åšåŸºæœ¬çš„é€‰æ‹©ï¼Œæˆ‘ä»¬ä¼šæ„å»ºä¸€ä¸ªç®€å•çš„ä»»åŠ¡æ¸…å•ï¼Œå¯ä»¥ä½¿ç”¨å®ƒè¿½è¸ªæ‰€æœ‰æƒ³å®Œæˆçš„ä»»åŠ¡ï¼ˆå…¸å‹çš„ã€Œä»£åŠäº‹é¡¹æ¸…å•ã€ä¾‹å­ï¼‰ã€‚ä¸ã€ŒåŸºæœ¬ã€å¿«é€Ÿå…¥é—¨æ•™ç¨‹ä¸åŒï¼Œæ­¤æ•™ç¨‹ä¼šå…è®¸ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºåˆ›å»ºå¸å·å¹¶è®¤è¯ã€‚æ­¤é¡¹ç›®å®Œæ•´çš„æºä»£ç <a href="javascript:if(confirm('http://github.com/laravel/quickstart-intermediate  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://github.com/laravel/quickstart-intermediate'" tppabs="http://github.com/laravel/quickstart-intermediate">åœ¨ GitHub ä¸Š</a>ã€‚</p>
<p><a name="installation"></a></p>
<h2>å®‰è£…</h2>
<p>é¦–å…ˆä½ éœ€è¦å®‰è£…ä¸€ä¸ªå…¨æ–°çš„ Laravel æ¡†æ¶ã€‚ä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨ <a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead è™šæ‹Ÿæœº</a>æˆ–æ˜¯å…¶å®ƒæœ¬æœº PHP ç¯å¢ƒæ¥è¿è¡Œæ¡†æ¶ã€‚åªè¦ä½ å‡†å¤‡å¥½äº†æœ¬æœºç¯å¢ƒï¼Œå°±å¯ä»¥ä½¿ç”¨ Composer å®‰è£… Laravel æ¡†æ¶ï¼š</p>
<pre><code>composer create-project laravel/laravel quickstart --prefer-dist</code></pre>
<p>ä½ å¯ä»¥éšæ„é˜…è¯»å¿«é€Ÿå…¥é—¨æŒ‡å—çš„å‰©ä½™éƒ¨åˆ†ï¼›ä¸è¿‡ï¼Œå¦‚æœä½ æƒ³ä¸‹è½½è¿™ä¸ªå¿«é€Ÿå…¥é—¨æŒ‡å—çš„æºä»£ç å¹¶åœ¨ä½ çš„æœ¬æœºæœºå™¨è¿è¡Œï¼Œé‚£ä¹ˆä½ éœ€è¦å…‹éš†å®ƒçš„ Git ä»£ç ä»“åº“å¹¶å®‰è£…ä¾èµ–ï¼š</p>
<pre><code>git clone https://github.com/laravel/quickstart-intermediate quickstart
cd quickstart
composer install
php artisan migrate</code></pre>
<p>æ¬²äº†è§£æ›´å¤šå…³äºæ„å»ºæœ¬æœº Laravel å¼€å‘ç¯å¢ƒçš„æ–‡æ¡£ï¼Œè¯·æŸ¥é˜…å®Œæ•´çš„ <a href="homestead.htm" tppabs="http://laravel-china.org/docs/5.1/homestead">Homestead</a> åŠ<a href="installation.htm" tppabs="http://laravel-china.org/docs/5.1/installation">å®‰è£…</a>æ–‡æ¡£ã€‚</p>
<p><a name="prepping-the-database"></a></p>
<h2>å‡†å¤‡æ•°æ®åº“</h2>
<p><a name="database-migrations"></a></p>
<h3>æ•°æ®åº“è¿ç§»</h3>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä½¿ç”¨è¿ç§»æ¥å®šä¹‰æ•°æ®è¡¨ä»¥å®¹çº³æˆ‘ä»¬æ‰€æœ‰çš„ä»»åŠ¡ã€‚Laravel çš„æ•°æ®åº“è¿ç§»æä¾›äº†ä¸€ä¸ªç®€å•çš„æ–¹å¼ï¼Œä½¿ç”¨æµç•…ã€ä¸€ç›®äº†ç„¶çš„ PHP ä»£ç æ¥å®šä¹‰æ•°æ®è¡¨çš„ç»“æ„ä¸ä¿®æ”¹ã€‚ä½ æ— éœ€å†å‘Šè¯‰å›¢é˜Ÿæˆå‘˜è¦æ‰‹åŠ¨å¢åŠ å­—æ®µè‡³ä»–ä»¬æœ¬æœºçš„æ•°æ®åº“å‰¯æœ¬ä¸­ï¼Œä½ çš„é˜Ÿå‹å°±å¯ä»¥ç®€å•è¿è¡Œä½ æ¨é€åˆ°ç‰ˆæœ¬æ§åˆ¶çš„è¿ç§»ã€‚</p>
<h4><code>users</code> æ•°æ®è¡¨</h4>
<p>å› ä¸ºæˆ‘ä»¬è¦è®©ç”¨æˆ·å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­åˆ›å»ºä»–ä»¬çš„å¸å·ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€å¼ æ•°æ®è¡¨æ¥ä¿å­˜æˆ‘ä»¬çš„ç”¨æˆ·ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼ŒLaravel å·²ç»é™„å¸¦äº†åˆ›å»º <code>users</code> æ•°æ®è¡¨çš„è¿ç§»ï¼Œæ‰€ä»¥æˆ‘ä»¬æ²¡å¿…è¦å†æ‰‹åŠ¨ç”Ÿæˆä¸€ä¸ªã€‚é»˜è®¤çš„ <code>users</code> æ•°æ®è¡¨è¿ç§»ä½äº <code>database/migrations</code> ç›®å½•ä¸­ã€‚</p>
<h4><code>tasks</code> æ•°æ®è¡¨</h4>
<p>ä¸‹ä¸€æ­¥ï¼Œè®©æˆ‘ä»¬æ„å»ºä¸€å¼ å°†å®¹çº³æ‰€æœ‰ä»»åŠ¡çš„æ•°æ®è¡¨ã€‚<a href="artisan.htm" tppabs="http://laravel-china.org/docs/5.1/artisan">Artisan å‘½ä»¤è¡Œæ¥å£</a>å¯ä»¥è¢«ç”¨äºç”Ÿæˆå„ç§ç±»ï¼Œä¸ºä½ æ„å»º Laravel é¡¹ç›®æ—¶èŠ‚çœå¤§é‡æ‰‹åŠ¨è¾“å…¥çš„æ—¶é—´ã€‚åœ¨æ­¤ä¾‹ä¸­ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ <code>make:migration</code> å‘½ä»¤ä¸º <code>tasks</code> æ•°æ®è¡¨ç”Ÿæˆæ–°çš„æ•°æ®åº“è¿ç§»ï¼š</p>
<pre><code>php artisan make:migration create_tasks_table --create=tasks</code></pre>
<p>æ­¤è¿ç§»ä¼šè¢«æ”¾ç½®åœ¨ä½ é¡¹ç›®çš„ <code>database/migrations</code> ç›®å½•ä¸­ã€‚ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œ<code>make:migration</code> å‘½ä»¤å·²ç»å¢åŠ äº†è‡ªåŠ¨é€’å¢çš„ ID åŠæ—¶é—´æˆ³è‡³è¿ç§»æ–‡ä»¶ã€‚è®©æˆ‘ä»¬ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶å¹¶ä¸ºä»»åŠ¡çš„åç§°å¢åŠ é¢å¤–çš„ <code>string</code> å­—æ®µï¼Œä¹Ÿå¢åŠ è¿æ¥ <code>tasks</code> ä¸ <code>users</code> æ•°æ®è¡¨çš„ <code>user_id</code> å­—æ®µï¼š</p>
<pre><code>&lt;?php

use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;

class CreateTasksTable extends Migration
{
    /**
     * è¿è¡Œè¿ç§»ã€‚
     *
     * @return void
     */
    public function up()
    {
        Schema::create('tasks', function (Blueprint $table) {
            $table-&gt;increments('id');
            $table-&gt;integer('user_id')-&gt;index();
            $table-&gt;string('name');
            $table-&gt;timestamps();
        });
    }

    /**
     * è¿˜åŸè¿ç§»ã€‚
     *
     * @return void
     */
    public function down()
    {
        Schema::drop('tasks');
    }
}</code></pre>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>migrate</code> Artisan å‘½ä»¤æ¥è¿è¡Œè¿ç§»ã€‚å¦‚æœä½ ä½¿ç”¨äº† Homesteadï¼Œåˆ™å¿…é¡»åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œå› ä¸ºä½ çš„ä¸»æœºæ— æ³•ç›´æ¥è®¿é—®æ•°æ®åº“ï¼š</p>
<pre><code>php artisan migrate</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šåˆ›å»ºæˆ‘ä»¬æ‰€æœ‰çš„æ•°æ®è¡¨ã€‚å¦‚æœä½ ä½¿ç”¨æ•°æ®åº“å®¢æˆ·ç«¯æ£€æŸ¥æ•°æ®è¡¨ï¼Œé‚£ä¹ˆä½ åº”è¯¥çœ‹åˆ°æ–°çš„ <code>tasks</code> ä¸ <code>users</code> æ•°æ®è¡¨ï¼Œå…¶ä¸­åŒ…å«äº†æˆ‘ä»¬è¿ç§»ä¸­æ‰€å®šä¹‰çš„å­—æ®µã€‚æ¥ç€ï¼Œæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½å®šä¹‰æˆ‘ä»¬çš„ Eloquent ORM æ¨¡å‹ï¼</p>
<p><a name="eloquent-models"></a></p>
<h3>Eloquent æ¨¡å‹</h3>
<p><a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">Eloquent</a> æ˜¯ Laravel é»˜è®¤çš„ ORMï¼ˆå¯¹è±¡å…³è”æ˜ å°„ï¼‰ã€‚Eloqunet é€šè¿‡æ˜ç¡®çš„å®šä¹‰ã€Œæ¨¡å‹ã€ï¼Œè®©ä½ å¯ä»¥è½»æ¾çš„åœ¨æ•°æ®åº“è·å–åŠä¿å­˜æ•°æ®ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸ª Eloqunet æ¨¡å‹ä¼šç›´æ¥å¯¹åº”ä¸€å¼ æ•°æ®è¡¨ã€‚</p>
<h4><code>User</code> æ¨¡å‹</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¯¹åº” <code>users</code> æ•°æ®è¡¨çš„æ¨¡å‹ã€‚ä¸è¿‡ï¼Œå¦‚æœä½ çœ‹è¿‡é¡¹ç›®çš„ <code>app</code> ç›®å½•ï¼Œä½ ä¼šå‘ç° Laravel å·²ç»é™„å¸¦äº†ä¸€ä¸ª <code>User</code> æ¨¡å‹ï¼Œæ‰€ä»¥æ²¡å¿…è¦å»æ‰‹åŠ¨ç”Ÿæˆã€‚</p>
<h4><code>Task</code> æ¨¡å‹</h4>
<p>è®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå¯¹åº”è‡³ <code>tasks</code> æ•°æ®è¡¨çš„ <code>Task</code> æ¨¡å‹ã€‚åŒæ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Artisan å‘½ä»¤æ¥ç”Ÿæˆæ­¤æ¨¡å‹ã€‚åœ¨æ­¤ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ <code>make:model</code> å‘½ä»¤ï¼š</p>
<pre><code>php artisan make:model Task</code></pre>
<p>è¿™ä¸ªæ¨¡å‹ä¼šæ”¾ç½®åˆ°ä½ åº”ç”¨ç¨‹åºçš„ <code>app</code> ç›®å½•ä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹æ­¤æ¨¡å‹ç±»å°†æ˜¯ç©ºçš„ã€‚æˆ‘ä»¬ä¸å¿…æ˜ç¡®å‘ŠçŸ¥ Eloquent æ¨¡å‹è¦å¯¹åº”å“ªå¼ æ•°æ®è¡¨ï¼Œå› ä¸ºå®ƒä¼šå‡è®¾æ•°æ®è¡¨æ˜¯æ¨¡å‹åç§°çš„å¤æ•°å‹æ€ã€‚æ‰€ä»¥ï¼Œåœ¨æ­¤ä¾‹ä¸­ï¼Œ<code>Task</code> æ¨¡å‹ä¼šå‡è®¾å¯¹åº”è‡³ <code>tasks</code> æ•°æ®è¡¨ã€‚</p>
<p>è®©æˆ‘ä»¬å¢åŠ ä¸€äº›ä¸œè¥¿åˆ°æ¨¡å‹ä¸Šã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å£°æ˜æ¨¡å‹çš„ <code>name</code> å±æ€§åº”è¯¥èƒ½è¢«ã€Œæ‰¹é‡èµ‹å€¼ã€ï¼š</p>
<pre><code>&lt;?php

namespace App;

use Illuminate\Database\Eloquent\Model;

class Task extends Model
{
    /**
     * è¿™äº›å±æ€§èƒ½è¢«æ‰¹é‡èµ‹å€¼ã€‚
     *
     * @var array
     */
    protected $fillable = ['name'];
}</code></pre>
<p>åœ¨ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¢åŠ è·¯ç”±æ—¶ï¼Œæˆ‘ä»¬ä¼šå­¦ä¹ æ›´å¤šå…³äºå¦‚ä½•ä½¿ç”¨ Eloquent æ¨¡å‹çš„çŸ¥è¯†ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥éšæ„å‚è€ƒ<a href="eloquent.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent">å®Œæ•´çš„ Eloquent æ–‡æ¡£</a>æ¥è·å–æ›´å¤šä¿¡æ¯ã€‚</p>
<p><a name="eloquent-relationships"></a></p>
<h3>Eloquent å…³è”</h3>
<p>ç°åœ¨æˆ‘ä»¬çš„æ¨¡å‹å·²ç»å®šä¹‰å¥½äº†ï¼Œè¿™æ—¶å€™éœ€è¦å°†ä»–ä»¬é“¾æ¥åœ¨ä¸€èµ·ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬çš„ <code>User</code> å¯ä»¥æ‹¥æœ‰å¤šä¸ª <code>Task</code> å®ä¾‹ï¼Œè€Œä¸€æ¡ <code>Task</code> åˆ™åªèƒ½è¢«èµ‹ç»™ä¸€å <code>User</code>ã€‚å®šä¹‰å¥½å…³è”å¯ä»¥è®©æˆ‘ä»¬å¾ˆè½»æ¾çš„æ•´ç†å®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<pre><code>$user = App\User::find(1);

foreach ($user-&gt;tasks as $task) {
    echo $task-&gt;name;
}</code></pre>
<h4><code>tasks</code> å…³è”</h4>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬åœ¨ <code>User</code> æ¨¡å‹å®šä¹‰ <code>tasks</code> çš„å…³è”ã€‚Eloquent å…³è”è¢«å®šä¹‰ä¸ºæ¨¡å‹ä¸­çš„æ–¹æ³•ã€‚Eloquent æ”¯æŒå¤šç§ä¸åŒç±»å‹çš„å…³è”ï¼Œæ‰€ä»¥è¯·åŠ¡å¿…æŸ¥é˜…<a href="eloquent-relationships.htm" tppabs="http://laravel-china.org/docs/5.1/eloquent-relationships">å®Œæ•´çš„ Eloquent æ–‡æ¡£</a>ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¼šåœ¨ <code>User</code> æ¨¡å‹ä¸­å®šä¹‰ä¸€ä¸ª <code>tasks</code> å‡½æ•°ï¼Œå¹¶è°ƒç”¨ Eloquent æä¾›çš„ <code>hasMany</code> æ–¹æ³•ï¼š</p>
<pre><code>&lt;?php

namespace App;

// å¯¼å…¥çš„å‘½åç©ºé—´...

class User extends Model implements AuthenticatableContract,
                                    AuthorizableContract,
                                    CanResetPasswordContract
{
    use Authenticatable, Authorizable, CanResetPassword;

    // å…¶å®ƒçš„ Eloquent å±æ€§...

    /**
     * è·å–è¯¥ç”¨æˆ·çš„æ‰€æœ‰ä»»åŠ¡ã€‚
     */
    public function tasks()
    {
        return $this-&gt;hasMany(Task::class);
    }
}</code></pre>
<h4><code>user</code> å…³è”</h4>
<p>æ¥ç€ï¼Œè®©æˆ‘ä»¬åœ¨ <code>Task</code> æ¨¡å‹å®šä¹‰ <code>user</code> å…³è”ã€‚åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¼šå°†æ­¤å…³è”å®šä¹‰ä¸ºæ¨¡å‹ä¸­çš„æ–¹æ³•ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ Eloquent æä¾›çš„ <code>belongsTo</code> æ–¹æ³•æ¥å®šä¹‰å…³è”ï¼š</p>
<pre><code>&lt;?php

namespace App;

use App\User;
use Illuminate\Database\Eloquent\Model;

class Task extends Model
{
    /**
     * è¿™äº›å±æ€§èƒ½è¢«æ‰¹é‡èµ‹å€¼ã€‚
     *
     * @var array
     */
    protected $fillable = ['name'];

    /**
     * è·å–æ‹¥æœ‰æ­¤ä»»åŠ¡çš„ç”¨æˆ·ã€‚
     */
    public function user()
    {
        return $this-&gt;belongsTo(User::class);
    }
}</code></pre>
<p>å¤ªæ£’äº†ï¼ç°åœ¨æˆ‘ä»¬çš„å…³è”å·²ç»å®šä¹‰å¥½äº†ï¼Œå¯ä»¥å¼€å§‹æ„å»ºæˆ‘ä»¬çš„æ§åˆ¶å™¨å•¦ï¼</p>
<p><a name="routing"></a></p>
<h2>è·¯ç”±</h2>
<p>åœ¨æˆ‘ä»¬ä»»åŠ¡æ¸…å•åº”ç”¨ç¨‹åºçš„<a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åŸºæœ¬ç‰ˆæœ¬</a>ä¸­ï¼Œæˆ‘ä»¬åœ¨ <code>routes.php</code> ä¸­å°†æ‰€æœ‰é€»è¾‘éƒ½å®šä¹‰ä¸ºé—­åŒ…ã€‚å¯¹äºå¤§å¤šæ•°çš„åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨<a href="controllers.htm" tppabs="http://laravel-china.org/docs/5.1/controllers">æ§åˆ¶å™¨</a>æ¥ç»„ç»‡è·¯ç”±ã€‚æ§åˆ¶å™¨è®©æˆ‘ä»¬å°† HTTP è¯·æ±‚å¤„ç†é€»è¾‘åˆ†æ•£è‡³å¤šä¸ªæ–‡ä»¶ä»¥ä¾¿è¿›è¡Œæ›´å¥½çš„ç»„ç»‡ã€‚</p>
<p><a name="displaying-a-view"></a></p>
<h3>æ˜¾ç¤ºè§†å›¾</h3>
<p>æˆ‘ä»¬åªä¼šæœ‰ä¸€ä¸ªä½¿ç”¨é—­åŒ…çš„<code>/</code> è·¯ç”±ï¼Œå®ƒæ˜¯ç»™åº”ç”¨ç¨‹åºè®¿å®¢çš„ä¸€ä¸ªç®€å•èµ·å§‹é¡µé¢ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬å…ˆå¡«å†™ <code>/</code> è·¯ç”±ã€‚å¯¹äºæ­¤è·¯ç”±ï¼Œæˆ‘ä»¬æƒ³æ¸²æŸ“ä¸€ä¸ªåŒ…å«ã€Œæ¬¢è¿ã€é¡µé¢çš„ HTML æ¨¡æ¿ï¼š</p>
<p>åœ¨ Laravel é‡Œï¼Œæ‰€æœ‰çš„ HTML æ¨¡ç‰ˆéƒ½ä¿å­˜åœ¨ <code>resources/views</code> ç›®å½•ï¼Œä¸”æˆ‘ä»¬å¯ä»¥åœ¨è·¯ç”±ä¸­ä½¿ç”¨ <code>view</code> è¾…åŠ©å‡½æ•°æ¥è¿”å›è¿™äº›æ¨¡ç‰ˆçš„å…¶ä¸­ä¸€ä¸ªï¼š</p>
<pre><code>Route::get('/', function () {
    return view('welcome');
});</code></pre>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¿…é¡»æ˜ç¡®å®šä¹‰å¥½è¿™äº›è§†å›¾ã€‚è¿™ä¸ªå°†åœ¨ç¨åå®Œæˆï¼</p>
<p><a name="authentication-routing"></a></p>
<h3>è®¤è¯</h3>
<p>æˆ‘ä»¬éœ€è¦è®©ç”¨æˆ·åˆ›å»ºå¹¶ç™»å½•å¸å·è‡³æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸ºç½‘é¡µåº”ç”¨ç¨‹åºæ„å»ºå®Œæ•´çš„è®¤è¯æ˜¯ç›¸å½“ä¹å‘³çš„å·¥ä½œã€‚ä¸è¿‡ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªé€šç”¨çš„éœ€æ±‚ï¼Œæ‰€ä»¥ Laravel åœ¨è¯•ç€è®©è¿™ä¸ªè¿‡ç¨‹å˜å¾—æ›´è½»æ¾ä¾¿æ·ã€‚</p>
<p>é¦–å…ˆï¼Œä½ ä¼šæ³¨æ„åˆ°åœ¨åº”ç”¨ç¨‹åºä¸­å·²ç»åŒ…å«ä¸€ä¸ª <code>app/Http/Controllers/Auth/AuthController</code>ã€‚è¿™ä¸ªæ§åˆ¶å™¨ä½¿ç”¨äº†ç‰¹åˆ«çš„ <code>AuthenticatesAndRegistersUsers</code> traitï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰åˆ›å»ºåŠè®¤è¯ç”¨æˆ·çš„å¿…è¦é€»è¾‘ã€‚</p>
<h4>è®¤è¯è·¯ç”±</h4>
<p>æ‰€ä»¥ï¼Œè¿˜æœ‰å“ªäº›éƒ¨åˆ†æ˜¯ç•™ç»™æˆ‘ä»¬åšçš„ï¼Ÿæˆ‘ä»¬ä¾ç„¶éœ€è¦åˆ›å»ºæ³¨å†ŒåŠç™»å½•æ¨¡æ¿ï¼Œå¹¶å®šä¹‰æŒ‡å‘è®¤è¯æ§åˆ¶å™¨çš„è·¯ç”±ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬åœ¨ <code>app/Http/routes.php</code> æ–‡ä»¶ä¸­å¢åŠ éœ€è¦çš„è·¯ç”±ï¼š</p>
<pre><code>// è®¤è¯è·¯ç”±...
Route::get('auth/login', 'Auth\AuthController@getLogin');
Route::post('auth/login', 'Auth\AuthController@postLogin');
Route::get('auth/logout', 'Auth\AuthController@getLogout');

// æ³¨å†Œè·¯ç”±...
Route::get('auth/register', 'Auth\AuthController@getRegister');
Route::post('auth/register', 'Auth\AuthController@postRegister');</code></pre>
<h4>è®¤è¯è§†å›¾</h4>
<p>è®¤è¯éœ€è¦åœ¨ <code>resources/views/auth</code> ç›®å½•ä¸­åˆ›å»º <code>login.blade.php</code> ä¸ <code>register.blade.php</code>ã€‚å½“ç„¶ï¼Œè¿™äº›è§†å›¾çš„è®¾è®¡åŠæ ·å¼å¹¶ä¸é‡è¦ï¼›ä¸è¿‡ï¼Œå®ƒä»¬è‡³å°‘å¾—åŒ…å«ä¸€äº›åŸºæœ¬çš„å­—æ®µã€‚</p>
<p><code>register.blade.php</code> æ–‡ä»¶å¿…éœ€æœ‰ä¸€ä¸ªåŒ…å« <code>name</code>ã€<code>email</code>ã€<code>password</code> ä¸ <code>password_confirmation</code> å­—æ®µçš„è¡¨å•ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåˆ° <code>/auth/register</code> è·¯ç”±ä¸Šçš„ <code>POST</code> è¯·æ±‚ã€‚</p>
<p><code>login.blade.php</code> æ–‡ä»¶å¿…éœ€æœ‰ä¸€ä¸ªåŒ…å« <code>email</code> ä¸ <code>password</code> å­—æ®µçš„è¡¨å•ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåˆ° <code>/auth/login</code> ä¸Šçš„ <code>POST</code> è¯·æ±‚ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å¦‚æœä½ æƒ³æŸ¥çœ‹è¿™äº›è§†å›¾çš„å®Œæ•´ä¾‹å­ï¼Œå¯ä»¥åœ¨ <a href="javascript:if(confirm('https://github.com/laravel/quickstart-intermediate  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://github.com/laravel/quickstart-intermediate'" tppabs="https://github.com/laravel/quickstart-intermediate">GitHub ä¸Šè·å–</a>å®Œæ•´çš„æºä»£ç ã€‚</p>
</blockquote>
<p><a name="the-task-controller"></a></p>
<h3>ä»»åŠ¡æ§åˆ¶å™¨</h3>
<p>å› ä¸ºæˆ‘ä»¬å·²ç»çŸ¥é“ä»»åŠ¡éœ€è¦å¯è¢«è·å–åŠä¿å­˜ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ä½¿ç”¨ Artisan å‘½ä»¤è¡Œæ¥å£åˆ›å»ºä¸€ä¸ª <code>TaskController</code>ï¼Œè¿™ä¸ªæ–°çš„æ§åˆ¶å™¨ä¼šæ”¾ç½®åœ¨ <code>app/Http/Controllers</code> ç›®å½•ä¸­ï¼š</p>
<pre><code>php artisan make:controller TaskController --plain</code></pre>
<p>ç°åœ¨è¿™ä¸ªæ§åˆ¶å™¨å·²ç»è¢«ç”Ÿæˆï¼Œè®©æˆ‘ä»¬ç»§ç»­åœ¨ <code>app/Http/routes.php</code> æ–‡ä»¶ä¸­æ„å»ºä¸€äº›å¯¹åº”è‡³æ­¤æ§åˆ¶å™¨çš„è·¯ç”±ï¼š</p>
<pre><code>Route::get('/tasks', 'TaskController@index');
Route::post('/task', 'TaskController@store');
Route::delete('/task/{task}', 'TaskController@destroy');</code></pre>
<h4>è®¤è¯æ‰€æœ‰çš„ä»»åŠ¡è·¯ç”±</h4>
<p>å¯¹äºæ­¤åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¸Œæœ›æ‰€æœ‰çš„ä»»åŠ¡è·¯ç”±éƒ½éœ€è¦ä¸€ä¸ªè®¤è¯çš„ç”¨æˆ·ã€‚æ¢å¥è¯è¯´ï¼Œç”¨æˆ·ä¸ºäº†åˆ›å»ºä»»åŠ¡å¿…é¡»ã€Œç™»å½•è‡³ã€åº”ç”¨ç¨‹åºä¸­ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä»»åŠ¡è·¯ç”±è¿›è¡Œé™åˆ¶è®©å…¶ä»…é™å·²è®¤è¯çš„ç”¨æˆ·è®¿é—®ã€‚Laravel ä½¿ç”¨<a href="middleware.htm" tppabs="http://laravel-china.org/docs/5.1/middleware">ä¸­é—´ä»¶</a>è®©è¿™ä»¶äº‹å˜å¾—ç›¸å½“å®¹æ˜“ã€‚</p>
<p>è¦è®©æ‰€æœ‰æ§åˆ¶å™¨ä¸­çš„è¡Œä¸ºè¦æ±‚å·²è®¤è¯çš„ç”¨æˆ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å™¨çš„æ„é€ å™¨ä¸­å¢åŠ  <code>middleware</code> æ–¹æ³•çš„è°ƒç”¨ã€‚æ‰€ä»¥å¯ç”¨çš„è·¯ç”±ä¸­é—´ä»¶éƒ½è¢«å®šä¹‰åœ¨ <code>app/Http/Kernel.php</code> æ–‡ä»¶ä¸­ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ºæ‰€æœ‰æ§åˆ¶å™¨çš„åŠ¨ä½œæŒ‡æ´¾ <code>auth</code> ä¸­é—´ä»¶ï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use App\Http\Requests;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;

class TaskController extends Controller
{
    /**
     * åˆ›å»ºä¸€ä¸ªæ–°çš„æ§åˆ¶å™¨å®ä¾‹ã€‚
     *
     * @return void
     */
    public function __construct()
    {
        $this-&gt;middleware('auth');
    }
}</code></pre>
<p><a name="building-layouts-and-views"></a></p>
<h2>æ„å»ºå¸ƒå±€ä¸è§†å›¾</h2>
<p>è¿™ä¸ªåº”ç”¨ç¨‹åºåªä¼šæœ‰ä¸€å¼ è§†å›¾ï¼ŒåŒ…å«æ·»åŠ ä»»åŠ¡çš„è¡¨å•ï¼ŒåŠç›®å‰æ‰€æœ‰ä»»åŠ¡çš„æ¸…å•ã€‚ä¸ºäº†å¸®åŠ©ä½ æƒ³åƒæ­¤è§†å›¾çš„ç”»é¢ï¼Œä¸‹æ–¹æ˜¯å®Œæˆååº”ç”¨ç¨‹åºçš„æˆªå±ï¼Œé‡‡ç”¨äº†åŸºæœ¬çš„ Bootstrap CSS æ ·å¼ï¼š</p>
<p><img src="basic-overview.png" tppabs="https://laravel.tw/assets/img/quickstart/basic-overview.png" alt="åº”ç”¨ç¨‹åºå›¾ç‰‡" /></p>
<p><a name="defining-the-layout"></a></p>
<h3>å®šä¹‰å¸ƒå±€</h3>
<p>å‡ ä¹æ‰€æœ‰çš„ç½‘é¡µåº”ç”¨ç¨‹åºéƒ½ä¼šåœ¨ä¸åŒé¡µé¢ä¸­å…±ç”¨ç›¸åŒçš„å¸ƒå±€ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåº”ç”¨ç¨‹åºé€šå¸¸åœ¨æ¯ä¸ªé¡µé¢ï¼ˆå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªä»¥ä¸Šé¡µé¢ï¼‰çš„é¡¶éƒ¨éƒ½æ‹¥æœ‰å¯¼èˆªæ ã€‚Laravel ä½¿ç”¨äº† Blade <strong>å¸ƒå±€</strong>æ¥è®©ä¸åŒé¡µé¢å…±ç”¨è¿™äº›ç›¸åŒçš„åŠŸèƒ½ã€‚</p>
<p>å¦‚åŒæˆ‘ä»¬å‰é¢è®¨è®ºçš„é‚£æ ·ï¼ŒLaravel æ‰€æœ‰çš„è§†å›¾éƒ½è¢«ä¿å­˜åœ¨ <code>resources/views</code>ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªæ–°çš„å¸ƒå±€è§†å›¾è‡³ <code>resources/views/layouts/app.blade.php</code> ä¸­ã€‚<code>.blade.php</code> æ‰©å±•åä¼šå‘ŠçŸ¥æ¡†æ¶ä½¿ç”¨ <a href="blade.htm" tppabs="http://laravel-china.org/docs/5.1/blade">Blade æ¨¡æ¿å¼•æ“</a>æ¸²æŸ“æ­¤è§†å›¾ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥åœ¨ Laravel ä½¿ç”¨çº¯ PHP çš„æ¨¡ç‰ˆã€‚ä¸è¿‡ï¼ŒBlade æä¾›äº†æ›´æ–¹ä¾¿çš„æ·å¾„æ¥ç¼–å†™å¹²å‡€ã€ç®€æ´çš„æ¨¡æ¿ã€‚</p>
<p>æˆ‘ä»¬çš„ <code>app.blade.php</code> è§†å›¾çœ‹èµ·æ¥åº”è¯¥å¦‚ä¸‹é¢è¿™æ ·ï¼š</p>
<pre><code>// resources/views/layouts/app.blade.php

&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;title&gt;Laravel å¿«é€Ÿå…¥é—¨ - é«˜çº§&lt;/title&gt;

        &lt;!-- CSS åŠ JavaScript --&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;div class="container"&gt;
            &lt;nav class="navbar navbar-default"&gt;
                &lt;!-- Navbar å†…å®¹ --&gt;
            &lt;/nav&gt;
        &lt;/div&gt;

        @yield('content')
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>æ³¨æ„å¸ƒå±€ä¸­çš„ <code>@yield('content')</code> éƒ¨åˆ†ã€‚è¿™æ˜¯ç‰¹æ®Šçš„ Blade å‘½ä»¤ï¼Œè®©å­é¡µé¢å¯ä»¥åœ¨æ­¤å¤„æ³¨å…¥è‡ªå·±çš„å†…å®¹ä»¥æ‰©å±•å¸ƒå±€ã€‚æ¥ç€ï¼Œè®©æˆ‘ä»¬å®šä¹‰å°†ä¼šä½¿ç”¨æ­¤å¸ƒå±€å¹¶æä¾›ä¸»è¦å†…å®¹çš„å­è§†å›¾ã€‚</p>
<p><a name="defining-the-child-view"></a></p>
<h3>å®šä¹‰å­è§†å›¾</h3>
<p>å¾ˆå¥½ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¸ƒå±€å·²ç»å®Œæˆã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰åŒ…å«åˆ›å»ºä»»åŠ¡çš„è¡¨å•åŠåˆ—å‡ºå·²æœ‰ä»»åŠ¡æ•°æ®åº“è¡¨çš„è§†å›¾ã€‚è®©æˆ‘ä»¬å°†æ­¤è§†å›¾å®šä¹‰åœ¨ <code>resources/views/tasks/index.blade.php</code>ï¼Œå®ƒä¼šå¯¹åº”è‡³æˆ‘ä»¬ <code>TaskController</code> çš„ <code>index</code> æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬ä¼šè·³è¿‡ä¸€äº› Bootstrap CSS æ¨¡ç‰ˆï¼Œåªä¸“æ³¨åœ¨é‡è¦çš„äº‹ç‰©ä¸Šã€‚ä½ å¯ä»¥åœ¨ <a href="javascript:if(confirm('https://github.com/laravel/quickstart-intermediate  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://github.com/laravel/quickstart-intermediate'" tppabs="https://github.com/laravel/quickstart-intermediate">GitHub</a> ä¸‹è½½åˆ°åº”ç”¨ç¨‹åºçš„å®Œæ•´æºä»£ç ï¼š</p>
<pre><code>// resources/views/tasks/index.blade.php

@extends('layouts.app')

@section('content')

    &lt;!-- Bootstrap æ¨¡ç‰ˆ... --&gt;

    &lt;div class="panel-body"&gt;
        &lt;!-- æ˜¾ç¤ºéªŒè¯é”™è¯¯ --&gt;
        @include('common.errors')

        &lt;!-- æ–°ä»»åŠ¡çš„è¡¨å• --&gt;
        &lt;form action="/task" method="POST" class="form-horizontal"&gt;
            {{ csrf_field() }}

            &lt;!-- ä»»åŠ¡åç§° --&gt;
            &lt;div class="form-group"&gt;
                &lt;label for="task-name" class="col-sm-3 control-label"&gt;ä»»åŠ¡&lt;/label&gt;

                &lt;div class="col-sm-6"&gt;
                    &lt;input type="text" name="name" id="task-name" class="form-control"&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- å¢åŠ ä»»åŠ¡æŒ‰é’®--&gt;
            &lt;div class="form-group"&gt;
                &lt;div class="col-sm-offset-3 col-sm-6"&gt;
                    &lt;button type="submit" class="btn btn-default"&gt;
                        &lt;i class="fa fa-plus"&gt;&lt;/i&gt; å¢åŠ ä»»åŠ¡
                    &lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/form&gt;
    &lt;/div&gt;

    &lt;!-- å¾…åŠï¼šç›®å‰ä»»åŠ¡ --&gt;
@endsection</code></pre>
<h4>ä¸€äº›æ³¨æ„äº‹é¡¹çš„è¯´æ˜</h4>
<p>åœ¨ç»§ç»­å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥è°ˆè°ˆæœ‰å…³æ¨¡æ¿çš„ä¸€äº›æ³¨æ„äº‹é¡¹ã€‚é¦–å…ˆ <code>@extends</code> å‘½ä»¤ä¼šå‘ŠçŸ¥ Bladeï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å®šä¹‰äº <code>resources/views/layouts/app.blade.php</code> çš„å¸ƒå±€ã€‚æ‰€æœ‰åœ¨ <code>@section('content')</code> åŠ <code>@endsection</code> ä¹‹é—´çš„å†…å®¹éƒ½ä¼šè¢«æ³¨å…¥åˆ° <code>app.blade.php</code> å¸ƒå±€ä¸­çš„ <code>@yield('content')</code> ä½ç½®é‡Œã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå®šä¹‰äº†åŸºæœ¬çš„å¸ƒå±€åŠè§†å›¾ã€‚æ¥ç€è®©æˆ‘ä»¬åœ¨ <code>TaskController</code> çš„ <code>index</code> æ–¹æ³•è¿”å›æ­¤è§†å›¾ï¼š</p>
<pre><code>/**
 * æ˜¾ç¤ºç”¨æˆ·æ‰€æœ‰ä»»åŠ¡çš„æ¸…å•ã€‚
 *
 * @param  Request  $request
 * @return Response
 */
public function index(Request $request)
{
    return view('tasks.index');
}</code></pre>
<p>æ¥ç€ï¼Œæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½å¢åŠ ä»£ç è‡³æˆ‘ä»¬çš„ <code>POST /task</code> è·¯ç”±çš„æ§åˆ¶å™¨æ–¹æ³•å†…ï¼Œä»¥å¤„ç†æ¥æ”¶åˆ°çš„è¡¨å•è¾“å…¥å¹¶å¢åŠ æ–°çš„ä»»åŠ¡è‡³æ•°æ®åº“ä¸­ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong><code>@include('common.errors')</code> å‘½ä»¤ä¼šåŠ è½½ä½äº <code>resources/views/common/errors.blade.php</code> çš„æ¨¡æ¿ã€‚æˆ‘ä»¬å°šæœªå®šä¹‰æ­¤æ¨¡æ¿ï¼Œä½†æ˜¯æˆ‘ä»¬å°†ä¼šåœ¨åé¢å®šä¹‰å®ƒï¼</p>
</blockquote>
<p><a name="adding-tasks"></a></p>
<h2>å¢åŠ ä»»åŠ¡</h2>
<p><a name="validation"></a></p>
<h3>éªŒè¯</h3>
<p>ç°åœ¨æˆ‘ä»¬è§†å›¾ä¸­å·²ç»æœ‰ä¸€ä¸ªè¡¨å•ï¼Œæˆ‘ä»¬éœ€è¦å¢åŠ ä»£ç è‡³æˆ‘ä»¬çš„ <code>TaskController@store</code> æ–¹æ³•æ¥éªŒè¯æ¥æ”¶åˆ°çš„è¡¨å•è¾“å…¥å¹¶åˆ›å»ºæ–°çš„ä»»åŠ¡ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬å…ˆæ¥éªŒè¯è¡¨å•è¾“å…¥ã€‚</p>
<p>å¯¹æ­¤è¡¨å•æ¥è¯´ï¼Œæˆ‘ä»¬è¦è®© <code>name</code> å­—æ®µä¸ºå¿…å¡«ï¼Œä¸”å®ƒå¿…é¡»å°‘äº <code>255</code> å­—ç¬¦ã€‚å¦‚æœéªŒè¯å¤±è´¥ï¼Œæˆ‘ä»¬ä¼šå°†ç”¨æˆ·é‡å®šå‘å› <code>/</code> URLï¼Œå¹¶å°†æ—§çš„è¾“å…¥åŠé”™è¯¯æ¶ˆæ¯é—ªå­˜è‡³ <a href="session.htm" tppabs="http://laravel-china.org/docs/5.1/session">session</a> ä¸­ï¼š</p>
<pre><code>/**
 * åˆ›å»ºæ–°çš„ä»»åŠ¡ã€‚
 *
 * @param  Request  $request
 * @return Response
 */
public function store(Request $request)
{
    $this-&gt;validate($request, [
        'name' =&gt; 'required|max:255',
    ]);

    // åˆ›å»ºè¯¥ä»»åŠ¡...
}</code></pre>
<p>å¦‚æœä½ çœ‹è¿‡<a href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart">åŸºæœ¬å¿«é€Ÿå…¥é—¨æŒ‡å—</a>ï¼Œä½ ä¼šæ³¨æ„åˆ°éªŒè¯çš„ä»£ç ç›¸æ¯”èµ·æ¥æœ‰äº›ä¸åŒï¼è¿™æ˜¯å› ä¸ºåœ¨æ§åˆ¶å™¨å†…å¯ä»¥ä½¿ç”¨ Laravel åŸºåº•æ§åˆ¶å™¨æ‰€åŒ…å«çš„ <code>ValidatesRequests</code> traitã€‚è¿™ä¸ª trait æä¾›äº†ä¸€ä¸ªç®€å•çš„ <code>validate</code> æ–¹æ³•ï¼Œæ­¤æ–¹æ³•å¯æ¥æ”¶ä¸€ä¸ªè¯·æ±‚å’ŒåŒ…å«éªŒè¯è§„åˆ™çš„æ•°ç»„ã€‚</p>
<p>å½“éªŒè¯å¤±è´¥æ—¶æˆ‘ä»¬æ— éœ€å†æ‰‹åŠ¨é‡å®šå‘ã€‚å¦‚æœæŒ‡å®šçš„è§„åˆ™éªŒè¯å¤±è´¥ï¼Œç”¨æˆ·ä¼šè‡ªåŠ¨è¢«é‡å®šå‘å›åŸæœ¬çš„ä½ç½®ï¼Œå¹¶è‡ªåŠ¨å°†é”™è¯¯æ¶ˆæ¯é—ªå­˜è‡³ session ä¸­ã€‚</p>
<h4><code>$errors</code> å˜é‡</h4>
<p>æˆ‘ä»¬åœ¨è§†å›¾ä¸­ä½¿ç”¨äº† <code>@include('common.errors')</code> å‘½ä»¤æ¥æ¸²æŸ“è¡¨å•çš„é”™è¯¯éªŒè¯æ¶ˆæ¯ã€‚<code>common.errors</code> è®©æˆ‘ä»¬å¯ä»¥ç®€å•çš„åœ¨æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¾ç¤ºç›¸åŒæ ¼å¼çš„é”™è¯¯éªŒè¯æ¶ˆæ¯ã€‚ç°åœ¨è®©æˆ‘ä»¬å®šä¹‰æ­¤è§†å›¾çš„å†…å®¹ï¼š</p>
<pre><code>// resources/views/common/errors.blade.php

@if (count($errors) &gt; 0)
    &lt;!-- è¡¨å•é”™è¯¯æ¸…å• --&gt;
    &lt;div class="alert alert-danger"&gt;
        &lt;strong&gt;å“å‘€ï¼å‡ºäº†äº›é—®é¢˜ï¼&lt;/strong&gt;

        &lt;br&gt;&lt;br&gt;

        &lt;ul&gt;
            @foreach ($errors-&gt;all() as $error)
                &lt;li&gt;{{ $error }}&lt;/li&gt;
            @endforeach
        &lt;/ul&gt;
    &lt;/div&gt;
@endif</code></pre>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong><code>errors</code> å˜é‡å¯ç”¨äº<strong>æ¯ä¸ª</strong> Laravel çš„è§†å›¾ä¸­ã€‚å¦‚æœæ²¡æœ‰é”™è¯¯éªŒè¯æ¶ˆæ¯å­˜åœ¨ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šæ˜¯ä¸€ä¸ªç©ºçš„ <code>ViewErrorBag</code> å®ä¾‹ã€‚</p>
</blockquote>
<p><a name="creating-the-task"></a></p>
<h3>åˆ›å»ºä»»åŠ¡</h3>
<p>ç°åœ¨è¾“å…¥å·²ç»è¢«éªŒè¯å¤„ç†å®Œæ¯•ã€‚è®©æˆ‘ä»¬ç»§ç»­å¡«å†™æˆ‘ä»¬çš„è·¯ç”±æ¥å®é™…çš„åˆ›å»ºä¸€æ¡æ–°çš„ä»»åŠ¡ã€‚ä¸€æ—¦æ–°çš„ä»»åŠ¡è¢«åˆ›å»ºï¼Œæˆ‘ä»¬ä¾¿ä¼šå°†ç”¨æˆ·é‡å®šå‘å› <code>/tasks</code> URLã€‚æˆ‘ä»¬ä¼šå……åˆ†çš„åˆ©ç”¨ Eloquent çš„å…³è”åŠŸèƒ½æ¥åˆ›å»ºè¯¥ä»»åŠ¡ã€‚</p>
<p>Laravel å¤§éƒ¨åˆ†çš„å…³è”æä¾›äº†ä¸€ä¸ª <code>create</code> æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªåŒ…å«å±æ€§çš„æ•°ç»„ï¼Œå¹¶ä¼šåœ¨ä¿å­˜è‡³æ•°æ®åº“å‰è‡ªåŠ¨è®¾ç½®å…³è”æ¨¡å‹çš„å¤–é”®å€¼ã€‚åœ¨æ­¤ä¾‹ä¸­ï¼Œ<code>create</code> æ–¹æ³•ä¼šè‡ªåŠ¨å°†æŒ‡å®šä»»åŠ¡çš„ <code>user_id</code> å±æ€§è®¾ç½®ä¸ºç›®å‰å·²éªŒè¯ç”¨æˆ·çš„ IDï¼Œå› ä¸ºæˆ‘ä»¬é€šè¿‡ <code>$request-&gt;user()</code> è®¿é—®ã€‚</p>
<pre><code>/**
 * åˆ›å»ºæ–°çš„ä»»åŠ¡ã€‚
 *
 * @param  Request  $request
 * @return Response
 */
public function store(Request $request)
{
    $this-&gt;validate($request, [
        'name' =&gt; 'required|max:255',
    ]);

    $request-&gt;user()-&gt;tasks()-&gt;create([
        'name' =&gt; $request-&gt;name,
    ]);

    return redirect('/tasks');
}</code></pre>
<p>å¤ªæ£’äº†ï¼ç°åœ¨å¯ä»¥æˆåŠŸçš„åˆ›å»ºä»»åŠ¡äº†ã€‚æ¥ç€ï¼Œè®©æˆ‘ä»¬ç»§ç»­æ„å»ºå·²æœ‰çš„ä»»åŠ¡æ¸…å•ï¼Œå¹¶å¢åŠ è‡³æˆ‘ä»¬çš„è§†å›¾ä¸­ã€‚</p>
<p><a name="displaying-existing-tasks"></a></p>
<h3>æ˜¾ç¤ºå·²æœ‰çš„ä»»åŠ¡</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç¼–è¾‘æˆ‘ä»¬çš„ <code>TaskController@index</code> æ–¹æ³•ï¼Œä»¥ä¼ é€’æ‰€æœ‰å·²æœ‰çš„ä»»åŠ¡åˆ°æ­¤è§†å›¾ä¸Šã€‚<code>view</code> å‡½æ•°æ¥æ”¶ä¸€ä¸ªèƒ½åœ¨è§†å›¾ä¸­å–ç”¨çš„æ•°æ®æ•°ç»„ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªé”®éƒ½ä¼šåœ¨è§†å›¾ä¸­ä½œä¸ºå˜é‡ã€‚å°±åƒè¿™æ ·:</p>
<pre><code>/**
 * æ˜¾ç¤ºç”¨æˆ·çš„æ‰€æœ‰ä»»åŠ¡æ¸…å•ã€‚
 *
 * @param  Request  $request
 * @return Response
 */
public function index(Request $request)
{
    $tasks = Task::where('user_id', $request-&gt;user()-&gt;id)-&gt;get();

    return view('tasks.index', [
        'tasks' =&gt; $tasks,
    ]);
}</code></pre>
<p>ä¸è¿‡ï¼Œè®©æˆ‘ä»¬å…ˆæ¥æ¢è®¨ä¸€äº› Laravel çš„ä¾èµ–æ³¨å…¥åŠŸèƒ½ï¼Œæ¥å°† <code>TaskRepository</code> æ³¨å…¥è‡³æˆ‘ä»¬çš„ <code>TaskController</code>ï¼Œæˆ‘ä»¬å°†ä¼šé€šè¿‡å®ƒæ¥è®¿é—®æ‰€æœ‰çš„æ•°æ®ã€‚</p>
<p><a name="dependency-injection"></a></p>
<h3>ä¾èµ–æ³¨å…¥</h3>
<p>Laravel çš„<a href="container.htm" tppabs="http://laravel-china.org/docs/5.1/container">æœåŠ¡å®¹å™¨</a>æ˜¯æ•´ä¸ªæ¡†æ¶ä¸­æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚åœ¨è¯»å®Œæœ¬å¿«é€Ÿä¸Šæ‰‹ä¹‹åï¼Œè¯·åŠ¡å¿…é˜…è¯»å®¹å™¨æ–‡æ¡£çš„å…¨éƒ¨å†…å®¹ã€‚</p>
<h4>åˆ›å»ºèµ„æºåº“</h4>
<p>å¦‚å‰é¢æ‰€æï¼Œæˆ‘ä»¬å¸Œæœ›å®šä¹‰ä¸€ä¸ª <code>TaskRepository</code> å­˜æ”¾æ‰€æœ‰ <code>Task</code> æ¨¡å‹çš„æ•°æ®è®¿é—®é€»è¾‘ã€‚å½“åº”ç”¨ç¨‹åºæ‰©å¢æ—¶ï¼Œåœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­å…±ç”¨åŒæ ·çš„ Eloquent æŸ¥æ‰¾å°†ä¼šæ˜¯ç›¸å½“æœ‰ç”¨çš„ã€‚</p>
<p>æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬å…ˆæ¥åˆ›å»ºä¸€ä¸ª <code>app/Repositories</code> ç›®å½•ï¼Œå¹¶å¢åŠ  <code>TaskRepository</code> ç±»ã€‚åˆ‡è®°ï¼ŒLaravel çš„ <code>app</code> ä¸­æ‰€æœ‰çš„æ–‡ä»¶å¤¹ä¼šè‡ªåŠ¨åŠ è½½å¹¶ä½¿ç”¨ PSR-4 è‡ªåŠ¨åŠ è½½æ ‡å‡†ï¼Œæ‰€ä»¥ä½ å¯ä»¥éšæ„åˆ›å»ºè®¸å¤šé¢å¤–ç›®å½•ã€‚</p>
<pre><code>&lt;?php

namespace App\Repositories;

use App\User;
use App\Task;

class TaskRepository
{
    /**
     * è·å–æŒ‡å®šç”¨æˆ·çš„æ‰€æœ‰ä»»åŠ¡ã€‚
     *
     * @param  User  $user
     * @return Collection
     */
    public function forUser(User $user)
    {
        return Task::where('user_id', $user-&gt;id)
                    -&gt;orderBy('created_at', 'asc')
                    -&gt;get();
    }
}</code></pre>
<h4>æ³¨å…¥èµ„æºåº“</h4>
<p>ä¸€æ—¦æˆ‘ä»¬çš„èµ„æºåº“å®šä¹‰å®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ <code>TaskController</code> æ§åˆ¶å™¨çš„æ„é€ å™¨ä¸­å¯¹å®ƒä½¿ç”¨ã€Œç±»å‹æç¤ºã€ï¼Œå¹¶åœ¨æˆ‘ä»¬çš„ <code>index</code> è·¯ç”±ä¸­ä½¿ç”¨å®ƒã€‚å› ä¸º Laravel ä½¿ç”¨å®¹å™¨æ¥è§£ææ‰€æœ‰çš„æ§åˆ¶å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ä¾èµ–ä¼šè‡ªåŠ¨è¢«æ³¨å…¥è‡³æ§åˆ¶å™¨çš„å®ä¾‹ä¸­ï¼š</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use App\Task;
use App\Http\Requests;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use App\Repositories\TaskRepository;

class TaskController extends Controller
{
    /**
     * ä»»åŠ¡èµ„æºåº“çš„å®ä¾‹ã€‚
     *
     * @var TaskRepository
     */
    protected $tasks;

    /**
     * åˆ›å»ºæ–°çš„æ§åˆ¶å™¨å®ä¾‹ã€‚
     *
     * @param  TaskRepository  $tasks
     * @return void
     */
    public function __construct(TaskRepository $tasks)
    {
        $this-&gt;middleware('auth');

        $this-&gt;tasks = $tasks;
    }

    /**
     * è·å–æŒ‡å®šç”¨æˆ·çš„æ‰€æœ‰ä»»åŠ¡ã€‚
     *
     * @param  Request  $request
     * @return Response
     */
    public function index(Request $request)
    {
        return view('tasks.index', [
            'tasks' =&gt; $this-&gt;tasks-&gt;forUser($request-&gt;user()),
        ]);
    }
}</code></pre>
<p><a name="displaying-the-tasks"></a></p>
<h3>æ˜¾ç¤ºä»»åŠ¡</h3>
<p>ä¸€æ—¦æ•°æ®è¢«ä¼ é€’ï¼Œæˆ‘ä»¬å°†åœ¨ <code>tasks/index.blade.php</code> è§†å›¾ä¸­å°†ä»»åŠ¡åˆ‡åˆ†å¹¶å°†å®ƒä»¬æ˜¾ç¤ºè‡³æ•°æ®åº“è¡¨ä¸­ã€‚<code>@foreach</code> å‘½ä»¤ç»“æ„è®©æˆ‘ä»¬å¯ä»¥ç¼–å†™ç®€æ´çš„å¾ªç¯è¯­å¥ï¼Œå¹¶ç¼–è¯‘æˆå¿«é€Ÿçš„çº¯ PHP ä»£ç ï¼š</p>
<pre><code>@extends('layouts.app')

@section('content')
    &lt;!-- åˆ›å»ºä»»åŠ¡è¡¨å•... --&gt;

    &lt;!-- ç›®å‰ä»»åŠ¡ --&gt;
    @if (count($tasks) &gt; 0)
        &lt;div class="panel panel-default"&gt;
            &lt;div class="panel-heading"&gt;
               ç›®å‰ä»»åŠ¡
            &lt;/div&gt;

            &lt;div class="panel-body"&gt;
                &lt;table class="table table-striped task-table"&gt;

                    &lt;!-- è¡¨å¤´ --&gt;
                    &lt;thead&gt;
                        &lt;th&gt;Task&lt;/th&gt;
                        &lt;th&gt;&amp;nbsp;&lt;/th&gt;
                    &lt;/thead&gt;

                    &lt;!-- è¡¨èº« --&gt;
                    &lt;tbody&gt;
                        @foreach ($tasks as $task)
                            &lt;tr&gt;
                                &lt;!-- ä»»åŠ¡åç§° --&gt;
                                &lt;td class="table-text"&gt;
                                    &lt;div&gt;{{ $task-&gt;name }}&lt;/div&gt;
                                &lt;/td&gt;

                                &lt;td&gt;
                                   &lt;!-- å¾…åŠï¼šåˆ é™¤æŒ‰é’® --&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                        @endforeach
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    @endif
@endsection</code></pre>
<p>æˆ‘ä»¬çš„ä»»åŠ¡åº”ç”¨å¤§éƒ¨åˆ†éƒ½å®Œæˆäº†ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬å®Œæˆå·²æœ‰çš„ä»»åŠ¡åï¼Œè¿˜æ²¡æœ‰ä»»ä½•æ–¹å¼å¯ä»¥åˆ é™¤å®ƒä»¬ã€‚æ¥ç€è®©æˆ‘ä»¬æ¥å¢åŠ æ­¤åŠŸèƒ½ï¼</p>
<p><a name="deleting-tasks"></a></p>
<h2>åˆ é™¤ä»»åŠ¡</h2>
<p><a name="adding-the-delete-button"></a></p>
<h3>å¢åŠ åˆ é™¤æŒ‰é’®</h3>
<p>æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­åº”è¯¥æ”¾åˆ é™¤æŒ‰é’®çš„åœ°æ–¹æ”¾äº†ã€Œå¾…åŠã€çš„æ³¨é‡Šã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬åœ¨ <code>tasks/index.blade.php</code> è§†å›¾ä¸­åˆ—å‡ºä»»åŠ¡çš„æ¯ä¸€è¡Œå¢åŠ ä¸€ä¸ªåˆ é™¤æŒ‰é’®ã€‚æˆ‘ä»¬ä¼šä¸ºåˆ—è¡¨ä¸­çš„æ¯ä¸ªä»»åŠ¡åˆ›å»ºä¸€ä¸ªåªæœ‰å•ä¸ªæŒ‰é’®çš„å°è¡¨å•ã€‚å½“æŒ‰é’®è¢«æŒ‰ä¸‹æ—¶ï¼Œä¸€ä¸ª <code>DELETE /task</code> çš„è¯·æ±‚å°†ä¼šè¢«å‘é€åˆ°åº”ç”¨ç¨‹åºï¼Œå®ƒä¼šè§¦å‘æˆ‘ä»¬çš„ <code>TaskController@destroy</code> æ–¹æ³•ï¼š</p>
<pre><code>&lt;tr&gt;
    &lt;!-- ä»»åŠ¡åç§° --&gt;
    &lt;td class="table-text"&gt;
        &lt;div&gt;{{ $task-&gt;name }}&lt;/div&gt;
    &lt;/td&gt;

    &lt;!-- åˆ é™¤æŒ‰é’® --&gt;
    &lt;td&gt;
        &lt;form action="/task/{{ $task-&gt;id }}" method="POST"&gt;
            {{ csrf_field() }}
            {{ method_field('DELETE') }}

            &lt;button&gt;åˆ é™¤ä»»åŠ¡&lt;/button&gt;
        &lt;/form&gt;
    &lt;/td&gt;
&lt;/tr&gt;</code></pre>
<p><a name="a-note-on-method-spoofing"></a></p>
<h4>æ–¹æ³•æ¬ºéª—çš„æ³¨è®°</h4>
<p>æ³¨æ„ï¼Œåˆ é™¤æŒ‰é’®çš„è¡¨å• <code>method</code> è¢«åˆ—ä¸º <code>POST</code>ï¼Œå³ä½¿æˆ‘ä»¬å“åº”çš„è¯·æ±‚ä½¿ç”¨äº† <code>Route::delete</code> è·¯ç”±ã€‚HTML è¡¨å•åªå…è®¸ <code>GET</code> åŠ <code>POST</code> HTTP åŠ¨è¯ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æœ‰ä¸ªæ–¹å¼åœ¨è¡¨å•å‡å†’ä¸€ä¸ª <code>DELETE</code> è¯·æ±‚ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨è¡¨å•ä¸­é€šè¿‡ <code>method_field('DELETE')</code> å‡½æ•°è¾“å‡ºçš„ç»“æœå‡å†’ä¸€ä¸ª <code>DELETE</code> è¯·æ±‚ã€‚æ­¤å‡½æ•°ä¼šç”Ÿæˆä¸€ä¸ªéšè—çš„è¡¨å•è¾“å…¥ï¼ŒLaravel ä¼šè¾¨è¯†å¹¶è¦†ç›–æ‰å®é™…ä½¿ç”¨çš„ HTTP è¯·æ±‚æ–¹æ³•ã€‚ç”Ÿæˆçš„å­—æ®µçœ‹èµ·æ¥å¦‚ä¸‹ï¼š</p>
<pre><code>&lt;input type="hidden" name="_method" value="DELETE"&gt;</code></pre>
<p><a name="route-model-binding"></a></p>
<h3>è·¯ç”±æ¨¡å‹ç»‘å®š</h3>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¤§è‡´ä¸Šå·²ç»å‡†å¤‡å¥½å®šä¹‰æˆ‘ä»¬ <code>TaskController</code> çš„ <code>destroy</code> æ–¹æ³•ã€‚ä½†æ˜¯é¦–å…ˆï¼Œè®©æˆ‘ä»¬é‡æ–°æ£€æŸ¥æˆ‘ä»¬ä¸ºå®ƒå£°æ˜çš„è·¯ç”±ï¼š</p>
<pre><code>Route::delete('/task/{task}', 'TaskController@destroy');</code></pre>
<p>æ— éœ€æ·»åŠ ä»»ä½•é¢å¤–çš„ä»£ç ï¼ŒLaravel ä¾¿ä¼šå°†æŒ‡å®šçš„ä»»åŠ¡ ID æ³¨å…¥è‡³ <code>TaskController@destroy</code> æ–¹æ³•ä¸­ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code>/**
 * Destroy the given task.
 *
 * @param  Request  $request
 * @param  string  $taskId
 * @return Response
 */
public function destroy(Request $request, $taskId)
{
    //
}</code></pre>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬è¦åœ¨è¿™ä¸ªæ–¹æ³•ä¸­åšçš„ç¬¬ä¸€ä»¶äº‹ï¼Œå°±æ˜¯é€šè¿‡æŒ‡å®šçš„ ID ä»æ•°æ®åº“ä¸­è·å– <code>Task</code> å®ä¾‹ã€‚æ‰€ä»¥ï¼Œå¦‚æœ Laravel å¯ä»¥å…ˆæ³¨å…¥ä¸ ID ç¬¦åˆçš„ <code>Task</code> å®ä¾‹ï¼Œé‚£å²‚ä¸æ˜¯å¾ˆæ£’ï¼Ÿè®©æˆ‘ä»¬æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼</p>
<p>åœ¨ä½ çš„ <code>app/Providers/RouteServiceProvider.php</code> æ–‡ä»¶çš„ <code>boot</code> æ–¹æ³•ä¸­ï¼Œå¢åŠ ä¸‹æ–¹è¿™è¡Œä»£ç ï¼š</p>
<pre><code>$router-&gt;model('task', 'App\Task');</code></pre>
<p>è¿™ä¸€å°è¡Œçš„ä»£ç ä¼šå‘ŠçŸ¥ Laravelï¼Œè‹¥åœ¨è·¯ç”±å£°æ˜ä¸­çœ‹è§ <code>{task}</code>ï¼Œå°±ä¼šè·å–ä¸æŒ‡å®š ID å¯¹åº”çš„ <code>Task</code> æ¨¡å‹ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥å®šä¹‰æˆ‘ä»¬çš„ destroy æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code>/**
 * å¸é™¤æŒ‡å®šçš„ä»»åŠ¡ã€‚
 *
 * @param  Request  $request
 * @param  Task  $task
 * @return Response
 */
public function destroy(Request $request, Task $task)
{
    //
}</code></pre>
<p><a name="authorization"></a></p>
<h3>è®¤è¯</h3>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ³¨å…¥è‡³ <code>destroy</code> æ–¹æ³•çš„ <code>Task</code> å®ä¾‹ï¼›ç„¶è€Œï¼Œæˆ‘ä»¬ä¸èƒ½ä¿è¯é€šè¿‡è®¤è¯çš„ç”¨æˆ·å®é™…ä¸Šã€Œæ‹¥æœ‰ã€æŒ‡å®šçš„ä»»åŠ¡ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªæ¶æ„çš„è¯·æ±‚å¯èƒ½é€šè¿‡ä¼ é€’ä¸€ä¸ªéšæœºä»»åŠ¡ ID è‡³ <code>/tasks/{task}</code> URLï¼Œä¼å›¾å°è¯•åˆ é™¤å…¶ä»–ç”¨æˆ·çš„ä»»åŠ¡ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ Laravel çš„æˆæƒåŠŸèƒ½ï¼Œä»¥ç¡®ä¿åªæœ‰å·²è®¤è¯çš„ç”¨æˆ·æ‰èƒ½æ³¨å…¥è·¯ç”±çš„ <code>Task</code> å®ä¾‹ã€‚</p>
<h4>åˆ›å»ºä¸€ä¸ªæˆæƒç­–ç•¥</h4>
<p>Laravel ä½¿ç”¨äº†ã€Œæˆæƒç­–ç•¥ã€å°†æˆæƒé€»è¾‘ç»„ç»‡è‡³ç®€å•ï¼Œå°å‹çš„ç±»ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ¯ä¸ªæˆæƒç­–ç•¥ä¼šå¯¹åº”è‡³ä¸€ä¸ªæ¨¡å‹ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ Artisan å‘½ä»¤è¡Œæ¥å£åˆ›å»ºä¸€ä¸ª <code>TaskPolicy</code>ï¼Œç”Ÿæˆçš„æ–‡ä»¶ä¼šè¢«æ”¾ç½®äº <code>app/Policies/TaskPolicy.php</code>ï¼š</p>
<pre><code>php artisan make:policy TaskPolicy</code></pre>
<p>æ¥ç€ï¼Œè®©æˆ‘ä»¬ç»™æˆæƒç­–ç•¥å¢åŠ ä¸€ä¸ª <code>destroy</code> æ–¹æ³•ã€‚æ­¤æ–¹æ³•ä¼šè·å–ä¸€ä¸ª <code>User</code> å®ä¾‹åŠä¸€ä¸ª <code>Task</code> å®ä¾‹ã€‚æ­¤æ–¹æ³•ä¼šç®€å•çš„æ£€æŸ¥å½“ç”¨æˆ·çš„ ID æ˜¯å¦ç¬¦åˆä»»åŠ¡çš„ <code>user_id</code>ã€‚å®é™…ä¸Šï¼Œæ‰€æœ‰çš„æˆæƒæ–¹æ³•éƒ½å¿…é¡»è¿”å› <code>true</code> æˆ– <code>false</code>ï¼š</p>
<pre><code>&lt;?php

namespace App\Policies;

use App\User;
use App\Task;
use Illuminate\Auth\Access\HandlesAuthorization;

class TaskPolicy
{
    use HandlesAuthorization;

    /**
     * åˆ¤æ–­æŒ‡å®šç”¨æˆ·æ˜¯å¦å¯ä»¥åˆ é™¤æŒ‡å®šçš„ä»»åŠ¡ã€‚
     *
     * @param  User  $user
     * @param  Task  $task
     * @return bool
     */
    public function destroy(User $user, Task $task)
    {
        return $user-&gt;id === $task-&gt;user_id;
    }
}</code></pre>
<p>æœ€åï¼Œæˆ‘ä»¬éœ€è¦å°† <code>Task</code> æ¨¡å‹ä¸ <code>TaskPolicy</code> è¿›è¡Œè¿æ¥ã€‚å¯ä»¥é€šè¿‡åœ¨ <code>app/Providers/AuthServiceProvider.php</code> æ–‡ä»¶å¢åŠ ä¸€è¡Œ <code>$policies</code> å±æ€§åšåˆ°è¿™ä»¶äº‹ã€‚è¿™ä¼šå‘ŠçŸ¥ Laravelï¼Œå½“æˆ‘ä»¬å°è¯•æˆæƒ <code>Task</code> å®ä¾‹çš„è¡Œä¸ºæ—¶è¯¥ç”¨å“ªä¸ªæˆæƒç­–ç•¥ï¼š</p>
<pre><code>/**
 * åº”ç”¨ç¨‹åºçš„æˆæƒç­–ç•¥å¯¹åº”ã€‚
 *
 * @var array
 */
protected $policies = [
    Task::class =&gt; TaskPolicy::class,
];</code></pre>
<h4>æˆæƒè¡Œä¸º</h4>
<p>ç°åœ¨æˆ‘ä»¬çš„æˆæƒç­–ç•¥å·²ç»ç¼–å†™å®Œæ¯•ï¼Œè®©æˆ‘ä»¬åœ¨ <code>destroy</code> æ–¹æ³•ä¸­ä½¿ç”¨å®ƒã€‚Laravel æ‰€æœ‰çš„æ§åˆ¶å™¨éƒ½å¯ä»¥è°ƒç”¨ä¸€ä¸ª <code>authorize</code> æ–¹æ³•ï¼Œå®ƒç”± <code>AuthorizesRequest</code> trait æ‰€æä¾›ï¼š</p>
<pre><code>/**
 * å¸é™¤æŒ‡å®šçš„ä»»åŠ¡ã€‚
 *
 * @param  Request  $request
 * @param  Task  $task
 * @return Response
 */
public function destroy(Request $request, Task $task)
{
    $this-&gt;authorize('destroy', $task);

    // åˆ é™¤è¯¥ä»»åŠ¡...
}</code></pre>
<p>è®©æˆ‘ä»¬èŠ±ç‚¹æ—¶é—´çœ‹çœ‹æ­¤æ–¹æ³•çš„è°ƒç”¨ã€‚ä¼ é€’è‡³ <code>authorize</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æˆ‘ä»¬å¸Œæœ›è°ƒç”¨çš„æˆæƒç­–ç•¥æ–¹æ³•åç§°ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯æˆ‘ä»¬ç›®å‰æœ‰å…³çš„æ¨¡å‹å®ä¾‹ã€‚åˆ‡è®°ï¼Œæˆ‘ä»¬å·²ç»å‘Šè¯‰ Laravel æˆ‘ä»¬çš„ <code>Task</code> æ¨¡å‹ä¼šå¯¹åº”è‡³æˆ‘ä»¬çš„ <code>TaskPolicy</code>ï¼Œæ‰€ä»¥æ¡†æ¶ä¼šçŸ¥é“è¯¥è§¦å‘å“ªä¸ªæˆæƒç­–ç•¥çš„ <code>destroy</code> æ–¹æ³•ã€‚å½“å‰ç”¨æˆ·ä¼šè¢«è‡ªåŠ¨å‘é€è‡³æˆæƒæ–¹æ³•ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¿…åœ¨æ­¤æ‰‹åŠ¨ä¼ é€’å®ƒã€‚</p>
<p>å¦‚æœè¯¥è¡Œä¸ºè¢«æˆæƒäº†ï¼Œæˆ‘ä»¬çš„ä»£ç å°±ä¼šç»§ç»­æ­£å¸¸è¿è¡Œã€‚ä½†æ˜¯ï¼Œå¦‚æœè¯¥è¡Œä¸ºä¸è¢«æˆæƒï¼ˆæ„æŒ‡æˆæƒç­–ç•¥çš„ <code>destroy</code> æ–¹æ³•è¿”å› <code>false</code>ï¼‰ï¼Œå°±ä¼šè‡ªåŠ¨è¢«æŠ›å‡ºä¸€ä¸ª 403 å¼‚å¸¸å¹¶å°†é”™è¯¯é¡µé¢æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>Laravel æä¾›çš„æˆæƒæœåŠ¡è¿˜æœ‰å¾ˆå¤šç§å…¶å®ƒçš„æ–¹å¼å¯ä¾›äº¤äº’ã€‚è¯·åŠ¡å¿…æµè§ˆå®Œæ•´çš„<a href="authorization.htm" tppabs="http://laravel-china.org/docs/5.1/authorization">æˆæƒæ–‡æ¡£</a>ã€‚</p>
</blockquote>
<p><a name="deleting-the-task"></a></p>
<h3>åˆ é™¤è¯¥ä»»åŠ¡</h3>
<p>æœ€åï¼Œè®©æˆ‘ä»¬å®Œæˆå¢åŠ é€»è¾‘è‡³æˆ‘ä»¬çš„ <code>destroy</code> æ–¹æ³•æ¥å®é™…åˆ é™¤æŒ‡å®šçš„ä»»åŠ¡ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Eloquent çš„ <code>delete</code> æ–¹æ³•ä»æ•°æ®åº“ä¸­åˆ é™¤æŒ‡å®šçš„æ¨¡å‹å®ä¾‹ã€‚ä¸€æ—¦è®°å½•è¢«åˆ é™¤ï¼Œæˆ‘ä»¬å°†ä¼šæŠŠç”¨æˆ·é‡å®šå‘å› <code>tasks</code> URLï¼š</p>
<pre><code>/**
 * åˆ é™¤æŒ‡å®šçš„ä»»åŠ¡ã€‚
 *
 * @param  Request  $request
 * @param  Task  $task
 * @return Response
 */
public function destroy(Request $request, Task $task)
{
    $this-&gt;authorize('destroy', $task);

    $task-&gt;delete();

    return redirect('/tasks');
}</code></pre>
		</div>

		<div class="main-footer" style="border-top:1px dashed rgba(0, 0, 0, 0.1);padding-top: 30px;margin-top:30px;margin-bottom: 20px;">
			<div class="prev-next-wrap clearfix">

									<a class="btn btn-default pull-left" href="quickstart.htm" tppabs="http://laravel-china.org/docs/5.1/quickstart"><i class="fa fa-arrow-left"></i> åˆçº§ä»»åŠ¡æ¸…å•</a>
				
			    &nbsp;
								    <a class="btn btn-default pull-right" href="lifecycle.htm" tppabs="http://laravel-china.org/docs/5.1/lifecycle">è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸ <i class="fa fa-arrow-right"></i></a>
							</div>
		</div>

	</article>
</div>

		<footer class="main">
			<ul>
				<li class="nav-docs"><a href="javascript:if(confirm('http://laravel-china.org/docs  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://laravel-china.org/docs'" tppabs="http://laravel-china.org/docs">æ–‡æ¡£</a></li>
<li class="nav-laracasts"><a href="javascript:if(confirm('https://laracasts.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://laracasts.com/'" tppabs="https://laracasts.com/" target="_blank">Laracasts</a></li>
<li class="nav-docs"><a href="javascript:if(confirm('http://lumen.laravel-china.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://lumen.laravel-china.org/'" tppabs="http://lumen.laravel-china.org/">Lumen</a></li>
<li class="nav-forge"><a href="javascript:if(confirm('https://cs.phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://cs.phphub.org/'" tppabs="https://cs.phphub.org/" target="_blank">Laravel LTS é€ŸæŸ¥è¡¨</a></li>
<li class="dropdown">
	<a href="javascript:if(confirm('https://phphub.org/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ÊÇÒ»¸öÊ¹ÓÃÎ´Ö§³ÖĞ­ÒéµÄµØÖ·(ÀıÈç: gopher)¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='https://phphub.org/'" tppabs="https://phphub.org/" target="_blank">Laravel ç¤¾åŒº</a>
</li>
			</ul>
			<p>Laravel is a trademark of Taylor Otwell. Copyright &copy; Taylor Otwell.</p>
			<p class="less-significant"><a href="javascript:if(confirm('http://jackmcdade.com/  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://jackmcdade.com/'" tppabs="http://jackmcdade.com/">Design by Jack McDade</a></p>

			<p class="less-significant">
				<a href="javascript:if(confirm('http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao  \n\n¸ÃÎÄ¼şÎ´±» Teleport Pro ÏÂÔØ£¬ÒòÎª ËüÎ»ÓÚÆğÊ¼µØÖ·ÒÔÉèÖÃµÄ±ß½çÒÔÍâµÄÓò»òÂ·¾¶ÖĞ¡£  \n\nÄãÏëÒª´Ó·şÎñÆ÷´ò¿ªËüÂğ?'))window.location='http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao'" tppabs="http://www.ucloud.cn/?utm_source=zanzhu&utm_campaign=phphub&utm_medium=display&utm_content=yejiao&ytag=phphubyejiao" target="_blank">ç”± UCloud èµåŠ©  <img src="dYfOYswiQY.png" tppabs="https://dn-phphub.qbox.me/uploads/images/201605/03/1/dYfOYswiQY.png" width="98" data-toggle="tooltip" data-placement="top" title="æœ¬ç«™æœåŠ¡å™¨ç”± UCloud èµåŠ©"></a>.
		      </p>
		</footer>

	</div>

	<script src="laravel.js" tppabs="http://laravel-china.org/assets/js/laravel.js"></script>
	<script src="viewport-units-buggyfill.js" tppabs="http://laravel-china.org/assets/js/viewport-units-buggyfill.js"></script>
	<script>window.viewportUnitsBuggyfill.init();</script>
    <script>

		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','analytics.js'/*tpa=http://7xijlf.com2.z0.glb.qiniucdn.com/js/analytics.js*/,'ga');

		ga('create', 'UA-53903425-7', 'auto');
		ga('send', 'pageview');

		$(window).load(function() {
		  // When the page has loaded
		  $(".main-content").fadeIn(10);
		});
    </script>
</body>
</html>
